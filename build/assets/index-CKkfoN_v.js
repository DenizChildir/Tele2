var Cf=Object.defineProperty;var xf=(e,t,n)=>t in e?Cf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fs=(e,t,n)=>xf(e,typeof t!="symbol"?t+"":t,n);function kf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ju={exports:{}},Gi={},_u={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=Symbol.for("react.element"),Nf=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),Df=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Pf=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),ql=Symbol.iterator;function Of(e){return e===null||typeof e!="object"?null:(e=ql&&e[ql]||e["@@iterator"],typeof e=="function"?e:null)}var Tu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,Du={};function Ln(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Tu}Ln.prototype.isReactComponent={};Ln.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ln.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ru(){}Ru.prototype=Ln.prototype;function Go(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Tu}var Ko=Go.prototype=new Ru;Ko.constructor=Go;Mu(Ko,Ln.prototype);Ko.isPureReactComponent=!0;var bl=Array.isArray,Iu=Object.prototype.hasOwnProperty,Yo={current:null},Pu={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Iu.call(t,r)&&!Pu.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Dr,type:e,key:s,ref:o,props:i,_owner:Yo.current}}function Ff(e,t){return{$$typeof:Dr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dr}function Lf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ea=/\/+/g;function ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lf(""+e.key):t.toString(36)}function ti(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dr:case Nf:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ps(o,0):r,bl(i)?(n="",e!=null&&(n=e.replace(ea,"$&/")+"/"),ti(i,t,n,"",function(c){return c})):i!=null&&(Jo(i)&&(i=Ff(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ea,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",bl(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+ps(s,l);o+=ti(s,t,n,a,i)}else if(a=Of(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+ps(s,l++),o+=ti(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lr(e,t,n){if(e==null)return e;var r=[],i=0;return ti(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Uf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},ni={transition:null},$f={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ni,ReactCurrentOwner:Yo};function Ou(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Lr,forEach:function(e,t,n){Lr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lr(e,function(){t++}),t},toArray:function(e){return Lr(e,function(t){return t})||[]},only:function(e){if(!Jo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Ln;W.Fragment=jf;W.Profiler=Tf;W.PureComponent=Go;W.StrictMode=_f;W.Suspense=If;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$f;W.act=Ou;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Mu({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Yo.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Iu.call(t,a)&&!Pu.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Dr,type:e.type,key:i,ref:s,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:Df,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mf,_context:e},e.Consumer=e};W.createElement=zu;W.createFactory=function(e){var t=zu.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Rf,render:e}};W.isValidElement=Jo;W.lazy=function(e){return{$$typeof:zf,_payload:{_status:-1,_result:e},_init:Uf}};W.memo=function(e,t){return{$$typeof:Pf,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ni.transition;ni.transition={};try{e()}finally{ni.transition=t}};W.unstable_act=Ou;W.useCallback=function(e,t){return Ce.current.useCallback(e,t)};W.useContext=function(e){return Ce.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ce.current.useEffect(e,t)};W.useId=function(){return Ce.current.useId()};W.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ce.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};W.useRef=function(e){return Ce.current.useRef(e)};W.useState=function(e){return Ce.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Ce.current.useTransition()};W.version="18.3.1";_u.exports=W;var I=_u.exports;const Xo=Ef(I),ta=kf({__proto__:null,default:Xo},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=I,Wf=Symbol.for("react.element"),Hf=Symbol.for("react.fragment"),Bf=Object.prototype.hasOwnProperty,Vf=Af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qf={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Bf.call(t,r)&&!Qf.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Wf,type:e,key:s,ref:o,props:i,_owner:Vf.current}}Gi.Fragment=Hf;Gi.jsx=Fu;Gi.jsxs=Fu;ju.exports=Gi;var u=ju.exports,Qs={},Lu={exports:{}},Fe={},Uu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,O){var L=M.length;M.push(O);e:for(;0<L;){var K=L-1>>>1,G=M[K];if(0<i(G,O))M[K]=O,M[L]=G,L=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var O=M[0],L=M.pop();if(L!==O){M[0]=L;e:for(var K=0,G=M.length,Ct=G>>>1;K<Ct;){var ot=2*(K+1)-1,An=M[ot],lt=ot+1,un=M[lt];if(0>i(An,L))lt<G&&0>i(un,An)?(M[K]=un,M[lt]=L,K=lt):(M[K]=An,M[ot]=L,K=ot);else if(lt<G&&0>i(un,L))M[K]=un,M[lt]=L,K=lt;else break e}}return O}function i(M,O){var L=M.sortIndex-O.sortIndex;return L!==0?L:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],f=1,m=null,p=3,y=!1,w=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(M){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=M)r(c),O.sortIndex=O.expirationTime,t(a,O);else break;O=n(c)}}function x(M){if(k=!1,h(M),!w)if(n(a)!==null)w=!0,B(j);else{var O=n(c);O!==null&&F(x,O.startTime-M)}}function j(M,O){w=!1,k&&(k=!1,g(v),v=-1),y=!0;var L=p;try{for(h(O),m=n(a);m!==null&&(!(m.expirationTime>O)||M&&!$());){var K=m.callback;if(typeof K=="function"){m.callback=null,p=m.priorityLevel;var G=K(m.expirationTime<=O);O=e.unstable_now(),typeof G=="function"?m.callback=G:m===n(a)&&r(a),h(O)}else r(a);m=n(a)}if(m!==null)var Ct=!0;else{var ot=n(c);ot!==null&&F(x,ot.startTime-O),Ct=!1}return Ct}finally{m=null,p=L,y=!1}}var S=!1,C=null,v=-1,T=5,D=-1;function $(){return!(e.unstable_now()-D<T)}function A(){if(C!==null){var M=e.unstable_now();D=M;var O=!0;try{O=C(!0,M)}finally{O?re():(S=!1,C=null)}}else S=!1}var re;if(typeof d=="function")re=function(){d(A)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,U=P.port2;P.port1.onmessage=A,re=function(){U.postMessage(null)}}else re=function(){N(A,0)};function B(M){C=M,S||(S=!0,re())}function F(M,O){v=N(function(){M(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,B(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var L=p;p=O;try{return M()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=p;p=M;try{return O()}finally{p=L}},e.unstable_scheduleCallback=function(M,O,L){var K=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?K+L:K):L=K,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=L+G,M={id:f++,callback:O,priorityLevel:M,startTime:L,expirationTime:G,sortIndex:-1},L>K?(M.sortIndex=L,t(c,M),n(a)===null&&M===n(c)&&(k?(g(v),v=-1):k=!0,F(x,L-K))):(M.sortIndex=G,t(a,M),w||y||(w=!0,B(j))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var O=p;return function(){var L=p;p=O;try{return M.apply(this,arguments)}finally{p=L}}}})($u);Uu.exports=$u;var Gf=Uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=I,Pe=Gf;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Au=new Set,cr={};function ln(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(cr[e]=t,e=0;e<t.length;e++)Au.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=Object.prototype.hasOwnProperty,Yf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,na={},ra={};function Jf(e){return Gs.call(ra,e)?!0:Gs.call(na,e)?!1:Yf.test(e)?ra[e]=!0:(na[e]=!0,!1)}function Xf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zf(e,t,n,r){if(t===null||typeof t>"u"||Xf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zo=/[\-:]([a-z])/g;function qo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zo,qo);me[t]=new xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zo,qo);me[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zo,qo);me[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function bo(e,t,n,r){var i=me.hasOwnProperty(t)?me[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zf(t,n,i,r)&&(n=null),r||i===null?Jf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var St=Kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ur=Symbol.for("react.element"),dn=Symbol.for("react.portal"),fn=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),Ks=Symbol.for("react.profiler"),Wu=Symbol.for("react.provider"),Hu=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Ys=Symbol.for("react.suspense"),Js=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Bu=Symbol.for("react.offscreen"),ia=Symbol.iterator;function Wn(e){return e===null||typeof e!="object"?null:(e=ia&&e[ia]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,ms;function Jn(e){if(ms===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ms=t&&t[1]||""}return`
`+ms+e}var hs=!1;function gs(e,t){if(!e||hs)return"";hs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{hs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jn(e):""}function qf(e){switch(e.tag){case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 2:case 15:return e=gs(e.type,!1),e;case 11:return e=gs(e.type.render,!1),e;case 1:return e=gs(e.type,!0),e;default:return""}}function Xs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fn:return"Fragment";case dn:return"Portal";case Ks:return"Profiler";case el:return"StrictMode";case Ys:return"Suspense";case Js:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hu:return(e.displayName||"Context")+".Consumer";case Wu:return(e._context.displayName||"Context")+".Provider";case tl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nl:return t=e.displayName||null,t!==null?t:Xs(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return Xs(e(t))}catch{}}return null}function bf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xs(t);case 8:return t===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ep(e){var t=Vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $r(e){e._valueTracker||(e._valueTracker=ep(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zs(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Lt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gu(e,t){t=t.checked,t!=null&&bo(e,"checked",t,!1)}function qs(e,t){Gu(e,t);var n=Lt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bs(e,t.type,n):t.hasOwnProperty("defaultValue")&&bs(e,t.type,Lt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bs(e,t,n){(t!=="number"||yi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xn=Array.isArray;function kn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Lt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function la(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Xn(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Lt(n)}}function Ku(e,t){var n=Lt(t.value),r=Lt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function aa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function to(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ar,Ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ar.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tp=["Webkit","ms","Moz","O"];Object.keys(er).forEach(function(e){tp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),er[t]=er[e]})});function Xu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||er.hasOwnProperty(e)&&er[e]?(""+t).trim():t+"px"}function Zu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var np=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function no(e,t){if(t){if(np[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function ro(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var so=null,En=null,Nn=null;function ua(e){if(e=Pr(e)){if(typeof so!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Zi(t),so(e.stateNode,e.type,t))}}function qu(e){En?Nn?Nn.push(e):Nn=[e]:En=e}function bu(){if(En){var e=En,t=Nn;if(Nn=En=null,ua(e),t)for(e=0;e<t.length;e++)ua(t[e])}}function ec(e,t){return e(t)}function tc(){}var ys=!1;function nc(e,t,n){if(ys)return e(t,n);ys=!0;try{return ec(e,t,n)}finally{ys=!1,(En!==null||Nn!==null)&&(tc(),bu())}}function fr(e,t){var n=e.stateNode;if(n===null)return null;var r=Zi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var oo=!1;if(ht)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{oo=!1}function rp(e,t,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var tr=!1,vi=null,wi=!1,lo=null,ip={onError:function(e){tr=!0,vi=e}};function sp(e,t,n,r,i,s,o,l,a){tr=!1,vi=null,rp.apply(ip,arguments)}function op(e,t,n,r,i,s,o,l,a){if(sp.apply(this,arguments),tr){if(tr){var c=vi;tr=!1,vi=null}else throw Error(E(198));wi||(wi=!0,lo=c)}}function an(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ca(e){if(an(e)!==e)throw Error(E(188))}function lp(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ca(i),e;if(s===r)return ca(i),t;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function ic(e){return e=lp(e),e!==null?sc(e):null}function sc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sc(e);if(t!==null)return t;e=e.sibling}return null}var oc=Pe.unstable_scheduleCallback,da=Pe.unstable_cancelCallback,ap=Pe.unstable_shouldYield,up=Pe.unstable_requestPaint,se=Pe.unstable_now,cp=Pe.unstable_getCurrentPriorityLevel,il=Pe.unstable_ImmediatePriority,lc=Pe.unstable_UserBlockingPriority,Si=Pe.unstable_NormalPriority,dp=Pe.unstable_LowPriority,ac=Pe.unstable_IdlePriority,Ki=null,rt=null;function fp(e){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Ki,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:hp,pp=Math.log,mp=Math.LN2;function hp(e){return e>>>=0,e===0?32:31-(pp(e)/mp|0)|0}var Wr=64,Hr=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Zn(l):(s&=o,s!==0&&(r=Zn(s)))}else o=n&~i,o!==0?r=Zn(o):s!==0&&(r=Zn(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xe(t),i=1<<n,r|=e[n],t&=~i;return r}function gp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Xe(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=gp(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ao(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uc(){var e=Wr;return Wr<<=1,!(Wr&4194240)&&(Wr=64),e}function vs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=n}function vp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Xe(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function sl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Q=0;function cc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dc,ol,fc,pc,mc,uo=!1,Br=[],Mt=null,Dt=null,Rt=null,pr=new Map,mr=new Map,Nt=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fa(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(t.pointerId)}}function Bn(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Pr(t),t!==null&&ol(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sp(e,t,n,r,i){switch(t){case"focusin":return Mt=Bn(Mt,e,t,n,r,i),!0;case"dragenter":return Dt=Bn(Dt,e,t,n,r,i),!0;case"mouseover":return Rt=Bn(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return pr.set(s,Bn(pr.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mr.set(s,Bn(mr.get(s)||null,e,t,n,r,i)),!0}return!1}function hc(e){var t=Kt(e.target);if(t!==null){var n=an(t);if(n!==null){if(t=n.tag,t===13){if(t=rc(n),t!==null){e.blockedOn=t,mc(e.priority,function(){fc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);io=r,n.target.dispatchEvent(r),io=null}else return t=Pr(n),t!==null&&ol(t),e.blockedOn=n,!1;t.shift()}return!0}function pa(e,t,n){ri(e)&&n.delete(t)}function Cp(){uo=!1,Mt!==null&&ri(Mt)&&(Mt=null),Dt!==null&&ri(Dt)&&(Dt=null),Rt!==null&&ri(Rt)&&(Rt=null),pr.forEach(pa),mr.forEach(pa)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,uo||(uo=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,Cp)))}function hr(e){function t(i){return Vn(i,e)}if(0<Br.length){Vn(Br[0],e);for(var n=1;n<Br.length;n++){var r=Br[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&Vn(Mt,e),Dt!==null&&Vn(Dt,e),Rt!==null&&Vn(Rt,e),pr.forEach(t),mr.forEach(t),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)hc(n),n.blockedOn===null&&Nt.shift()}var jn=St.ReactCurrentBatchConfig,xi=!0;function xp(e,t,n,r){var i=Q,s=jn.transition;jn.transition=null;try{Q=1,ll(e,t,n,r)}finally{Q=i,jn.transition=s}}function kp(e,t,n,r){var i=Q,s=jn.transition;jn.transition=null;try{Q=4,ll(e,t,n,r)}finally{Q=i,jn.transition=s}}function ll(e,t,n,r){if(xi){var i=co(e,t,n,r);if(i===null)Ts(e,t,r,ki,n),fa(e,r);else if(Sp(i,e,t,n,r))r.stopPropagation();else if(fa(e,r),t&4&&-1<wp.indexOf(e)){for(;i!==null;){var s=Pr(i);if(s!==null&&dc(s),s=co(e,t,n,r),s===null&&Ts(e,t,r,ki,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ts(e,t,r,null,n)}}var ki=null;function co(e,t,n,r){if(ki=null,e=rl(r),e=Kt(e),e!==null)if(t=an(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ki=e,null}function gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cp()){case il:return 1;case lc:return 4;case Si:case dp:return 16;case ac:return 536870912;default:return 16}default:return 16}}var _t=null,al=null,ii=null;function yc(){if(ii)return ii;var e,t=al,n=t.length,r,i="value"in _t?_t.value:_t.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ii=i.slice(e,1<r?1-r:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function ma(){return!1}function Le(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vr:ma,this.isPropagationStopped=ma,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Le(Un),Ir=te({},Un,{view:0,detail:0}),Ep=Le(Ir),ws,Ss,Qn,Yi=te({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(ws=e.screenX-Qn.screenX,Ss=e.screenY-Qn.screenY):Ss=ws=0,Qn=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),ha=Le(Yi),Np=te({},Yi,{dataTransfer:0}),jp=Le(Np),_p=te({},Ir,{relatedTarget:0}),Cs=Le(_p),Tp=te({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=Le(Tp),Dp=te({},Un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rp=Le(Dp),Ip=te({},Un,{data:0}),ga=Le(Ip),Pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Op[e])?!!t[e]:!1}function cl(){return Fp}var Lp=te({},Ir,{key:function(e){if(e.key){var t=Pp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Up=Le(Lp),$p=te({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ya=Le($p),Ap=te({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),Wp=Le(Ap),Hp=te({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bp=Le(Hp),Vp=te({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qp=Le(Vp),Gp=[9,13,27,32],dl=ht&&"CompositionEvent"in window,nr=null;ht&&"documentMode"in document&&(nr=document.documentMode);var Kp=ht&&"TextEvent"in window&&!nr,vc=ht&&(!dl||nr&&8<nr&&11>=nr),va=" ",wa=!1;function wc(e,t){switch(e){case"keyup":return Gp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function Yp(e,t){switch(e){case"compositionend":return Sc(t);case"keypress":return t.which!==32?null:(wa=!0,va);case"textInput":return e=t.data,e===va&&wa?null:e;default:return null}}function Jp(e,t){if(pn)return e==="compositionend"||!dl&&wc(e,t)?(e=yc(),ii=al=_t=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vc&&t.locale!=="ko"?null:t.data;default:return null}}var Xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xp[e.type]:t==="textarea"}function Cc(e,t,n,r){qu(r),t=Ei(t,"onChange"),0<t.length&&(n=new ul("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rr=null,gr=null;function Zp(e){Ic(e,0)}function Ji(e){var t=gn(e);if(Qu(t))return e}function qp(e,t){if(e==="change")return t}var xc=!1;if(ht){var xs;if(ht){var ks="oninput"in document;if(!ks){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),ks=typeof Ca.oninput=="function"}xs=ks}else xs=!1;xc=xs&&(!document.documentMode||9<document.documentMode)}function xa(){rr&&(rr.detachEvent("onpropertychange",kc),gr=rr=null)}function kc(e){if(e.propertyName==="value"&&Ji(gr)){var t=[];Cc(t,gr,e,rl(e)),nc(Zp,t)}}function bp(e,t,n){e==="focusin"?(xa(),rr=t,gr=n,rr.attachEvent("onpropertychange",kc)):e==="focusout"&&xa()}function em(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji(gr)}function tm(e,t){if(e==="click")return Ji(t)}function nm(e,t){if(e==="input"||e==="change")return Ji(t)}function rm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:rm;function yr(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gs.call(t,i)||!qe(e[i],t[i]))return!1}return!0}function ka(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ea(e,t){var n=ka(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ka(n)}}function Ec(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ec(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nc(){for(var e=window,t=yi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yi(e.document)}return t}function fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function im(e){var t=Nc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ec(n.ownerDocument.documentElement,n)){if(r!==null&&fl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ea(n,s);var o=Ea(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sm=ht&&"documentMode"in document&&11>=document.documentMode,mn=null,fo=null,ir=null,po=!1;function Na(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;po||mn==null||mn!==yi(r)||(r=mn,"selectionStart"in r&&fl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&yr(ir,r)||(ir=r,r=Ei(fo,"onSelect"),0<r.length&&(t=new ul("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function Qr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hn={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionend:Qr("Transition","TransitionEnd")},Es={},jc={};ht&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);function Xi(e){if(Es[e])return Es[e];if(!hn[e])return e;var t=hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jc)return Es[e]=t[n];return e}var _c=Xi("animationend"),Tc=Xi("animationiteration"),Mc=Xi("animationstart"),Dc=Xi("transitionend"),Rc=new Map,ja="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(e,t){Rc.set(e,t),ln(t,[e])}for(var Ns=0;Ns<ja.length;Ns++){var js=ja[Ns],om=js.toLowerCase(),lm=js[0].toUpperCase()+js.slice(1);At(om,"on"+lm)}At(_c,"onAnimationEnd");At(Tc,"onAnimationIteration");At(Mc,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(Dc,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),am=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function _a(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,op(r,t,void 0,e),e.currentTarget=null}function Ic(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;_a(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;_a(i,l,c),s=a}}}if(wi)throw e=lo,wi=!1,lo=null,e}function X(e,t){var n=t[vo];n===void 0&&(n=t[vo]=new Set);var r=e+"__bubble";n.has(r)||(Pc(t,e,2,!1),n.add(r))}function _s(e,t,n){var r=0;t&&(r|=4),Pc(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function vr(e){if(!e[Gr]){e[Gr]=!0,Au.forEach(function(n){n!=="selectionchange"&&(am.has(n)||_s(n,!1,e),_s(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,_s("selectionchange",!1,t))}}function Pc(e,t,n,r){switch(gc(t)){case 1:var i=xp;break;case 4:i=kp;break;default:i=ll}n=i.bind(null,t,n,e),i=void 0,!oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ts(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Kt(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}nc(function(){var c=s,f=rl(n),m=[];e:{var p=Rc.get(e);if(p!==void 0){var y=ul,w=e;switch(e){case"keypress":if(si(n)===0)break e;case"keydown":case"keyup":y=Up;break;case"focusin":w="focus",y=Cs;break;case"focusout":w="blur",y=Cs;break;case"beforeblur":case"afterblur":y=Cs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Wp;break;case _c:case Tc:case Mc:y=Mp;break;case Dc:y=Bp;break;case"scroll":y=Ep;break;case"wheel":y=Qp;break;case"copy":case"cut":case"paste":y=Rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ya}var k=(t&4)!==0,N=!k&&e==="scroll",g=k?p!==null?p+"Capture":null:p;k=[];for(var d=c,h;d!==null;){h=d;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,g!==null&&(x=fr(d,g),x!=null&&k.push(wr(d,x,h)))),N)break;d=d.return}0<k.length&&(p=new y(p,w,null,n,f),m.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==io&&(w=n.relatedTarget||n.fromElement)&&(Kt(w)||w[gt]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?Kt(w):null,w!==null&&(N=an(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(k=ha,x="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=ya,x="onPointerLeave",g="onPointerEnter",d="pointer"),N=y==null?p:gn(y),h=w==null?p:gn(w),p=new k(x,d+"leave",y,n,f),p.target=N,p.relatedTarget=h,x=null,Kt(f)===c&&(k=new k(g,d+"enter",w,n,f),k.target=h,k.relatedTarget=N,x=k),N=x,y&&w)t:{for(k=y,g=w,d=0,h=k;h;h=cn(h))d++;for(h=0,x=g;x;x=cn(x))h++;for(;0<d-h;)k=cn(k),d--;for(;0<h-d;)g=cn(g),h--;for(;d--;){if(k===g||g!==null&&k===g.alternate)break t;k=cn(k),g=cn(g)}k=null}else k=null;y!==null&&Ta(m,p,y,k,!1),w!==null&&N!==null&&Ta(m,N,w,k,!0)}}e:{if(p=c?gn(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=qp;else if(Sa(p))if(xc)j=nm;else{j=em;var S=bp}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=tm);if(j&&(j=j(e,c))){Cc(m,j,n,f);break e}S&&S(e,p,c),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&bs(p,"number",p.value)}switch(S=c?gn(c):window,e){case"focusin":(Sa(S)||S.contentEditable==="true")&&(mn=S,fo=c,ir=null);break;case"focusout":ir=fo=mn=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,Na(m,n,f);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":Na(m,n,f)}var C;if(dl)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else pn?wc(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(vc&&n.locale!=="ko"&&(pn||v!=="onCompositionStart"?v==="onCompositionEnd"&&pn&&(C=yc()):(_t=f,al="value"in _t?_t.value:_t.textContent,pn=!0)),S=Ei(c,v),0<S.length&&(v=new ga(v,e,null,n,f),m.push({event:v,listeners:S}),C?v.data=C:(C=Sc(n),C!==null&&(v.data=C)))),(C=Kp?Yp(e,n):Jp(e,n))&&(c=Ei(c,"onBeforeInput"),0<c.length&&(f=new ga("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=C))}Ic(m,t)})}function wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ei(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fr(e,n),s!=null&&r.unshift(wr(e,s,i)),s=fr(e,t),s!=null&&r.push(wr(e,s,i))),e=e.return}return r}function cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ta(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=fr(n,s),a!=null&&o.unshift(wr(n,a,l))):i||(a=fr(n,s),a!=null&&o.push(wr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var um=/\r\n?/g,cm=/\u0000|\uFFFD/g;function Ma(e){return(typeof e=="string"?e:""+e).replace(um,`
`).replace(cm,"")}function Kr(e,t,n){if(t=Ma(t),Ma(e)!==t&&n)throw Error(E(425))}function Ni(){}var mo=null,ho=null;function go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yo=typeof setTimeout=="function"?setTimeout:void 0,dm=typeof clearTimeout=="function"?clearTimeout:void 0,Da=typeof Promise=="function"?Promise:void 0,fm=typeof queueMicrotask=="function"?queueMicrotask:typeof Da<"u"?function(e){return Da.resolve(null).then(e).catch(pm)}:yo;function pm(e){setTimeout(function(){throw e})}function Ms(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hr(t)}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ra(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $n=Math.random().toString(36).slice(2),nt="__reactFiber$"+$n,Sr="__reactProps$"+$n,gt="__reactContainer$"+$n,vo="__reactEvents$"+$n,mm="__reactListeners$"+$n,hm="__reactHandles$"+$n;function Kt(e){var t=e[nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gt]||n[nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ra(e);e!==null;){if(n=e[nt])return n;e=Ra(e)}return t}e=n,n=e.parentNode}return null}function Pr(e){return e=e[nt]||e[gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Zi(e){return e[Sr]||null}var wo=[],yn=-1;function Wt(e){return{current:e}}function Z(e){0>yn||(e.current=wo[yn],wo[yn]=null,yn--)}function J(e,t){yn++,wo[yn]=e.current,e.current=t}var Ut={},ve=Wt(Ut),je=Wt(!1),bt=Ut;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _e(e){return e=e.childContextTypes,e!=null}function ji(){Z(je),Z(ve)}function Ia(e,t,n){if(ve.current!==Ut)throw Error(E(168));J(ve,t),J(je,n)}function zc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(E(108,bf(e)||"Unknown",i));return te({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,bt=ve.current,J(ve,e),J(je,je.current),!0}function Pa(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=zc(e,t,bt),r.__reactInternalMemoizedMergedChildContext=e,Z(je),Z(ve),J(ve,e)):Z(je),J(je,n)}var ct=null,qi=!1,Ds=!1;function Oc(e){ct===null?ct=[e]:ct.push(e)}function gm(e){qi=!0,Oc(e)}function Ht(){if(!Ds&&ct!==null){Ds=!0;var e=0,t=Q;try{var n=ct;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ct=null,qi=!1}catch(i){throw ct!==null&&(ct=ct.slice(e+1)),oc(il,Ht),i}finally{Q=t,Ds=!1}}return null}var vn=[],wn=0,Ti=null,Mi=0,$e=[],Ae=0,en=null,dt=1,ft="";function Vt(e,t){vn[wn++]=Mi,vn[wn++]=Ti,Ti=e,Mi=t}function Fc(e,t,n){$e[Ae++]=dt,$e[Ae++]=ft,$e[Ae++]=en,en=e;var r=dt;e=ft;var i=32-Xe(r)-1;r&=~(1<<i),n+=1;var s=32-Xe(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dt=1<<32-Xe(t)+i|n<<i|r,ft=s+e}else dt=1<<s|n<<i|r,ft=e}function pl(e){e.return!==null&&(Vt(e,1),Fc(e,1,0))}function ml(e){for(;e===Ti;)Ti=vn[--wn],vn[wn]=null,Mi=vn[--wn],vn[wn]=null;for(;e===en;)en=$e[--Ae],$e[Ae]=null,ft=$e[--Ae],$e[Ae]=null,dt=$e[--Ae],$e[Ae]=null}var Ie=null,De=null,q=!1,Ye=null;function Lc(e,t){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function za(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,De=It(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=en!==null?{id:dt,overflow:ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,De=null,!0):!1;default:return!1}}function So(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Co(e){if(q){var t=De;if(t){var n=t;if(!za(e,t)){if(So(e))throw Error(E(418));t=It(n.nextSibling);var r=Ie;t&&za(e,t)?Lc(r,n):(e.flags=e.flags&-4097|2,q=!1,Ie=e)}}else{if(So(e))throw Error(E(418));e.flags=e.flags&-4097|2,q=!1,Ie=e}}}function Oa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Yr(e){if(e!==Ie)return!1;if(!q)return Oa(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!go(e.type,e.memoizedProps)),t&&(t=De)){if(So(e))throw Uc(),Error(E(418));for(;t;)Lc(e,t),t=It(t.nextSibling)}if(Oa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=It(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Ie?It(e.stateNode.nextSibling):null;return!0}function Uc(){for(var e=De;e;)e=It(e.nextSibling)}function Rn(){De=Ie=null,q=!1}function hl(e){Ye===null?Ye=[e]:Ye.push(e)}var ym=St.ReactCurrentBatchConfig;function Gn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fa(e){var t=e._init;return t(e._payload)}function $c(e){function t(g,d){if(e){var h=g.deletions;h===null?(g.deletions=[d],g.flags|=16):h.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function i(g,d){return g=Ft(g,d),g.index=0,g.sibling=null,g}function s(g,d,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<d?(g.flags|=2,d):h):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,d,h,x){return d===null||d.tag!==6?(d=Ls(h,g.mode,x),d.return=g,d):(d=i(d,h),d.return=g,d)}function a(g,d,h,x){var j=h.type;return j===fn?f(g,d,h.props.children,x,h.key):d!==null&&(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===kt&&Fa(j)===d.type)?(x=i(d,h.props),x.ref=Gn(g,d,h),x.return=g,x):(x=fi(h.type,h.key,h.props,null,g.mode,x),x.ref=Gn(g,d,h),x.return=g,x)}function c(g,d,h,x){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=Us(h,g.mode,x),d.return=g,d):(d=i(d,h.children||[]),d.return=g,d)}function f(g,d,h,x,j){return d===null||d.tag!==7?(d=Zt(h,g.mode,x,j),d.return=g,d):(d=i(d,h),d.return=g,d)}function m(g,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ls(""+d,g.mode,h),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ur:return h=fi(d.type,d.key,d.props,null,g.mode,h),h.ref=Gn(g,null,d),h.return=g,h;case dn:return d=Us(d,g.mode,h),d.return=g,d;case kt:var x=d._init;return m(g,x(d._payload),h)}if(Xn(d)||Wn(d))return d=Zt(d,g.mode,h,null),d.return=g,d;Jr(g,d)}return null}function p(g,d,h,x){var j=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return j!==null?null:l(g,d,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ur:return h.key===j?a(g,d,h,x):null;case dn:return h.key===j?c(g,d,h,x):null;case kt:return j=h._init,p(g,d,j(h._payload),x)}if(Xn(h)||Wn(h))return j!==null?null:f(g,d,h,x,null);Jr(g,h)}return null}function y(g,d,h,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(h)||null,l(d,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ur:return g=g.get(x.key===null?h:x.key)||null,a(d,g,x,j);case dn:return g=g.get(x.key===null?h:x.key)||null,c(d,g,x,j);case kt:var S=x._init;return y(g,d,h,S(x._payload),j)}if(Xn(x)||Wn(x))return g=g.get(h)||null,f(d,g,x,j,null);Jr(d,x)}return null}function w(g,d,h,x){for(var j=null,S=null,C=d,v=d=0,T=null;C!==null&&v<h.length;v++){C.index>v?(T=C,C=null):T=C.sibling;var D=p(g,C,h[v],x);if(D===null){C===null&&(C=T);break}e&&C&&D.alternate===null&&t(g,C),d=s(D,d,v),S===null?j=D:S.sibling=D,S=D,C=T}if(v===h.length)return n(g,C),q&&Vt(g,v),j;if(C===null){for(;v<h.length;v++)C=m(g,h[v],x),C!==null&&(d=s(C,d,v),S===null?j=C:S.sibling=C,S=C);return q&&Vt(g,v),j}for(C=r(g,C);v<h.length;v++)T=y(C,g,v,h[v],x),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?v:T.key),d=s(T,d,v),S===null?j=T:S.sibling=T,S=T);return e&&C.forEach(function($){return t(g,$)}),q&&Vt(g,v),j}function k(g,d,h,x){var j=Wn(h);if(typeof j!="function")throw Error(E(150));if(h=j.call(h),h==null)throw Error(E(151));for(var S=j=null,C=d,v=d=0,T=null,D=h.next();C!==null&&!D.done;v++,D=h.next()){C.index>v?(T=C,C=null):T=C.sibling;var $=p(g,C,D.value,x);if($===null){C===null&&(C=T);break}e&&C&&$.alternate===null&&t(g,C),d=s($,d,v),S===null?j=$:S.sibling=$,S=$,C=T}if(D.done)return n(g,C),q&&Vt(g,v),j;if(C===null){for(;!D.done;v++,D=h.next())D=m(g,D.value,x),D!==null&&(d=s(D,d,v),S===null?j=D:S.sibling=D,S=D);return q&&Vt(g,v),j}for(C=r(g,C);!D.done;v++,D=h.next())D=y(C,g,v,D.value,x),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?v:D.key),d=s(D,d,v),S===null?j=D:S.sibling=D,S=D);return e&&C.forEach(function(A){return t(g,A)}),q&&Vt(g,v),j}function N(g,d,h,x){if(typeof h=="object"&&h!==null&&h.type===fn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ur:e:{for(var j=h.key,S=d;S!==null;){if(S.key===j){if(j=h.type,j===fn){if(S.tag===7){n(g,S.sibling),d=i(S,h.props.children),d.return=g,g=d;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===kt&&Fa(j)===S.type){n(g,S.sibling),d=i(S,h.props),d.ref=Gn(g,S,h),d.return=g,g=d;break e}n(g,S);break}else t(g,S);S=S.sibling}h.type===fn?(d=Zt(h.props.children,g.mode,x,h.key),d.return=g,g=d):(x=fi(h.type,h.key,h.props,null,g.mode,x),x.ref=Gn(g,d,h),x.return=g,g=x)}return o(g);case dn:e:{for(S=h.key;d!==null;){if(d.key===S)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(g,d.sibling),d=i(d,h.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=Us(h,g.mode,x),d.return=g,g=d}return o(g);case kt:return S=h._init,N(g,d,S(h._payload),x)}if(Xn(h))return w(g,d,h,x);if(Wn(h))return k(g,d,h,x);Jr(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(g,d.sibling),d=i(d,h),d.return=g,g=d):(n(g,d),d=Ls(h,g.mode,x),d.return=g,g=d),o(g)):n(g,d)}return N}var In=$c(!0),Ac=$c(!1),Di=Wt(null),Ri=null,Sn=null,gl=null;function yl(){gl=Sn=Ri=null}function vl(e){var t=Di.current;Z(Di),e._currentValue=t}function xo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _n(e,t){Ri=e,gl=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(gl!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Ri===null)throw Error(E(308));Sn=e,Ri.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Yt=null;function wl(e){Yt===null?Yt=[e]:Yt.push(e)}function Wc(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,wl(t)):(n.next=i.next,i.next=n),t.interleaved=n,yt(e,r)}function yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Et=!1;function Sl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yt(e,n)}return i=r.interleaved,i===null?(t.next=t,wl(r)):(t.next=i.next,i.next=t),r.interleaved=t,yt(e,n)}function oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sl(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ii(e,t,n,r){var i=e.updateQueue;Et=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(s!==null){var m=i.baseState;o=0,f=c=a=null,l=s;do{var p=l.lane,y=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,k=l;switch(p=t,y=n,k.tag){case 1:if(w=k.payload,typeof w=="function"){m=w.call(y,m,p);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,p=typeof w=="function"?w.call(y,m,p):w,p==null)break e;m=te({},m,p);break e;case 2:Et=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,a=m):f=f.next=y,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(a=m),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);nn|=o,e.lanes=o,e.memoizedState=m}}function Ua(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var zr={},it=Wt(zr),Cr=Wt(zr),xr=Wt(zr);function Jt(e){if(e===zr)throw Error(E(174));return e}function Cl(e,t){switch(J(xr,t),J(Cr,e),J(it,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:to(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=to(t,e)}Z(it),J(it,t)}function Pn(){Z(it),Z(Cr),Z(xr)}function Bc(e){Jt(xr.current);var t=Jt(it.current),n=to(t,e.type);t!==n&&(J(Cr,e),J(it,n))}function xl(e){Cr.current===e&&(Z(it),Z(Cr))}var b=Wt(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rs=[];function kl(){for(var e=0;e<Rs.length;e++)Rs[e]._workInProgressVersionPrimary=null;Rs.length=0}var li=St.ReactCurrentDispatcher,Is=St.ReactCurrentBatchConfig,tn=0,ee=null,le=null,ue=null,zi=!1,sr=!1,kr=0,vm=0;function he(){throw Error(E(321))}function El(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}function Nl(e,t,n,r,i,s){if(tn=s,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?xm:km,e=n(r,i),sr){s=0;do{if(sr=!1,kr=0,25<=s)throw Error(E(301));s+=1,ue=le=null,t.updateQueue=null,li.current=Em,e=n(r,i)}while(sr)}if(li.current=Oi,t=le!==null&&le.next!==null,tn=0,ue=le=ee=null,zi=!1,t)throw Error(E(300));return e}function jl(){var e=kr!==0;return kr=0,e}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=e:ue=ue.next=e,ue}function Ve(){if(le===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ue===null?ee.memoizedState:ue.next;if(t!==null)ue=t,le=e;else{if(e===null)throw Error(E(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ue===null?ee.memoizedState=ue=e:ue=ue.next=e}return ue}function Er(e,t){return typeof t=="function"?t(e):t}function Ps(e){var t=Ve(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var f=c.lane;if((tn&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=m,o=r):a=a.next=m,ee.lanes|=f,nn|=f}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,qe(r,t.memoizedState)||(Ne=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ee.lanes|=s,nn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zs(e){var t=Ve(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);qe(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Vc(){}function Qc(e,t){var n=ee,r=Ve(),i=t(),s=!qe(r.memoizedState,i);if(s&&(r.memoizedState=i,Ne=!0),r=r.queue,_l(Yc.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Nr(9,Kc.bind(null,n,r,i,t),void 0,null),ce===null)throw Error(E(349));tn&30||Gc(n,t,i)}return i}function Gc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kc(e,t,n,r){t.value=n,t.getSnapshot=r,Jc(t)&&Xc(e)}function Yc(e,t,n){return n(function(){Jc(t)&&Xc(e)})}function Jc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch{return!0}}function Xc(e){var t=yt(e,1);t!==null&&Ze(t,e,1,-1)}function $a(e){var t=tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},t.queue=e,e=e.dispatch=Cm.bind(null,ee,e),[t.memoizedState,e]}function Nr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zc(){return Ve().memoizedState}function ai(e,t,n,r){var i=tt();ee.flags|=e,i.memoizedState=Nr(1|t,n,void 0,r===void 0?null:r)}function bi(e,t,n,r){var i=Ve();r=r===void 0?null:r;var s=void 0;if(le!==null){var o=le.memoizedState;if(s=o.destroy,r!==null&&El(r,o.deps)){i.memoizedState=Nr(t,n,s,r);return}}ee.flags|=e,i.memoizedState=Nr(1|t,n,s,r)}function Aa(e,t){return ai(8390656,8,e,t)}function _l(e,t){return bi(2048,8,e,t)}function qc(e,t){return bi(4,2,e,t)}function bc(e,t){return bi(4,4,e,t)}function ed(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function td(e,t,n){return n=n!=null?n.concat([e]):null,bi(4,4,ed.bind(null,t,e),n)}function Tl(){}function nd(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&El(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rd(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&El(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function id(e,t,n){return tn&21?(qe(n,t)||(n=uc(),ee.lanes|=n,nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n)}function wm(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Is.transition;Is.transition={};try{e(!1),t()}finally{Q=n,Is.transition=r}}function sd(){return Ve().memoizedState}function Sm(e,t,n){var r=Ot(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},od(e))ld(t,n);else if(n=Wc(e,t,n,r),n!==null){var i=Se();Ze(n,e,r,i),ad(n,t,r)}}function Cm(e,t,n){var r=Ot(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(od(e))ld(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,qe(l,o)){var a=t.interleaved;a===null?(i.next=i,wl(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Wc(e,t,i,r),n!==null&&(i=Se(),Ze(n,e,r,i),ad(n,t,r))}}function od(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function ld(e,t){sr=zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ad(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sl(e,n)}}var Oi={readContext:Be,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},xm={readContext:Be,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:Aa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ai(4194308,4,ed.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var n=tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sm.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:$a,useDebugValue:Tl,useDeferredValue:function(e){return tt().memoizedState=e},useTransition:function(){var e=$a(!1),t=e[0];return e=wm.bind(null,e[1]),tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ee,i=tt();if(q){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ce===null)throw Error(E(349));tn&30||Gc(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Aa(Yc.bind(null,r,s,e),[e]),r.flags|=2048,Nr(9,Kc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=tt(),t=ce.identifierPrefix;if(q){var n=ft,r=dt;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},km={readContext:Be,useCallback:nd,useContext:Be,useEffect:_l,useImperativeHandle:td,useInsertionEffect:qc,useLayoutEffect:bc,useMemo:rd,useReducer:Ps,useRef:Zc,useState:function(){return Ps(Er)},useDebugValue:Tl,useDeferredValue:function(e){var t=Ve();return id(t,le.memoizedState,e)},useTransition:function(){var e=Ps(Er)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Vc,useSyncExternalStore:Qc,useId:sd,unstable_isNewReconciler:!1},Em={readContext:Be,useCallback:nd,useContext:Be,useEffect:_l,useImperativeHandle:td,useInsertionEffect:qc,useLayoutEffect:bc,useMemo:rd,useReducer:zs,useRef:Zc,useState:function(){return zs(Er)},useDebugValue:Tl,useDeferredValue:function(e){var t=Ve();return le===null?t.memoizedState=e:id(t,le.memoizedState,e)},useTransition:function(){var e=zs(Er)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Vc,useSyncExternalStore:Qc,useId:sd,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ko(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var es={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),i=Ot(e),s=pt(r,i);s.payload=t,n!=null&&(s.callback=n),t=Pt(e,s,i),t!==null&&(Ze(t,e,i,r),oi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),i=Ot(e),s=pt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Pt(e,s,i),t!==null&&(Ze(t,e,i,r),oi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=Ot(e),i=pt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pt(e,i,r),t!==null&&(Ze(t,e,r,n),oi(t,e,r))}};function Wa(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(i,s):!0}function ud(e,t,n){var r=!1,i=Ut,s=t.contextType;return typeof s=="object"&&s!==null?s=Be(s):(i=_e(t)?bt:ve.current,r=t.contextTypes,s=(r=r!=null)?Dn(e,i):Ut),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ha(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Sl(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Be(s):(s=_e(t)?bt:ve.current,i.context=Dn(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ko(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&es.enqueueReplaceState(i,i.state,null),Ii(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var n="",r=t;do n+=qf(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Os(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function No(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nm=typeof WeakMap=="function"?WeakMap:Map;function cd(e,t,n){n=pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Li||(Li=!0,Oo=r),No(e,t)},n}function dd(e,t,n){n=pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){No(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){No(e,t),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ba(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Nm;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$m.bind(null,e,t,n),t.then(e,e))}function Va(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qa(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pt(-1,1),t.tag=2,Pt(n,t,1))),n.lanes|=1),e)}var jm=St.ReactCurrentOwner,Ne=!1;function we(e,t,n,r){t.child=e===null?Ac(t,null,n,r):In(t,e.child,n,r)}function Ga(e,t,n,r,i){n=n.render;var s=t.ref;return _n(t,i),r=Nl(e,t,n,r,s,i),n=jl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vt(e,t,i)):(q&&n&&pl(t),t.flags|=1,we(e,t,r,i),t.child)}function Ka(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Fl(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,fd(e,t,s,r,i)):(e=fi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yr,n(o,r)&&e.ref===t.ref)return vt(e,t,i)}return t.flags|=1,e=Ft(s,r),e.ref=t.ref,e.return=t,t.child=e}function fd(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(yr(s,r)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,vt(e,t,i)}return jo(e,t,n,r,i)}function pd(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(xn,Me),Me|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(xn,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,J(xn,Me),Me|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,J(xn,Me),Me|=r;return we(e,t,i,n),t.child}function md(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,r,i){var s=_e(n)?bt:ve.current;return s=Dn(t,s),_n(t,i),n=Nl(e,t,n,r,s,i),r=jl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vt(e,t,i)):(q&&r&&pl(t),t.flags|=1,we(e,t,n,i),t.child)}function Ya(e,t,n,r,i){if(_e(n)){var s=!0;_i(t)}else s=!1;if(_n(t,i),t.stateNode===null)ui(e,t),ud(t,n,r),Eo(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=_e(n)?bt:ve.current,c=Dn(t,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Ha(t,o,r,c),Et=!1;var p=t.memoizedState;o.state=p,Ii(t,r,o,i),a=t.memoizedState,l!==r||p!==a||je.current||Et?(typeof f=="function"&&(ko(t,n,f,r),a=t.memoizedState),(l=Et||Wa(t,n,l,r,p,a,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Hc(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ge(t.type,l),o.props=c,m=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Be(a):(a=_e(n)?bt:ve.current,a=Dn(t,a));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==a)&&Ha(t,o,r,a),Et=!1,p=t.memoizedState,o.state=p,Ii(t,r,o,i);var w=t.memoizedState;l!==m||p!==w||je.current||Et?(typeof y=="function"&&(ko(t,n,y,r),w=t.memoizedState),(c=Et||Wa(t,n,c,r,p,w,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _o(e,t,n,r,s,i)}function _o(e,t,n,r,i,s){md(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Pa(t,n,!1),vt(e,t,s);r=t.stateNode,jm.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=In(t,e.child,null,s),t.child=In(t,null,l,s)):we(e,t,l,s),t.memoizedState=r.state,i&&Pa(t,n,!0),t.child}function hd(e){var t=e.stateNode;t.pendingContext?Ia(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(e,t.context,!1),Cl(e,t.containerInfo)}function Ja(e,t,n,r,i){return Rn(),hl(i),t.flags|=256,we(e,t,n,r),t.child}var To={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function gd(e,t,n){var r=t.pendingProps,i=b.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),J(b,i&1),e===null)return Co(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rs(o,r,0,null),e=Zt(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Mo(n),t.memoizedState=To,e):Ml(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _m(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ft(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ft(l,s):(s=Zt(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Mo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=To,r}return s=e.child,e=s.sibling,r=Ft(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ml(e,t){return t=rs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xr(e,t,n,r){return r!==null&&hl(r),In(t,e.child,null,n),e=Ml(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _m(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Os(Error(E(422))),Xr(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=rs({mode:"visible",children:r.children},i,0,null),s=Zt(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&In(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=To,s);if(!(t.mode&1))return Xr(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(E(419)),r=Os(s,r,void 0),Xr(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ne||l){if(r=ce,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yt(e,i),Ze(r,e,i,-1))}return Ol(),r=Os(Error(E(421))),Xr(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Am.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,De=It(i.nextSibling),Ie=t,q=!0,Ye=null,e!==null&&($e[Ae++]=dt,$e[Ae++]=ft,$e[Ae++]=en,dt=e.id,ft=e.overflow,en=t),t=Ml(t,r.children),t.flags|=4096,t)}function Xa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xo(e.return,t,n)}function Fs(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yd(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(we(e,t,r.children,n),r=b.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xa(e,n,t);else if(e.tag===19)Xa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(b,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Pi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pi(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fs(t,!0,n,null,s);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tm(e,t,n){switch(t.tag){case 3:hd(t),Rn();break;case 5:Bc(t);break;case 1:_e(t.type)&&_i(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;J(Di,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(b,b.current&1),t.flags|=128,null):n&t.child.childLanes?gd(e,t,n):(J(b,b.current&1),e=vt(e,t,n),e!==null?e.sibling:null);J(b,b.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),J(b,b.current),r)break;return null;case 22:case 23:return t.lanes=0,pd(e,t,n)}return vt(e,t,n)}var vd,Do,wd,Sd;vd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Do=function(){};wd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jt(it.current);var s=null;switch(n){case"input":i=Zs(e,i),r=Zs(e,r),s=[];break;case"select":i=te({},i,{value:void 0}),r=te({},r,{value:void 0}),s=[];break;case"textarea":i=eo(e,i),r=eo(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ni)}no(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cr.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&X("scroll",e),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Sd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Kn(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mm(e,t,n){var r=t.pendingProps;switch(ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return _e(t.type)&&ji(),ge(t),null;case 3:return r=t.stateNode,Pn(),Z(je),Z(ve),kl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(Uo(Ye),Ye=null))),Do(e,t),ge(t),null;case 5:xl(t);var i=Jt(xr.current);if(n=t.type,e!==null&&t.stateNode!=null)wd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return ge(t),null}if(e=Jt(it.current),Yr(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[nt]=t,r[Sr]=s,e=(t.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(i=0;i<qn.length;i++)X(qn[i],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":sa(r,s),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},X("invalid",r);break;case"textarea":la(r,s),X("invalid",r)}no(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Kr(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Kr(r.textContent,l,e),i=["children",""+l]):cr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":$r(r),oa(r,s,!0);break;case"textarea":$r(r),aa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ni)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[nt]=t,e[Sr]=r,vd(e,t,!1,!1),t.stateNode=e;e:{switch(o=ro(n,r),n){case"dialog":X("cancel",e),X("close",e),i=r;break;case"iframe":case"object":case"embed":X("load",e),i=r;break;case"video":case"audio":for(i=0;i<qn.length;i++)X(qn[i],e);i=r;break;case"source":X("error",e),i=r;break;case"img":case"image":case"link":X("error",e),X("load",e),i=r;break;case"details":X("toggle",e),i=r;break;case"input":sa(e,r),i=Zs(e,r),X("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=te({},r,{value:void 0}),X("invalid",e);break;case"textarea":la(e,r),i=eo(e,r),X("invalid",e);break;default:i=r}no(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Zu(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ju(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&dr(e,a):typeof a=="number"&&dr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&X("scroll",e):a!=null&&bo(e,s,a,o))}switch(n){case"input":$r(e),oa(e,r,!1);break;case"textarea":$r(e),aa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Lt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?kn(e,!!r.multiple,s,!1):r.defaultValue!=null&&kn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Sd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=Jt(xr.current),Jt(it.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[nt]=t,(s=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:Kr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kr(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nt]=t,t.stateNode=r}return ge(t),null;case 13:if(Z(b),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&De!==null&&t.mode&1&&!(t.flags&128))Uc(),Rn(),t.flags|=98560,s=!1;else if(s=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[nt]=t}else Rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),s=!1}else Ye!==null&&(Uo(Ye),Ye=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||b.current&1?ae===0&&(ae=3):Ol())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Pn(),Do(e,t),e===null&&vr(t.stateNode.containerInfo),ge(t),null;case 10:return vl(t.type._context),ge(t),null;case 17:return _e(t.type)&&ji(),ge(t),null;case 19:if(Z(b),s=t.memoizedState,s===null)return ge(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Kn(s,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pi(e),o!==null){for(t.flags|=128,Kn(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(b,b.current&1|2),t.child}e=e.sibling}s.tail!==null&&se()>On&&(t.flags|=128,r=!0,Kn(s,!1),t.lanes=4194304)}else{if(!r)if(e=Pi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!q)return ge(t),null}else 2*se()-s.renderingStartTime>On&&n!==1073741824&&(t.flags|=128,r=!0,Kn(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=se(),t.sibling=null,n=b.current,J(b,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return zl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Me&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Dm(e,t){switch(ml(t),t.tag){case 1:return _e(t.type)&&ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(),Z(je),Z(ve),kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xl(t),null;case 13:if(Z(b),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(b),null;case 4:return Pn(),null;case 10:return vl(t.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var Zr=!1,ye=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,R=null;function Cn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function Ro(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Za=!1;function Im(e,t){if(mo=xi,e=Nc(),fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,f=0,m=e,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(a=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===e)break t;if(p===n&&++c===i&&(l=o),p===s&&++f===r&&(a=o),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ho={focusedElem:e,selectionRange:n},xi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,N=w.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ge(t.type,k),N);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){ie(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return w=Za,Za=!1,w}function or(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ro(t,n,s)}i=i.next}while(i!==r)}}function ts(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Io(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cd(e){var t=e.alternate;t!==null&&(e.alternate=null,Cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Sr],delete t[vo],delete t[mm],delete t[hm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return e.tag===5||e.tag===3||e.tag===4}function qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ni));else if(r!==4&&(e=e.child,e!==null))for(Po(e,t,n),e=e.sibling;e!==null;)Po(e,t,n),e=e.sibling}function zo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zo(e,t,n),e=e.sibling;e!==null;)zo(e,t,n),e=e.sibling}var fe=null,Ke=!1;function xt(e,t,n){for(n=n.child;n!==null;)kd(e,t,n),n=n.sibling}function kd(e,t,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Ki,n)}catch{}switch(n.tag){case 5:ye||Cn(n,t);case 6:var r=fe,i=Ke;fe=null,xt(e,t,n),fe=r,Ke=i,fe!==null&&(Ke?(e=fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Ke?(e=fe,n=n.stateNode,e.nodeType===8?Ms(e.parentNode,n):e.nodeType===1&&Ms(e,n),hr(e)):Ms(fe,n.stateNode));break;case 4:r=fe,i=Ke,fe=n.stateNode.containerInfo,Ke=!0,xt(e,t,n),fe=r,Ke=i;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ro(n,t,o),i=i.next}while(i!==r)}xt(e,t,n);break;case 1:if(!ye&&(Cn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ie(n,t,l)}xt(e,t,n);break;case 21:xt(e,t,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,xt(e,t,n),ye=r):xt(e,t,n);break;default:xt(e,t,n)}}function ba(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rm),t.forEach(function(r){var i=Wm.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,Ke=!1;break e;case 3:fe=l.stateNode.containerInfo,Ke=!0;break e;case 4:fe=l.stateNode.containerInfo,Ke=!0;break e}l=l.return}if(fe===null)throw Error(E(160));kd(s,o,i),fe=null,Ke=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ie(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ed(t,e),t=t.sibling}function Ed(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),et(e),r&4){try{or(3,e,e.return),ts(3,e)}catch(k){ie(e,e.return,k)}try{or(5,e,e.return)}catch(k){ie(e,e.return,k)}}break;case 1:Qe(t,e),et(e),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Qe(t,e),et(e),r&512&&n!==null&&Cn(n,n.return),e.flags&32){var i=e.stateNode;try{dr(i,"")}catch(k){ie(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Gu(i,s),ro(l,o);var c=ro(l,s);for(o=0;o<a.length;o+=2){var f=a[o],m=a[o+1];f==="style"?Zu(i,m):f==="dangerouslySetInnerHTML"?Ju(i,m):f==="children"?dr(i,m):bo(i,f,m,c)}switch(l){case"input":qs(i,s);break;case"textarea":Ku(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?kn(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?kn(i,!!s.multiple,s.defaultValue,!0):kn(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sr]=s}catch(k){ie(e,e.return,k)}}break;case 6:if(Qe(t,e),et(e),r&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(k){ie(e,e.return,k)}}break;case 3:if(Qe(t,e),et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(t.containerInfo)}catch(k){ie(e,e.return,k)}break;case 4:Qe(t,e),et(e);break;case 13:Qe(t,e),et(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Il=se())),r&4&&ba(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ye=(c=ye)||f,Qe(t,e),ye=c):Qe(t,e),et(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(R=e,f=e.child;f!==null;){for(m=R=f;R!==null;){switch(p=R,y=p.child,p.tag){case 0:case 11:case 14:case 15:or(4,p,p.return);break;case 1:Cn(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(k){ie(r,n,k)}}break;case 5:Cn(p,p.return);break;case 22:if(p.memoizedState!==null){tu(m);continue}}y!==null?(y.return=p,R=y):tu(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,a=m.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Xu("display",o))}catch(k){ie(e,e.return,k)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(k){ie(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(t,e),et(e),r&4&&ba(e);break;case 21:break;default:Qe(t,e),et(e)}}function et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dr(i,""),r.flags&=-33);var s=qa(e);zo(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=qa(e);Po(e,l,o);break;default:throw Error(E(161))}}catch(a){ie(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pm(e,t,n){R=e,Nd(e)}function Nd(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zr;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ye;l=Zr;var c=ye;if(Zr=o,(ye=a)&&!c)for(R=i;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?nu(i):a!==null?(a.return=o,R=a):nu(i);for(;s!==null;)R=s,Nd(s),s=s.sibling;R=i,Zr=l,ye=c}eu(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):eu(e)}}function eu(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||ts(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ye)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ge(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ua(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ua(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&hr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||t.flags&512&&Io(t)}catch(p){ie(t,t.return,p)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function tu(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function nu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ts(4,t)}catch(a){ie(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ie(t,i,a)}}var s=t.return;try{Io(t)}catch(a){ie(t,s,a)}break;case 5:var o=t.return;try{Io(t)}catch(a){ie(t,o,a)}}}catch(a){ie(t,t.return,a)}if(t===e){R=null;break}var l=t.sibling;if(l!==null){l.return=t.return,R=l;break}R=t.return}}var zm=Math.ceil,Fi=St.ReactCurrentDispatcher,Dl=St.ReactCurrentOwner,He=St.ReactCurrentBatchConfig,H=0,ce=null,oe=null,pe=0,Me=0,xn=Wt(0),ae=0,jr=null,nn=0,ns=0,Rl=0,lr=null,Ee=null,Il=0,On=1/0,ut=null,Li=!1,Oo=null,zt=null,qr=!1,Tt=null,Ui=0,ar=0,Fo=null,ci=-1,di=0;function Se(){return H&6?se():ci!==-1?ci:ci=se()}function Ot(e){return e.mode&1?H&2&&pe!==0?pe&-pe:ym.transition!==null?(di===0&&(di=uc()),di):(e=Q,e!==0||(e=window.event,e=e===void 0?16:gc(e.type)),e):1}function Ze(e,t,n,r){if(50<ar)throw ar=0,Fo=null,Error(E(185));Rr(e,n,r),(!(H&2)||e!==ce)&&(e===ce&&(!(H&2)&&(ns|=n),ae===4&&jt(e,pe)),Te(e,r),n===1&&H===0&&!(t.mode&1)&&(On=se()+500,qi&&Ht()))}function Te(e,t){var n=e.callbackNode;yp(e,t);var r=Ci(e,e===ce?pe:0);if(r===0)n!==null&&da(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&da(n),t===1)e.tag===0?gm(ru.bind(null,e)):Oc(ru.bind(null,e)),fm(function(){!(H&6)&&Ht()}),n=null;else{switch(cc(r)){case 1:n=il;break;case 4:n=lc;break;case 16:n=Si;break;case 536870912:n=ac;break;default:n=Si}n=Pd(n,jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jd(e,t){if(ci=-1,di=0,H&6)throw Error(E(327));var n=e.callbackNode;if(Tn()&&e.callbackNode!==n)return null;var r=Ci(e,e===ce?pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$i(e,r);else{t=r;var i=H;H|=2;var s=Td();(ce!==e||pe!==t)&&(ut=null,On=se()+500,Xt(e,t));do try{Lm();break}catch(l){_d(e,l)}while(!0);yl(),Fi.current=s,H=i,oe!==null?t=0:(ce=null,pe=0,t=ae)}if(t!==0){if(t===2&&(i=ao(e),i!==0&&(r=i,t=Lo(e,i))),t===1)throw n=jr,Xt(e,0),jt(e,r),Te(e,se()),n;if(t===6)jt(e,r);else{if(i=e.current.alternate,!(r&30)&&!Om(i)&&(t=$i(e,r),t===2&&(s=ao(e),s!==0&&(r=s,t=Lo(e,s))),t===1))throw n=jr,Xt(e,0),jt(e,r),Te(e,se()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Qt(e,Ee,ut);break;case 3:if(jt(e,r),(r&130023424)===r&&(t=Il+500-se(),10<t)){if(Ci(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yo(Qt.bind(null,e,Ee,ut),t);break}Qt(e,Ee,ut);break;case 4:if(jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Xe(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zm(r/1960))-r,10<r){e.timeoutHandle=yo(Qt.bind(null,e,Ee,ut),r);break}Qt(e,Ee,ut);break;case 5:Qt(e,Ee,ut);break;default:throw Error(E(329))}}}return Te(e,se()),e.callbackNode===n?jd.bind(null,e):null}function Lo(e,t){var n=lr;return e.current.memoizedState.isDehydrated&&(Xt(e,t).flags|=256),e=$i(e,t),e!==2&&(t=Ee,Ee=n,t!==null&&Uo(t)),e}function Uo(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function Om(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qe(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jt(e,t){for(t&=~Rl,t&=~ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xe(t),r=1<<n;e[n]=-1,t&=~r}}function ru(e){if(H&6)throw Error(E(327));Tn();var t=Ci(e,0);if(!(t&1))return Te(e,se()),null;var n=$i(e,t);if(e.tag!==0&&n===2){var r=ao(e);r!==0&&(t=r,n=Lo(e,r))}if(n===1)throw n=jr,Xt(e,0),jt(e,t),Te(e,se()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,Ee,ut),Te(e,se()),null}function Pl(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(On=se()+500,qi&&Ht())}}function rn(e){Tt!==null&&Tt.tag===0&&!(H&6)&&Tn();var t=H;H|=1;var n=He.transition,r=Q;try{if(He.transition=null,Q=1,e)return e()}finally{Q=r,He.transition=n,H=t,!(H&6)&&Ht()}}function zl(){Me=xn.current,Z(xn)}function Xt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dm(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ji();break;case 3:Pn(),Z(je),Z(ve),kl();break;case 5:xl(r);break;case 4:Pn();break;case 13:Z(b);break;case 19:Z(b);break;case 10:vl(r.type._context);break;case 22:case 23:zl()}n=n.return}if(ce=e,oe=e=Ft(e.current,null),pe=Me=t,ae=0,jr=null,Rl=ns=nn=0,Ee=lr=null,Yt!==null){for(t=0;t<Yt.length;t++)if(n=Yt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yt=null}return e}function _d(e,t){do{var n=oe;try{if(yl(),li.current=Oi,zi){for(var r=ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zi=!1}if(tn=0,ue=le=ee=null,sr=!1,kr=0,Dl.current=null,n===null||n.return===null){ae=1,jr=t,oe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Va(o);if(y!==null){y.flags&=-257,Qa(y,o,l,s,t),y.mode&1&&Ba(s,c,t),t=y,a=c;var w=t.updateQueue;if(w===null){var k=new Set;k.add(a),t.updateQueue=k}else w.add(a);break e}else{if(!(t&1)){Ba(s,c,t),Ol();break e}a=Error(E(426))}}else if(q&&l.mode&1){var N=Va(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Qa(N,o,l,s,t),hl(zn(a,l));break e}}s=a=zn(a,l),ae!==4&&(ae=2),lr===null?lr=[s]:lr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=cd(s,a,t);La(s,g);break e;case 1:l=a;var d=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(zt===null||!zt.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=dd(s,l,t);La(s,x);break e}}s=s.return}while(s!==null)}Dd(n)}catch(j){t=j,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Td(){var e=Fi.current;return Fi.current=Oi,e===null?Oi:e}function Ol(){(ae===0||ae===3||ae===2)&&(ae=4),ce===null||!(nn&268435455)&&!(ns&268435455)||jt(ce,pe)}function $i(e,t){var n=H;H|=2;var r=Td();(ce!==e||pe!==t)&&(ut=null,Xt(e,t));do try{Fm();break}catch(i){_d(e,i)}while(!0);if(yl(),H=n,Fi.current=r,oe!==null)throw Error(E(261));return ce=null,pe=0,ae}function Fm(){for(;oe!==null;)Md(oe)}function Lm(){for(;oe!==null&&!ap();)Md(oe)}function Md(e){var t=Id(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?Dd(e):oe=t,Dl.current=null}function Dd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dm(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,oe=null;return}}else if(n=Mm(n,t,Me),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ae===0&&(ae=5)}function Qt(e,t,n){var r=Q,i=He.transition;try{He.transition=null,Q=1,Um(e,t,n,r)}finally{He.transition=i,Q=r}return null}function Um(e,t,n,r){do Tn();while(Tt!==null);if(H&6)throw Error(E(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vp(e,s),e===ce&&(oe=ce=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,Pd(Si,function(){return Tn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=He.transition,He.transition=null;var o=Q;Q=1;var l=H;H|=4,Dl.current=null,Im(e,n),Ed(n,e),im(ho),xi=!!mo,ho=mo=null,e.current=n,Pm(n),up(),H=l,Q=o,He.transition=s}else e.current=n;if(qr&&(qr=!1,Tt=e,Ui=i),s=e.pendingLanes,s===0&&(zt=null),fp(n.stateNode),Te(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Li)throw Li=!1,e=Oo,Oo=null,e;return Ui&1&&e.tag!==0&&Tn(),s=e.pendingLanes,s&1?e===Fo?ar++:(ar=0,Fo=e):ar=0,Ht(),null}function Tn(){if(Tt!==null){var e=cc(Ui),t=He.transition,n=Q;try{if(He.transition=null,Q=16>e?16:e,Tt===null)var r=!1;else{if(e=Tt,Tt=null,Ui=0,H&6)throw Error(E(331));var i=H;for(H|=4,R=e.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(R=c;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:or(8,f,s)}var m=f.child;if(m!==null)m.return=f,R=m;else for(;R!==null;){f=R;var p=f.sibling,y=f.return;if(Cd(f),f===c){R=null;break}if(p!==null){p.return=y,R=p;break}R=y}}}var w=s.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:or(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,R=g;break e}R=s.return}}var d=e.current;for(R=d;R!==null;){o=R;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,R=h;else e:for(o=d;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ts(9,l)}}catch(j){ie(l,l.return,j)}if(l===o){R=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,R=x;break e}R=l.return}}if(H=i,Ht(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Ki,e)}catch{}r=!0}return r}finally{Q=n,He.transition=t}}return!1}function iu(e,t,n){t=zn(n,t),t=cd(e,t,1),e=Pt(e,t,1),t=Se(),e!==null&&(Rr(e,1,t),Te(e,t))}function ie(e,t,n){if(e.tag===3)iu(e,e,n);else for(;t!==null;){if(t.tag===3){iu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){e=zn(n,e),e=dd(t,e,1),t=Pt(t,e,1),e=Se(),t!==null&&(Rr(t,1,e),Te(t,e));break}}t=t.return}}function $m(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(pe&n)===n&&(ae===4||ae===3&&(pe&130023424)===pe&&500>se()-Il?Xt(e,0):Rl|=n),Te(e,t)}function Rd(e,t){t===0&&(e.mode&1?(t=Hr,Hr<<=1,!(Hr&130023424)&&(Hr=4194304)):t=1);var n=Se();e=yt(e,t),e!==null&&(Rr(e,t,n),Te(e,n))}function Am(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rd(e,n)}function Wm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Rd(e,n)}var Id;Id=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Ne=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ne=!1,Tm(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,q&&t.flags&1048576&&Fc(t,Mi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ui(e,t),e=t.pendingProps;var i=Dn(t,ve.current);_n(t,n),i=Nl(null,t,r,e,i,n);var s=jl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_e(r)?(s=!0,_i(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sl(t),i.updater=es,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=_o(null,t,r,!0,s,n)):(t.tag=0,q&&s&&pl(t),we(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Bm(r),e=Ge(r,e),i){case 0:t=jo(null,t,r,e,n);break e;case 1:t=Ya(null,t,r,e,n);break e;case 11:t=Ga(null,t,r,e,n);break e;case 14:t=Ka(null,t,r,Ge(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ge(r,i),jo(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ge(r,i),Ya(e,t,r,i,n);case 3:e:{if(hd(t),e===null)throw Error(E(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Hc(e,t),Ii(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=zn(Error(E(423)),t),t=Ja(e,t,r,n,i);break e}else if(r!==i){i=zn(Error(E(424)),t),t=Ja(e,t,r,n,i);break e}else for(De=It(t.stateNode.containerInfo.firstChild),Ie=t,q=!0,Ye=null,n=Ac(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rn(),r===i){t=vt(e,t,n);break e}we(e,t,r,n)}t=t.child}return t;case 5:return Bc(t),e===null&&Co(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,go(r,i)?o=null:s!==null&&go(r,s)&&(t.flags|=32),md(e,t),we(e,t,o,n),t.child;case 6:return e===null&&Co(t),null;case 13:return gd(e,t,n);case 4:return Cl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=In(t,null,r,n):we(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ge(r,i),Ga(e,t,r,i,n);case 7:return we(e,t,t.pendingProps,n),t.child;case 8:return we(e,t,t.pendingProps.children,n),t.child;case 12:return we(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,J(Di,r._currentValue),r._currentValue=o,s!==null)if(qe(s.value,o)){if(s.children===i.children&&!je.current){t=vt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=pt(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),xo(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xo(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}we(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_n(t,n),i=Be(i),r=r(i),t.flags|=1,we(e,t,r,n),t.child;case 14:return r=t.type,i=Ge(r,t.pendingProps),i=Ge(r.type,i),Ka(e,t,r,i,n);case 15:return fd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ge(r,i),ui(e,t),t.tag=1,_e(r)?(e=!0,_i(t)):e=!1,_n(t,n),ud(t,r,i),Eo(t,r,i,n),_o(null,t,r,!0,e,n);case 19:return yd(e,t,n);case 22:return pd(e,t,n)}throw Error(E(156,t.tag))};function Pd(e,t){return oc(e,t)}function Hm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,n,r){return new Hm(e,t,n,r)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bm(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tl)return 11;if(e===nl)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=We(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fi(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Fl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fn:return Zt(n.children,i,s,t);case el:o=8,i|=8;break;case Ks:return e=We(12,n,t,i|2),e.elementType=Ks,e.lanes=s,e;case Ys:return e=We(13,n,t,i),e.elementType=Ys,e.lanes=s,e;case Js:return e=We(19,n,t,i),e.elementType=Js,e.lanes=s,e;case Bu:return rs(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wu:o=10;break e;case Hu:o=9;break e;case tl:o=11;break e;case nl:o=14;break e;case kt:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=We(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Zt(e,t,n,r){return e=We(7,e,r,t),e.lanes=n,e}function rs(e,t,n,r){return e=We(22,e,r,t),e.elementType=Bu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ls(e,t,n){return e=We(6,e,null,t),e.lanes=n,e}function Us(e,t,n){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vm(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ll(e,t,n,r,i,s,o,l,a){return e=new Vm(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=We(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sl(s),e}function Qm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zd(e){if(!e)return Ut;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(_e(n))return zc(e,n,t)}return t}function Od(e,t,n,r,i,s,o,l,a){return e=Ll(n,r,!0,e,i,s,o,l,a),e.context=zd(null),n=e.current,r=Se(),i=Ot(n),s=pt(r,i),s.callback=t??null,Pt(n,s,i),e.current.lanes=i,Rr(e,i,r),Te(e,r),e}function is(e,t,n,r){var i=t.current,s=Se(),o=Ot(i);return n=zd(n),t.context===null?t.context=n:t.pendingContext=n,t=pt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pt(i,t,o),e!==null&&(Ze(e,i,o,s),oi(e,i,o)),o}function Ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ul(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function Gm(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}ss.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));is(e,t,null,null)};ss.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rn(function(){is(null,e,null,null)}),t[gt]=null}};function ss(e){this._internalRoot=e}ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=pc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&t!==0&&t<Nt[n].priority;n++);Nt.splice(n,0,e),n===0&&hc(e)}};function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function os(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ou(){}function Km(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ai(o);s.call(c)}}var o=Od(t,r,e,0,null,!1,!1,"",ou);return e._reactRootContainer=o,e[gt]=o.current,vr(e.nodeType===8?e.parentNode:e),rn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Ai(a);l.call(c)}}var a=Ll(e,0,!1,null,null,!1,!1,"",ou);return e._reactRootContainer=a,e[gt]=a.current,vr(e.nodeType===8?e.parentNode:e),rn(function(){is(t,a,n,r)}),a}function ls(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Ai(o);l.call(a)}}is(t,o,e,i)}else o=Km(n,t,e,i,r);return Ai(o)}dc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zn(t.pendingLanes);n!==0&&(sl(t,n|1),Te(t,se()),!(H&6)&&(On=se()+500,Ht()))}break;case 13:rn(function(){var r=yt(e,1);if(r!==null){var i=Se();Ze(r,e,1,i)}}),Ul(e,1)}};ol=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var n=Se();Ze(t,e,134217728,n)}Ul(e,134217728)}};fc=function(e){if(e.tag===13){var t=Ot(e),n=yt(e,t);if(n!==null){var r=Se();Ze(n,e,t,r)}Ul(e,t)}};pc=function(){return Q};mc=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};so=function(e,t,n){switch(t){case"input":if(qs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zi(r);if(!i)throw Error(E(90));Qu(r),qs(r,i)}}}break;case"textarea":Ku(e,n);break;case"select":t=n.value,t!=null&&kn(e,!!n.multiple,t,!1)}};ec=Pl;tc=rn;var Ym={usingClientEntryPoint:!1,Events:[Pr,gn,Zi,qu,bu,Pl]},Yn={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jm={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ic(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!br.isDisabled&&br.supportsFiber)try{Ki=br.inject(Jm),rt=br}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ym;Fe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(t))throw Error(E(200));return Qm(e,t,null,n)};Fe.createRoot=function(e,t){if(!Al(e))throw Error(E(299));var n=!1,r="",i=Fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ll(e,1,!1,null,null,n,!1,r,i),e[gt]=t.current,vr(e.nodeType===8?e.parentNode:e),new $l(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=ic(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return rn(e)};Fe.hydrate=function(e,t,n){if(!os(t))throw Error(E(200));return ls(null,e,t,!0,n)};Fe.hydrateRoot=function(e,t,n){if(!Al(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Fd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Od(t,null,e,1,n??null,i,!1,s,o),e[gt]=t.current,vr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ss(t)};Fe.render=function(e,t,n){if(!os(t))throw Error(E(200));return ls(null,e,t,!1,n)};Fe.unmountComponentAtNode=function(e){if(!os(e))throw Error(E(40));return e._reactRootContainer?(rn(function(){ls(null,null,e,!1,function(){e._reactRootContainer=null,e[gt]=null})}),!0):!1};Fe.unstable_batchedUpdates=Pl;Fe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!os(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return ls(e,t,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function Ld(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ld)}catch(e){console.error(e)}}Ld(),Lu.exports=Fe;var Xm=Lu.exports,lu=Xm;Qs.createRoot=lu.createRoot,Qs.hydrateRoot=lu.hydrateRoot;var Ud={exports:{}},$d={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=I;function Zm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qm=typeof Object.is=="function"?Object.is:Zm,bm=Or.useSyncExternalStore,eh=Or.useRef,th=Or.useEffect,nh=Or.useMemo,rh=Or.useDebugValue;$d.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=eh(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=nh(function(){function a(y){if(!c){if(c=!0,f=y,y=r(y),i!==void 0&&o.hasValue){var w=o.value;if(i(w,y))return m=w}return m=y}if(w=m,qm(f,y))return w;var k=r(y);return i!==void 0&&i(w,k)?w:(f=y,m=k)}var c=!1,f,m,p=n===void 0?null:n;return[function(){return a(t())},p===null?void 0:function(){return a(p())}]},[t,n,r,i]);var l=bm(e,s[0],s[1]);return th(function(){o.hasValue=!0,o.value=l},[l]),rh(l),l};Ud.exports=$d;var ih=Ud.exports,Re="default"in ta?Xo:ta,au=Symbol.for("react-redux-context"),uu=typeof globalThis<"u"?globalThis:{};function sh(){if(!Re.createContext)return{};const e=uu[au]??(uu[au]=new Map);let t=e.get(Re.createContext);return t||(t=Re.createContext(null),e.set(Re.createContext,t)),t}var $t=sh(),oh=()=>{throw new Error("uSES not initialized!")};function Wl(e=$t){return function(){return Re.useContext(e)}}var Ad=Wl(),Wd=oh,lh=e=>{Wd=e},ah=(e,t)=>e===t;function uh(e=$t){const t=e===$t?Ad:Wl(e),n=(r,i={})=>{const{equalityFn:s=ah,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:c,stabilityCheck:f,identityFunctionCheck:m}=t();Re.useRef(!0);const p=Re.useCallback({[r.name](w){return r(w)}}[r.name],[r,f,o.stabilityCheck]),y=Wd(a.addNestedSub,l.getState,c||l.getState,p,s);return Re.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var ch=uh();function dh(e){e()}function fh(){let e=null,t=null;return{clear(){e=null,t=null},notify(){dh(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cu={notify(){},get:()=>[]};function ph(e,t){let n,r=cu,i=0,s=!1;function o(k){f();const N=r.subscribe(k);let g=!1;return()=>{g||(g=!0,N(),m())}}function l(){r.notify()}function a(){w.onStateChange&&w.onStateChange()}function c(){return s}function f(){i++,n||(n=e.subscribe(a),r=fh())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cu)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:c,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return w}var mh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hh=typeof navigator<"u"&&navigator.product==="ReactNative",gh=mh||hh?Re.useLayoutEffect:Re.useEffect;function yh({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Re.useMemo(()=>{const c=ph(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),l=Re.useMemo(()=>e.getState(),[e]);gh(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const a=t||$t;return Re.createElement(a.Provider,{value:o},n)}var vh=yh;function Hd(e=$t){const t=e===$t?Ad:Wl(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var wh=Hd();function Sh(e=$t){const t=e===$t?wh:Hd(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ch=Sh();lh(ih.useSyncExternalStoreWithSelector);function de(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xh=typeof Symbol=="function"&&Symbol.observable||"@@observable",du=xh,$s=()=>Math.random().toString(36).substring(7).split("").join("."),kh={INIT:`@@redux/INIT${$s()}`,REPLACE:`@@redux/REPLACE${$s()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$s()}`},Wi=kh;function Hl(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Bd(e,t,n){if(typeof e!="function")throw new Error(de(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(de(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(de(1));return n(Bd)(e,t)}let r=e,i=t,s=new Map,o=s,l=0,a=!1;function c(){o===s&&(o=new Map,s.forEach((N,g)=>{o.set(g,N)}))}function f(){if(a)throw new Error(de(3));return i}function m(N){if(typeof N!="function")throw new Error(de(4));if(a)throw new Error(de(5));let g=!0;c();const d=l++;return o.set(d,N),function(){if(g){if(a)throw new Error(de(6));g=!1,c(),o.delete(d),s=null}}}function p(N){if(!Hl(N))throw new Error(de(7));if(typeof N.type>"u")throw new Error(de(8));if(typeof N.type!="string")throw new Error(de(17));if(a)throw new Error(de(9));try{a=!0,i=r(i,N)}finally{a=!1}return(s=o).forEach(d=>{d()}),N}function y(N){if(typeof N!="function")throw new Error(de(10));r=N,p({type:Wi.REPLACE})}function w(){const N=m;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(de(11));function d(){const x=g;x.next&&x.next(f())}return d(),{unsubscribe:N(d)}},[du](){return this}}}return p({type:Wi.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[du]:w}}function Eh(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wi.INIT})>"u")throw new Error(de(12));if(typeof n(void 0,{type:Wi.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(de(13))})}function Nh(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Eh(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let a=!1;const c={};for(let f=0;f<r.length;f++){const m=r[f],p=n[m],y=o[m],w=p(y,l);if(typeof w>"u")throw l&&l.type,new Error(de(14));c[m]=w,a=a||w!==y}return a=a||r.length!==Object.keys(o).length,a?c:o}}function Hi(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function jh(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(de(15))};const o={getState:i.getState,dispatch:(a,...c)=>s(a,...c)},l=e.map(a=>a(o));return s=Hi(...l)(i.dispatch),{...i,dispatch:s}}}function _h(e){return Hl(e)&&"type"in e&&typeof e.type=="string"}var Vd=Symbol.for("immer-nothing"),fu=Symbol.for("immer-draftable"),ze=Symbol.for("immer-state");function Je(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fn=Object.getPrototypeOf;function sn(e){return!!e&&!!e[ze]}function wt(e){var t;return e?Qd(e)||Array.isArray(e)||!!e[fu]||!!((t=e.constructor)!=null&&t[fu])||us(e)||cs(e):!1}var Th=Object.prototype.constructor.toString();function Qd(e){if(!e||typeof e!="object")return!1;const t=Fn(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Th}function Bi(e,t){as(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function as(e){const t=e[ze];return t?t.type_:Array.isArray(e)?1:us(e)?2:cs(e)?3:0}function $o(e,t){return as(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Gd(e,t,n){const r=as(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Mh(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function us(e){return e instanceof Map}function cs(e){return e instanceof Set}function Gt(e){return e.copy_||e.base_}function Ao(e,t){if(us(e))return new Map(e);if(cs(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Qd(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ze];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Fn(e),r)}else{const r=Fn(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Bl(e,t=!1){return ds(e)||sn(e)||!wt(e)||(as(e)>1&&(e.set=e.add=e.clear=e.delete=Dh),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Bl(r,!0))),e}function Dh(){Je(2)}function ds(e){return Object.isFrozen(e)}var Rh={};function on(e){const t=Rh[e];return t||Je(0,e),t}var _r;function Kd(){return _r}function Ih(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pu(e,t){t&&(on("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wo(e){Ho(e),e.drafts_.forEach(Ph),e.drafts_=null}function Ho(e){e===_r&&(_r=e.parent_)}function mu(e){return _r=Ih(_r,e)}function Ph(e){const t=e[ze];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function hu(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ze].modified_&&(Wo(t),Je(4)),wt(e)&&(e=Vi(t,e),t.parent_||Qi(t,e)),t.patches_&&on("Patches").generateReplacementPatches_(n[ze].base_,e,t.patches_,t.inversePatches_)):e=Vi(t,n,[]),Wo(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Vd?e:void 0}function Vi(e,t,n){if(ds(t))return t;const r=t[ze];if(!r)return Bi(t,(i,s)=>gu(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Qi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Bi(s,(l,a)=>gu(e,r,i,l,a,n,o)),Qi(e,i,!1),n&&e.patches_&&on("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function gu(e,t,n,r,i,s,o){if(sn(i)){const l=s&&t&&t.type_!==3&&!$o(t.assigned_,r)?s.concat(r):void 0,a=Vi(e,i,l);if(Gd(n,r,a),sn(a))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wt(i)&&!ds(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vi(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Qi(e,i)}}function Qi(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bl(t,n)}function zh(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Kd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Vl;n&&(i=[r],s=Tr);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var Vl={get(e,t){if(t===ze)return e;const n=Gt(e);if(!$o(n,t))return Oh(e,n,t);const r=n[t];return e.finalized_||!wt(r)?r:r===As(e.base_,t)?(Ws(e),e.copy_[t]=Vo(r,e)):r},has(e,t){return t in Gt(e)},ownKeys(e){return Reflect.ownKeys(Gt(e))},set(e,t,n){const r=Yd(Gt(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=As(Gt(e),t),s=i==null?void 0:i[ze];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Mh(n,i)&&(n!==void 0||$o(e.base_,t)))return!0;Ws(e),Bo(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return As(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ws(e),Bo(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Je(11)},getPrototypeOf(e){return Fn(e.base_)},setPrototypeOf(){Je(12)}},Tr={};Bi(Vl,(e,t)=>{Tr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tr.deleteProperty=function(e,t){return Tr.set.call(this,e,t,void 0)};Tr.set=function(e,t,n){return Vl.set.call(this,e[0],t,n,e[0])};function As(e,t){const n=e[ze];return(n?Gt(n):e)[t]}function Oh(e,t,n){var i;const r=Yd(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Yd(e,t){if(!(t in e))return;let n=Fn(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fn(n)}}function Bo(e){e.modified_||(e.modified_=!0,e.parent_&&Bo(e.parent_))}function Ws(e){e.copy_||(e.copy_=Ao(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Fh=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(a=s,...c){return o.produce(a,f=>n.call(this,f,...c))}}typeof n!="function"&&Je(6),r!==void 0&&typeof r!="function"&&Je(7);let i;if(wt(t)){const s=mu(this),o=Vo(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?Wo(s):Ho(s)}return pu(s,r),hu(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Vd&&(i=void 0),this.autoFreeze_&&Bl(i,!0),r){const s=[],o=[];on("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Je(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,a=>t(a,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wt(e)||Je(8),sn(e)&&(e=Lh(e));const t=mu(this),n=Vo(e,void 0);return n[ze].isManual_=!0,Ho(t),n}finishDraft(e,t){const n=e&&e[ze];(!n||!n.isManual_)&&Je(9);const{scope_:r}=n;return pu(r,t),hu(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=on("Patches").applyPatches_;return sn(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Vo(e,t){const n=us(e)?on("MapSet").proxyMap_(e,t):cs(e)?on("MapSet").proxySet_(e,t):zh(e,t);return(t?t.scope_:Kd()).drafts_.push(n),n}function Lh(e){return sn(e)||Je(10,e),Jd(e)}function Jd(e){if(!wt(e)||ds(e))return e;const t=e[ze];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ao(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ao(e,!0);return Bi(n,(r,i)=>{Gd(n,r,Jd(i))}),t&&(t.finalized_=!1),n}var Oe=new Fh,Xd=Oe.produce;Oe.produceWithPatches.bind(Oe);Oe.setAutoFreeze.bind(Oe);Oe.setUseStrictShallowCopy.bind(Oe);Oe.applyPatches.bind(Oe);Oe.createDraft.bind(Oe);Oe.finishDraft.bind(Oe);function Zd(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Uh=Zd(),$h=Zd,Ah=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hi:Hi.apply(null,arguments)},Wh=e=>e&&typeof e.match=="function";function ur(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(mt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>_h(r)&&r.type===e,n}var qd=class bn extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bn.prototype)}static get[Symbol.species](){return bn}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bn(...t[0].concat(this)):new bn(...t.concat(this))}};function yu(e){return wt(e)?Xd(e,()=>{}):e}function vu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Hh(e){return typeof e=="boolean"}var Bh=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new qd;return n&&(Hh(n)?o.push(Uh):o.push($h(n.extraArgument))),o},Vh="RTK_autoBatch",wu=e=>t=>{setTimeout(t,e)},Qh=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wu(10):e.type==="callback"?e.queueNotification:wu(e.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){var m;try{return i=!((m=f==null?void 0:f.meta)!=null&&m[Vh]),s=!i,s&&(o||(o=!0,a(c))),r.dispatch(f)}finally{i=!0}}})},Gh=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new qd(e);return r&&i.push(Qh(typeof r=="object"?r:void 0)),i};function Kh(e){const t=Bh(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Hl(n))l=Nh(n);else throw new Error(mt(1));let a;typeof r=="function"?a=r(t):a=t();let c=Hi;i&&(c=Ah({trace:!1,...typeof i=="object"&&i}));const f=jh(...a),m=Gh(f);let p=typeof o=="function"?o(m):m();const y=c(...p);return Bd(l,s,y)}function bd(e){const t={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(mt(28));if(l in t)throw new Error(mt(29));return t[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Yh(e){return typeof e=="function"}function Jh(e,t){let[n,r,i]=bd(t),s;if(Yh(e))s=()=>yu(e());else{const l=yu(e);s=()=>l}function o(l=s(),a){let c=[n[a.type],...r.filter(({matcher:f})=>f(a)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,m)=>{if(m)if(sn(f)){const y=m(f,a);return y===void 0?f:y}else{if(wt(f))return Xd(f,p=>m(p,a));{const p=m(f,a);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return o.getInitialState=s,o}var Xh=(e,t)=>Wh(e)?e.match(t):e(t);function Zh(...e){return t=>e.some(n=>Xh(n,t))}var qh="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bh=(e=21)=>{let t="",n=e;for(;n--;)t+=qh[Math.random()*64|0];return t},eg=["name","message","stack","code"],Hs=class{constructor(e,t){fs(this,"_type");this.payload=e,this.meta=t}},Su=class{constructor(e,t){fs(this,"_type");this.payload=e,this.meta=t}},tg=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of eg)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},Ue=(()=>{function e(t,n,r){const i=ur(t+"/fulfilled",(a,c,f,m)=>({payload:a,meta:{...m||{},arg:f,requestId:c,requestStatus:"fulfilled"}})),s=ur(t+"/pending",(a,c,f)=>({payload:void 0,meta:{...f||{},arg:c,requestId:a,requestStatus:"pending"}})),o=ur(t+"/rejected",(a,c,f,m,p)=>({payload:m,error:(r&&r.serializeError||tg)(a||"Rejected"),meta:{...p||{},arg:f,requestId:c,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(c,f,m)=>{const p=r!=null&&r.idGenerator?r.idGenerator(a):bh(),y=new AbortController;let w,k;function N(d){k=d,y.abort()}const g=async function(){var x,j;let d;try{let S=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,a,{getState:f,extra:m});if(rg(S)&&(S=await S),S===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((v,T)=>{w=()=>{T({name:"AbortError",message:k||"Aborted"})},y.signal.addEventListener("abort",w)});c(s(p,a,(j=r==null?void 0:r.getPendingMeta)==null?void 0:j.call(r,{requestId:p,arg:a},{getState:f,extra:m}))),d=await Promise.race([C,Promise.resolve(n(a,{dispatch:c,getState:f,extra:m,requestId:p,signal:y.signal,abort:N,rejectWithValue:(v,T)=>new Hs(v,T),fulfillWithValue:(v,T)=>new Su(v,T)})).then(v=>{if(v instanceof Hs)throw v;return v instanceof Su?i(v.payload,p,a,v.meta):i(v,p,a)})])}catch(S){d=S instanceof Hs?o(null,p,a,S.payload,S.meta):o(S,p,a)}finally{w&&y.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&o.match(d)&&d.meta.condition||c(d),d}();return Object.assign(g,{abort:N,requestId:p,arg:a,unwrap(){return g.then(ng)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:Zh(o,i),typePrefix:t})}return e.withTypes=()=>e,e})();function ng(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function rg(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var ig=Symbol.for("rtk-slice-createasyncthunk");function sg(e,t){return`${e}/${t}`}function og({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ig];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(mt(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(ag()):i.reducers)||{},a=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(h,x){const j=typeof h=="string"?h:h.type;if(!j)throw new Error(mt(12));if(j in c.sliceCaseReducersByType)throw new Error(mt(13));return c.sliceCaseReducersByType[j]=x,f},addMatcher(h,x){return c.sliceMatchers.push({matcher:h,reducer:x}),f},exposeAction(h,x){return c.actionCreators[h]=x,f},exposeCaseReducer(h,x){return c.sliceCaseReducersByName[h]=x,f}};a.forEach(h=>{const x=l[h],j={reducerName:h,type:sg(s,h),createNotation:typeof i.reducers=="function"};cg(x)?fg(j,x,f,t):ug(j,x,f)});function m(){const[h={},x=[],j=void 0]=typeof i.extraReducers=="function"?bd(i.extraReducers):[i.extraReducers],S={...h,...c.sliceCaseReducersByType};return Jh(i.initialState,C=>{for(let v in S)C.addCase(v,S[v]);for(let v of c.sliceMatchers)C.addMatcher(v.matcher,v.reducer);for(let v of x)C.addMatcher(v.matcher,v.reducer);j&&C.addDefaultCase(j)})}const p=h=>h,y=new Map;let w;function k(h,x){return w||(w=m()),w(h,x)}function N(){return w||(w=m()),w.getInitialState()}function g(h,x=!1){function j(C){let v=C[h];return typeof v>"u"&&x&&(v=N()),v}function S(C=p){const v=vu(y,x,()=>new WeakMap);return vu(v,C,()=>{const T={};for(const[D,$]of Object.entries(i.selectors??{}))T[D]=lg($,C,N,x);return T})}return{reducerPath:h,getSelectors:S,get selectors(){return S(j)},selectSlice:j}}const d={name:s,reducer:k,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:N,...g(o),injectInto(h,{reducerPath:x,...j}={}){const S=x??o;return h.inject({reducerPath:S,reducer:k},j),{...d,...g(S,!0)}}};return d}}function lg(e,t,n,r){function i(s,...o){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var ef=og();function ag(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function ug({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!dg(r))throw new Error(mt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?ur(e,o):ur(e))}function cg(e){return e._reducerDefinitionType==="asyncThunk"}function dg(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fg({type:e,reducerName:t},n,r,i){if(!i)throw new Error(mt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:c,options:f}=n,m=i(e,s,f);r.exposeAction(t,m),o&&r.addCase(m.fulfilled,o),l&&r.addCase(m.pending,l),a&&r.addCase(m.rejected,a),c&&r.addMatcher(m.settled,c),r.exposeCaseReducer(t,{fulfilled:o||ei,pending:l||ei,rejected:a||ei,settled:c||ei})}function ei(){}function mt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Ql=()=>localStorage.getItem("SERVER_URL")||window.location.hostname,Gl=()=>localStorage.getItem("API_PORT")||"443",Kl=()=>localStorage.getItem("USE_HTTPS")==="true"||window.location.protocol==="https:",pg=()=>`${Kl()?"https:":"http:"}//${Ql()}:${Gl()}`,mg=()=>`${Kl()?"wss:":"ws:"}//${Ql()}:${Gl()}`,st={apiUrl:pg(),wsUrl:mg(),getServerUrl:Ql,getApiPort:Gl,isHttps:Kl};class hg{constructor(){this.baseDirectory=null,this.cachedData={messages:{},users:[],recentContacts:{}},this.fileCache=new Map}async saveGroup(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups"),r=`group_${t.id}.json`,s=await(await n.getFileHandle(r,{create:!0})).createWritable();await s.write(JSON.stringify(t,null,2)),await s.close(),console.log(`Saved group: ${t.id}`)}catch(n){throw console.error("Error saving group:",n),n}}async saveGroupMessage(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups/messages"),r=`group_${t.groupId}_messages.json`;let i=[];try{const l=await(await(await n.getFileHandle(r)).getFile()).text();i=JSON.parse(l)}catch{}if(!i.some(s=>s.id===t.id)){i.push(t);const o=await(await n.getFileHandle(r,{create:!0})).createWritable();await o.write(JSON.stringify(i,null,2)),await o.close()}}catch(n){throw console.error("Error saving group message:",n),n}}async deleteGroupData(t,n){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const r=await this.getOrCreateDirectory("groups"),i=await this.getOrCreateDirectory("groups/messages");try{await r.removeEntry(`group_${t}.json`)}catch{console.log("Group file not found")}try{await i.removeEntry(`group_${t}_messages.json`)}catch{console.log("Group messages file not found")}console.log(`Deleted group data for ${t}`)}catch(r){throw console.error("Error deleting group data:",r),r}}async initialize(){if(!this.baseDirectory)try{const t=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});this.baseDirectory=t,await this.ensureDirectoryStructure(),await this.loadCachedData()}catch(t){throw console.error("Error initializing file system:",t),new Error("Failed to initialize file system storage")}}createMessageKey(t,n){const r=[t,n].sort();return`msg_${r[0]}_to_${r[1]}`}parseMessageKey(t){const n=t.match(/^msg_(.+)_to_(.+)\.json$/);return n?{fromId:n[1],toId:n[2]}:null}async ensureDirectoryStructure(){if(this.baseDirectory)try{await this.getOrCreateDirectory("messages"),await this.getOrCreateDirectory("users"),await this.getOrCreateDirectory("contacts"),await this.getOrCreateDirectory("files")}catch(t){console.error("Error creating directory structure:",t)}}async getOrCreateDirectory(t){if(!this.baseDirectory)throw new Error("Storage not initialized");return await this.baseDirectory.getDirectoryHandle(t,{create:!0})}async saveFileData(t,n){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const r=await this.getOrCreateDirectory("files"),i=n.name.split(".").pop()||"bin",s=`${t}.${i}`,l=await(await r.getFileHandle(s,{create:!0})).createWritable();await l.write(n),await l.close();const a=`${t}.meta.json`,c={originalName:n.name,type:n.type,size:n.size,lastModified:n.lastModified,storedFileName:s},m=await(await r.getFileHandle(a,{create:!0})).createWritable();await m.write(JSON.stringify(c,null,2)),await m.close(),console.log(`Saved file data for message ${t}: ${n.name}`)}catch(r){throw console.error("Error saving file data:",r),r}}async getFileData(t){if(!this.baseDirectory)throw new Error("Storage not initialized");if(this.fileCache.has(t))return{file:null,url:this.fileCache.get(t)};try{const n=await this.getOrCreateDirectory("files"),r=`${t}.meta.json`,o=await(await(await n.getFileHandle(r)).getFile()).text(),l=JSON.parse(o),c=await(await n.getFileHandle(l.storedFileName)).getFile(),f=new File([c],l.originalName,{type:l.type,lastModified:l.lastModified}),m=URL.createObjectURL(f);return this.fileCache.set(t,m),{file:f,url:m}}catch{return console.log(`No stored file found for message ${t}`),null}}cleanupFileCache(){this.fileCache.forEach(t=>URL.revokeObjectURL(t)),this.fileCache.clear()}async loadCachedData(){if(this.baseDirectory)try{const t=await this.readFile("users/users.json");t&&(this.cachedData.users=JSON.parse(t));const n=await this.readFile("contacts/contacts.json");n&&(this.cachedData.recentContacts=JSON.parse(n));const r=await this.getOrCreateDirectory("messages");for await(const i of r.values())if(i.kind==="file"&&i.name.endsWith(".json")){const s=i.name.replace(".json",""),o=await this.readFile(`messages/${i.name}`);o&&(this.cachedData.messages[s]=JSON.parse(o))}}catch(t){console.error("Error loading cached data:",t)}}async readFile(t){if(!this.baseDirectory)return null;try{const n=t.split("/"),r=n.pop();let i=this.baseDirectory;for(const l of n)i=await i.getDirectoryHandle(l);return await(await(await i.getFileHandle(r)).getFile()).text()}catch{return null}}async writeFile(t,n){if(this.baseDirectory)try{const r=t.split("/"),i=r.pop();let s=this.baseDirectory;for(const a of r)s=await s.getDirectoryHandle(a,{create:!0});const l=await(await s.getFileHandle(i,{create:!0})).createWritable();await l.write(n),await l.close()}catch(r){console.error("Error writing file:",r)}}async saveMessage(t){if(t.content!=="delivered")try{const n=await this.getOrCreateDirectory("messages"),i=`${this.createMessageKey(t.fromId,t.toId)}.json`;let s=[];try{const c=await(await(await n.getFileHandle(i)).getFile()).text();s=JSON.parse(c)}catch{console.log(`Creating new message file: ${i}`)}if(!s.some(l=>l.id===t.id)){const l={...t,savedAt:new Date().toISOString()};s.push(l);const a=`${t.fromId}:${t.toId}`;this.cachedData.messages[a]=s;const f=await(await n.getFileHandle(i,{create:!0})).createWritable();await f.write(JSON.stringify(s,null,2)),await f.close(),console.log(`Saved message to ${i}:`,l)}}catch(n){throw console.error("Error saving message:",n),new Error("Failed to save message")}}async getMessages(t,n){try{const r=await this.getOrCreateDirectory("messages"),i=`${this.createMessageKey(t,n)}.json`;try{const l=await(await(await r.getFileHandle(i)).getFile()).text(),a=JSON.parse(l),c=`${t}:${n}`;return this.cachedData.messages[c]=a,a}catch{return[]}}catch(r){return console.error("Error loading messages:",r),[]}}async saveUser(t){const n=this.cachedData.users.find(r=>r.id===t);n?n.lastActive=new Date().toISOString():this.cachedData.users.push({id:t,lastActive:new Date().toISOString()}),await this.writeFile("users/users.json",JSON.stringify(this.cachedData.users))}async deleteUserData(t){this.cachedData.users=this.cachedData.users.filter(i=>i.id!==t),await this.writeFile("users/users.json",JSON.stringify(this.cachedData.users));const n=await this.getOrCreateDirectory("messages"),r=await this.getOrCreateDirectory("files");try{const i=new Set;for await(const s of n.values())if(s.kind==="file"&&s.name.endsWith(".json")&&(s.name.includes(`msg_${t}_to_`)||s.name.includes(`_to_${t}.json`)))try{const a=await(await(await n.getFileHandle(s.name)).getFile()).text();JSON.parse(a).forEach(f=>i.add(f.id)),await n.removeEntry(s.name),console.log(`Successfully deleted file: ${s.name}`)}catch(o){console.error(`Error deleting file ${s.name}:`,o)}for await(const s of r.values())if(s.kind==="file"){const o=s.name.split(".")[0];if(i.has(o))try{await r.removeEntry(s.name),console.log(`Deleted file data: ${s.name}`)}catch(l){console.error(`Error deleting file data ${s.name}:`,l)}}for(const s in this.cachedData.messages)s.includes(t)&&delete this.cachedData.messages[s];delete this.cachedData.recentContacts[t],await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts)),this.cleanupFileCache()}catch(i){throw console.error("Error deleting user data:",i),new Error("Failed to delete user data")}}async deleteContactHistory(t,n){try{if(!(await fetch(`${st.apiUrl}/api/messages/${t}/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete messages from server")}catch(f){throw console.error("Error deleting messages from server:",f),f}const i=`${this.createMessageKey(t,n)}.json`,s=new Set;try{const y=await(await(await(await this.getOrCreateDirectory("messages")).getFileHandle(i)).getFile()).text();JSON.parse(y).forEach(k=>s.add(k.id))}catch{console.log("No messages file found to get IDs from")}const o=`${t}:${n}`,l=`${n}:${t}`;delete this.cachedData.messages[o],delete this.cachedData.messages[l];const a=await this.getOrCreateDirectory("messages"),c=await this.getOrCreateDirectory("files");try{await a.removeEntry(i);const f=`${this.createMessageKey(n,t)}.json`;try{await a.removeEntry(f)}catch{}for await(const m of c.values())if(m.kind==="file"){const p=m.name.split(".")[0];if(s.has(p))try{await c.removeEntry(m.name),console.log(`Deleted file data: ${m.name}`)}catch(y){console.error(`Error deleting file data ${m.name}:`,y)}}this.cachedData.recentContacts[t]&&(this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].filter(m=>m.userId!==n),await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts)))}catch(f){throw console.error("Error deleting contact history:",f),f}}async deleteAllUserData(){if(this.baseDirectory)try{this.cachedData={messages:{},users:[],recentContacts:{}},this.cleanupFileCache();for(const t of["messages","users","contacts","files"]){const n=await this.getOrCreateDirectory(t);for await(const r of n.values())await n.removeEntry(r.name)}}catch(t){console.error("Error deleting all user data:",t)}}getRecentUsers(){return this.cachedData.users.sort((t,n)=>new Date(n.lastActive).getTime()-new Date(t.lastActive).getTime()).slice(0,5)}async saveRecentContact(t,n){this.cachedData.recentContacts[t]||(this.cachedData.recentContacts[t]=[]),this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].filter(r=>r.userId!==n),this.cachedData.recentContacts[t].unshift({userId:n,lastInteraction:new Date().toISOString()}),this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].slice(0,5),await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts))}getRecentContacts(t){return this.cachedData.recentContacts[t]||[]}async getAllMessages(t){try{const n=await this.getOrCreateDirectory("messages");let r=[];for await(const i of n.values())if(i.kind==="file"&&i.name.endsWith(".json")){const s=this.parseMessageKey(i.name);if(s&&(s.fromId===t||s.toId===t)){const a=await(await(await n.getFileHandle(i.name)).getFile()).text(),c=JSON.parse(a);r=r.concat(c)}}return r.sort((i,s)=>new Date(i.timestamp).getTime()-new Date(s.timestamp).getTime())}catch(n){return console.error("Error loading all messages:",n),[]}}}const ne=new hg,gg=()=>ne.initialize(),tf=async e=>(await ne.initialize(),ne.saveMessage(e)),yg=async(e,t)=>(await ne.initialize(),ne.getMessages(e,t)),vg=async e=>(await ne.initialize(),ne.saveUser(e)),wg=async()=>(await ne.initialize(),ne.getRecentUsers()),Sg=async(e,t)=>(await ne.initialize(),ne.saveRecentContact(e,t)),Cg=async e=>(await ne.initialize(),ne.getRecentContacts(e)),Cu=async(e,t)=>(await ne.initialize(),ne.saveFileData(e,t)),xg=async e=>(await ne.initialize(),ne.getFileData(e)),kg=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";const n=Date.now().toString(36);for(let r=0;r<4;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return`${t}-${n}`},Eg=async e=>(await ne.initialize(),ne.getAllMessages(e)),nf=async e=>{await ne.initialize(),console.log("Saving group:",e)},Ng=async e=>{await ne.initialize();const t={id:e.id,fromId:e.fromId,toId:e.groupId,content:e.content,timestamp:e.timestamp,delivered:e.delivered,readStatus:e.readBy.includes(e.fromId),status:e.status,replyTo:e.replyTo};return ne.saveMessage(t)},jg=async(e,t)=>{await ne.initialize(),console.log("Deleting group data:",e,t)},_g={messages:[],currentUserId:null,connectedToUser:null,users:{},loading:!1,error:null,isWebSocketConnected:!1,messageQueue:{pending:[],failed:[],retrying:[]}},Yl=Ue("messages/queueMessageAsync",async e=>(await tf(e),e)),pi=Ue("messages/initializeAllMessagesAsync",async e=>await Eg(e)),mi=Ue("messages/setCurrentUserAsync",async e=>(await vg(e),e)),hi=Ue("messages/initializeMessagesAsync",async({userId1:e,userId2:t})=>await yg(e,t)),qt=Ue("messages/addMessageAsync",async(e,{dispatch:t,getState:n})=>n().messages.isWebSocketConnected?(await tf(e),{message:e,queued:!1}):(await t(Yl(e)),{message:e,queued:!0})),xu=Ue("messages/retryFailedMessageAsync",async(e,{dispatch:t})=>(await t(qt(e)),e)),rf=ef({name:"messages",initialState:_g,reducers:{setWebSocketConnected(e,t){e.isWebSocketConnected=t.payload},setConnectedUser(e,t){e.connectedToUser=t.payload,e.messages=[]},setUserOnlineStatus(e,t){e.users[t.payload.userId]||(e.users[t.payload.userId]={id:t.payload.userId,online:!1}),e.users[t.payload.userId].online=t.payload.online},setMessageDelivered(e,t){const n=e.messages.find(i=>i.id===t.payload);n&&(n.delivered=!0,n.status="delivered"),e.messageQueue.pending.find(i=>i.id===t.payload)&&(e.messageQueue.pending=e.messageQueue.pending.filter(i=>i.id!==t.payload))},setMessageRead(e,t){const n=e.messages.find(i=>i.id===t.payload);n&&(n.readStatus=!0,n.status="read",n.delivered=!0);const r=e.messageQueue.pending.find(i=>i.id===t.payload);r&&(r.readStatus=!0,r.status="read",r.delivered=!0)},clearChat(e){e.messages=[],e.connectedToUser=null,e.currentUserId=null,e.users={},e.messageQueue={pending:[],failed:[],retrying:[]}},moveToFailedQueue(e,t){const n=e.messageQueue.pending.find(r=>r.id===t.payload);n&&(e.messageQueue.pending=e.messageQueue.pending.filter(r=>r.id!==t.payload),e.messageQueue.failed.push(n))},removeFromQueue(e,t){e.messageQueue.pending=e.messageQueue.pending.filter(n=>n.id!==t.payload),e.messageQueue.failed=e.messageQueue.failed.filter(n=>n.id!==t.payload),e.messageQueue.retrying=e.messageQueue.retrying.filter(n=>n.id!==t.payload)},clearError(e){e.error=null}},extraReducers:e=>{e.addCase(Yl.fulfilled,(t,n)=>{t.messageQueue.pending.push(n.payload)}),e.addCase(qt.fulfilled,(t,n)=>{const{message:r,queued:i}=n.payload;!i&&r.content!=="delivered"&&t.messages.findIndex(o=>o.id===r.id)===-1&&t.messages.push({...r,status:r.status||"sent"})}),e.addCase(xu.pending,(t,n)=>{const r=n.meta.arg.id;t.messageQueue.failed=t.messageQueue.failed.filter(i=>i.id!==r),t.messageQueue.retrying.push(n.meta.arg)}),e.addCase(xu.fulfilled,(t,n)=>{t.messageQueue.retrying=t.messageQueue.retrying.filter(r=>r.id!==n.payload.id)}),e.addCase(mi.pending,t=>{t.loading=!0,t.error=null}),e.addCase(mi.fulfilled,(t,n)=>{t.currentUserId=n.payload,t.loading=!1}),e.addCase(mi.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to set user"}),e.addCase(hi.pending,t=>{t.loading=!0,t.error=null}),e.addCase(hi.fulfilled,(t,n)=>{t.messages=n.payload,t.loading=!1}),e.addCase(hi.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to load messages"}),e.addCase(qt.pending,t=>{t.error=null}),e.addCase(qt.rejected,(t,n)=>{t.error=n.error.message||"Failed to save message"}),e.addCase(pi.pending,t=>{t.loading=!0,t.error=null}),e.addCase(pi.fulfilled,(t,n)=>{t.messages=n.payload,t.loading=!1}),e.addCase(pi.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to load messages"})}}),{setConnectedUser:Mr,setUserOnlineStatus:Tg,setMessageDelivered:Mg,setMessageRead:sf,clearChat:qg,clearError:bg,setWebSocketConnected:ku,moveToFailedQueue:Eu,removeFromQueue:Dg}=rf.actions,Rg=rf.reducer,Ig={groups:{},groupMembers:{},groupMessages:{},currentGroupId:null,loading:!1,error:null,unreadCounts:{}},gi=Ue("groups/createGroup",async({request:e,userId:t})=>{const n=await fetch(`${st.apiUrl}/api/groups`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,createdBy:t})});if(!n.ok)throw new Error("Failed to create group");const r=await n.json();return await nf(r),r}),Qo=Ue("groups/fetchUserGroups",async e=>{const t=await fetch(`${st.apiUrl}/api/users/${e}/groups`);if(!t.ok)throw new Error("Failed to fetch groups");const n=await t.json();for(const r of n)await nf(r);return n}),Jl=Ue("groups/fetchGroupMembers",async e=>{const t=await fetch(`${st.apiUrl}/api/groups/${e}/members`);if(!t.ok)throw new Error("Failed to fetch group members");const n=await t.json();return{groupId:e,members:n}}),Pg=Ue("groups/fetchGroupMessages",async e=>{const t=await fetch(`${st.apiUrl}/api/groups/${e}/messages`);if(!t.ok)throw new Error("Failed to fetch group messages");const n=await t.json();for(const r of n)await Ng(r);return{groupId:e,messages:n}}),of=Ue("groups/addMembers",async e=>{const t=await fetch(`${st.apiUrl}/api/groups/${e.groupId}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIds:e.userIds})});if(!t.ok)throw new Error("Failed to add members");const n=await t.json();return{groupId:e.groupId,members:n}}),lf=Ue("groups/performAdminAction",async e=>{if(!(await fetch(`${st.apiUrl}/api/groups/${e.groupId}/admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to perform admin action");return e}),af=Ue("groups/leaveGroup",async({groupId:e,userId:t})=>{if(!(await fetch(`${st.apiUrl}/api/groups/${e}/leave`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})})).ok)throw new Error("Failed to leave group");return await jg(e,t),{groupId:e,userId:t}}),uf=ef({name:"groups",initialState:Ig,reducers:{setCurrentGroup(e,t){e.currentGroupId=t.payload,t.payload&&e.unreadCounts[t.payload]&&(e.unreadCounts[t.payload]=0)},addGroupMessage(e,t){const{groupId:n}=t.payload;e.groupMessages[n]||(e.groupMessages[n]=[]),e.groupMessages[n].some(i=>i.id===t.payload.id)||(e.groupMessages[n].push(t.payload),e.groups[n]&&(e.groups[n].lastActivity=t.payload.timestamp,e.groups[n].lastMessage=typeof t.payload.content=="string"?t.payload.content:"File"),n!==e.currentGroupId&&(e.unreadCounts[n]=(e.unreadCounts[n]||0)+1))},markGroupMessageAsRead(e,t){const{groupId:n,messageId:r,userId:i}=t.payload,s=e.groupMessages[n];if(s){const o=s.find(l=>l.id===r);o&&!o.readBy.includes(i)&&o.readBy.push(i)}},updateGroupMemberStatus(e,t){const{groupId:n,userId:r,updates:i}=t.payload,s=e.groupMembers[n];if(s){const o=s.find(l=>l.userId===r);o&&Object.assign(o,i)}},updateGroupInfo(e,t){const{groupId:n,updates:r}=t.payload;e.groups[n]&&Object.assign(e.groups[n],r)},addGroupNotification(e,t){const{groupId:n}=t.payload,r={id:t.payload.id,groupId:n,fromId:"system",content:t.payload.message,timestamp:t.payload.timestamp,delivered:!0,readBy:[],status:"delivered"};e.groupMessages[n]||(e.groupMessages[n]=[]),e.groupMessages[n].push(r)},clearGroupMessages(e,t){const n=t.payload;e.groupMessages[n]&&(e.groupMessages[n]=[])},clearGroupError(e){e.error=null}},extraReducers:e=>{e.addCase(gi.pending,t=>{t.loading=!0,t.error=null}),e.addCase(gi.fulfilled,(t,n)=>{t.groups[n.payload.id]=n.payload,t.loading=!1}),e.addCase(gi.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to create group"}),e.addCase(Qo.fulfilled,(t,n)=>{n.payload.forEach(r=>{t.groups[r.id]=r,t.unreadCounts[r.id]||(t.unreadCounts[r.id]=0)})}),e.addCase(Jl.fulfilled,(t,n)=>{t.groupMembers[n.payload.groupId]=n.payload.members}),e.addCase(Pg.fulfilled,(t,n)=>{t.groupMessages[n.payload.groupId]=n.payload.messages}),e.addCase(of.fulfilled,(t,n)=>{t.groupMembers[n.payload.groupId]=n.payload.members,t.groups[n.payload.groupId]&&(t.groups[n.payload.groupId].memberCount=n.payload.members.length)}),e.addCase(lf.fulfilled,(t,n)=>{const{groupId:r,targetUserId:i,type:s}=n.payload,o=t.groupMembers[r];if(o){const l=o.find(a=>a.userId===i);if(l)switch(s){case"mute":l.isMuted=!0;break;case"unmute":l.isMuted=!1;break;case"ban":l.isBanned=!0;break;case"unban":l.isBanned=!1;break;case"promote":l.role="admin";break;case"demote":l.role="member";break}}}),e.addCase(af.fulfilled,(t,n)=>{const{groupId:r}=n.payload;delete t.groups[r],delete t.groupMembers[r],delete t.groupMessages[r],delete t.unreadCounts[r],t.currentGroupId===r&&(t.currentGroupId=null)})}}),{setCurrentGroup:Nu,addGroupMessage:zg,markGroupMessageAsRead:ey,updateGroupMemberStatus:ty,updateGroupInfo:ny,addGroupNotification:Og,clearGroupMessages:ry,clearGroupError:Fg}=uf.actions,Lg=uf.reducer,Ug=Kh({reducer:{messages:Rg,groups:Lg}}),Bt=()=>Ch(),V=ch,Bs=({mode:e})=>{const t=Bt(),n=V(d=>d.messages.currentUserId),r=V(d=>d.messages.connectedToUser),i=V(d=>d.messages.users),[s,o]=I.useState(""),[l,a]=I.useState([]),[c,f]=I.useState([]),[m,p]=I.useState(!1),[y,w]=I.useState(null);I.useEffect(()=>{(async()=>{try{const h=await wg();if(a(h),n){const x=await Cg(n);f(x)}}catch(h){console.error("Error loading data:",h)}})()},[n]);const k=async d=>{if(d.trim()){p(!0),w(null);try{await t(mi(d)).unwrap()}catch{w("Failed to set user ID. Please try again.")}finally{p(!1)}}},N=async d=>{if(!(!d.trim()||!n||d===n)){p(!0),w(null);try{if(!(await fetch(`${st.apiUrl}/api/status/${d}`)).ok)throw new Error("User not found");await Sg(n,d),t(Mr(d))}catch{w("Failed to connect. Please check the ID and try again.")}finally{p(!1)}}},g=()=>{const d=kg();o(d)};return e==="setup"?u.jsxs("div",{className:"card fade-in",children:[u.jsx("h2",{className:"card-title",children:"Welcome to Chat"}),y&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:""}),u.jsx("span",{children:y})]}),u.jsxs("form",{onSubmit:d=>{d.preventDefault(),k(s)},className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Choose or create your user ID"}),u.jsx("input",{type:"text",value:s,onChange:d=>o(d.target.value),placeholder:"Enter user ID",className:"input",disabled:m})]}),u.jsxs("div",{className:"btn-group",children:[u.jsx("button",{type:"button",onClick:g,disabled:m,className:"btn btn-secondary",children:"Generate ID"}),u.jsx("button",{type:"submit",disabled:m||!s.trim(),className:"btn btn-primary",children:m?"Connecting...":"Continue"})]})]}),l.length>0&&u.jsxs("div",{className:"mt-lg",children:[u.jsx("h3",{className:"text-muted text-small mb-sm",children:"Recent Users"}),u.jsx("div",{className:"user-grid",children:l.map(d=>u.jsx("div",{onClick:()=>o(d.id),className:`user-card ${d.id===s?"user-card-active":""}`,children:d.id},d.id))})]})]}):e==="connect"?u.jsxs("div",{className:"card fade-in",children:[u.jsx("h2",{className:"card-title",children:"Connect to User"}),u.jsxs("div",{className:"alert alert-success mb-md",children:[u.jsx("span",{children:""}),u.jsxs("span",{children:["Your ID: ",u.jsx("strong",{children:n})]})]}),y&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:""}),u.jsx("span",{children:y})]}),u.jsxs("form",{onSubmit:d=>{d.preventDefault(),N(s)},className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Enter recipient's user ID"}),u.jsx("input",{type:"text",value:s,onChange:d=>o(d.target.value),placeholder:"User ID to connect",className:"input",disabled:m})]}),u.jsx("button",{type:"submit",disabled:m||!s.trim()||s===n,className:"btn btn-primary",children:m?"Connecting...":"Connect"})]}),c.length>0&&u.jsxs("div",{className:"mt-lg",children:[u.jsx("h3",{className:"text-muted text-small mb-sm",children:"Recent Contacts"}),u.jsx("div",{className:"user-grid",children:c.map(d=>{var h;return u.jsxs("div",{onClick:()=>N(d.userId),className:"user-card",children:[d.userId,((h=i[d.userId])==null?void 0:h.online)&&u.jsxs("div",{className:"status mt-sm",children:[u.jsx("span",{className:"status-dot status-online"}),u.jsx("span",{className:"text-small",children:"Online"})]})]},d.userId)})})]})]}):u.jsxs("div",{className:"user-menu-compact",children:[u.jsxs("div",{className:"status",children:[u.jsxs("span",{children:["User: ",u.jsx("strong",{children:n})]}),r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-muted",children:""}),u.jsxs("span",{children:["Chat: ",u.jsx("strong",{children:r})]})]})]}),u.jsxs("div",{className:"btn-group",children:[r&&u.jsx("button",{onClick:()=>t(Mr(null)),className:"btn btn-secondary",children:"Disconnect"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-danger",children:"Logout"})]})]})};class $g{constructor(t,n,r){this.wsRef=t,this.dispatch=n,this.currentUserId=r,this.processedMessageIds=new Set,this.deliveryTimeouts=new Map,this.maxDeliveryAttempts=3}async processIncomingMessage(t){if(!this.processedMessageIds.has(t.id))try{switch(t.content){case"status_update":await this.handleStatusUpdate(t);break;case"delivered":await this.handleDeliveryConfirmation(t);break;case"read":await this.handleReadReceipt(t);break;default:await this.handleRegularMessage(t)}this.processedMessageIds.add(t.id)}catch(n){throw console.error("Error processing message:",n),n}}async sendMessage(t){var n;try{await this.dispatch(qt(t)).unwrap(),((n=this.wsRef.current)==null?void 0:n.readyState)===WebSocket.OPEN?(this.wsRef.current.send(JSON.stringify(t)),this.setDeliveryTimeout(t)):await this.dispatch(Yl(t)).unwrap()}catch(r){throw console.error("Error sending message:",r),await this.dispatch(Eu(t.id)),r}}setDeliveryTimeout(t){this.deliveryTimeouts.has(t.id)&&clearTimeout(this.deliveryTimeouts.get(t.id));const n=setTimeout(()=>{this.handleDeliveryTimeout(t)},5e3);this.deliveryTimeouts.set(t.id,n)}async handleDeliveryTimeout(t){t.delivered||await this.dispatch(Eu(t.id)),this.deliveryTimeouts.delete(t.id)}async handleStatusUpdate(t){}async handleDeliveryConfirmation(t){const n=t.id.startsWith("delivery_")?t.id.replace("delivery_",""):t.id;await this.dispatch(Mg(n)),this.deliveryTimeouts.has(n)&&(clearTimeout(this.deliveryTimeouts.get(n)),this.deliveryTimeouts.delete(n))}async handleReadReceipt(t){const n=t.id.startsWith("read_")?t.id.replace("read_",""):t.id;await this.dispatch(sf(n)),this.deliveryTimeouts.has(n)&&(clearTimeout(this.deliveryTimeouts.get(n)),this.deliveryTimeouts.delete(n))}async handleRegularMessage(t){if(await this.dispatch(qt(t)),t.toId===this.currentUserId&&this.wsRef.current){const n={id:`delivery_${t.id}`,fromId:this.currentUserId,toId:t.fromId,content:"delivered",timestamp:new Date().toISOString(),delivered:!0,readStatus:!1,status:"sent"};this.wsRef.current.send(JSON.stringify(n))}}clearDeliveryTimeouts(){this.deliveryTimeouts.forEach(t=>clearTimeout(t)),this.deliveryTimeouts.clear()}}const cf=I.createContext({ws:null,messageProcessor:null}),Ag=({children:e})=>{const t=Bt(),n=V(m=>m.messages.currentUserId),r=V(m=>m.messages.messageQueue.pending),i=I.useRef(null),s=I.useRef(null),o=3,l=I.useRef(0),a=I.useRef(),c=I.useCallback(()=>{if(!(!s.current||!r.length))for(const m of r)try{s.current.sendMessage(m),t(Dg(m.id))}catch(p){console.error("Error processing pending message:",p)}},[t,r]),f=I.useCallback(()=>{if(!n)return;if(l.current>=o){console.error("Failed to connect after maximum retries");return}console.log("Attempting WebSocket connection...");const m=new WebSocket(`${st.wsUrl}/ws/${n}`);i.current=m,m.onopen=()=>{console.log("WebSocket connected successfully"),t(ku(!0)),l.current=0,s.current=new $g(i,t,n),c()},m.onmessage=async p=>{var w,k;const y=JSON.parse(p.data);if(y.messageType==="group_notification"){t(Og(y.data));return}if(y.messageType!=="webrtc_signaling"){if(y.content==="status_update"){t(Tg({userId:y.fromId,online:y.status==="online"}));return}(w=y.toId)!=null&&w.startsWith("GROUP_")?t(zg({id:y.id,groupId:y.toId,fromId:y.fromId,content:y.content,timestamp:y.timestamp,delivered:y.delivered,readBy:y.readStatus?[n]:[],status:y.status,replyTo:y.replyTo})):await((k=s.current)==null?void 0:k.processIncomingMessage(y))}},m.onclose=p=>{if(t(ku(!1)),console.log("WebSocket disconnected with code:",p.code),p.wasClean){console.log("Clean websocket close");return}const y=Math.min(1e3*Math.pow(2,l.current),1e4);a.current=setTimeout(()=>{l.current++,console.log(`Attempting reconnection ${l.current}/${o}`),f()},y)},m.onerror=p=>{console.error("WebSocket error:",p)}},[n,t,c]);return I.useEffect(()=>(n&&f(),()=>{a.current&&clearTimeout(a.current),i.current&&i.current.close(1e3,"Component unmounting"),s.current&&s.current.clearDeliveryTimeouts()}),[n,f]),u.jsx(cf.Provider,{value:{ws:i.current,messageProcessor:s.current},children:u.jsx("div",{"data-testid":"websocket-manager",children:e})})},df=()=>I.useContext(cf),Vs=16384;class Wg{constructor(){this.activeTransfers=new Map}async prepareFileTransfer(t){const n=Math.ceil(t.size/Vs);return{id:crypto.randomUUID(),name:t.name,type:t.type,size:t.size,totalChunks:n}}async*getFileChunks(t,n){const r=new FileReader;let i=0,s=0;for(;i<t.size;){const o=t.slice(i,i+Vs),l=await new Promise((a,c)=>{r.onload=()=>a(r.result),r.onerror=()=>c(r.error),r.readAsArrayBuffer(o)});yield{transferId:n.id,chunkIndex:s,totalChunks:n.totalChunks,data:l},i+=Vs,s++}}initializeReceiver(t,n){this.activeTransfers.set(t.id,{metadata:t,receivedChunks:new Set,chunks:new Array(t.totalChunks),onProgress:n})}processChunk(t,n,r){var o;const i=this.activeTransfers.get(t);if(!i)return 0;i.chunks[n]=r,i.receivedChunks.add(n);const s=i.receivedChunks.size/i.metadata.totalChunks*100;return(o=i.onProgress)==null||o.call(i,s),s}isTransferComplete(t){const n=this.activeTransfers.get(t);return n?n.receivedChunks.size===n.metadata.totalChunks:!1}async assembleFile(t){const n=this.activeTransfers.get(t);if(!n||!this.isTransferComplete(t))return null;const r=new Blob(n.chunks,{type:n.metadata.type}),i=new File([r],n.metadata.name,{type:n.metadata.type,lastModified:Date.now()});return this.activeTransfers.delete(t),i}cancelTransfer(t){this.activeTransfers.delete(t)}}const ff=I.createContext({createConnection:async()=>!1,closeConnection:()=>{},sendFile:async()=>"",isConnected:()=>!1,transfers:new Map,receivedFiles:new Map,getFileUrl:()=>{}}),Hg=()=>{const e=I.useContext(ff);if(!e)throw new Error("useWebRTC must be used within WebRTCManager");return e},Bg=({children:e})=>{const{ws:t}=df(),n=Bt(),r=V(S=>S.messages.currentUserId),i=I.useRef(new Map);I.useRef(new Wg);const[s,o]=I.useState(new Map),[l,a]=I.useState(new Map),c={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};I.useEffect(()=>{(async()=>{console.log("[WebRTC] WebRTCManager initialized, file persistence ready")})()},[]),I.useEffect(()=>{if(!t)return;const S=C=>{try{const v=JSON.parse(C.data);v.messageType==="webrtc_signaling"&&w(v)}catch(v){console.error("[WebRTC] Error processing message:",v)}};return t.addEventListener("message",S),()=>{t.removeEventListener("message",S),l.forEach(({url:C})=>URL.revokeObjectURL(C)),i.current.forEach((C,v)=>{N(v)})}},[t,r]);const f=S=>{if((t==null?void 0:t.readyState)===WebSocket.OPEN){const C={messageType:"webrtc_signaling",...S};console.log("[WebRTC] Sending signaling message:",C),t.send(JSON.stringify(C))}},m=(S,C)=>{console.log(`[WebRTC] Creating peer connection for ${S}, initiator: ${C}`);const v=new RTCPeerConnection(c),T={connection:v,dataChannel:null,pendingCandidates:[],isSettingRemoteDescription:!1,hasRemoteDescription:!1};return v.onicecandidate=D=>{D.candidate&&r&&(console.log("[WebRTC] Sending ICE candidate"),f({type:"ice-candidate",candidate:D.candidate,fromId:r,toId:S}))},v.onconnectionstatechange=()=>{console.log(`[WebRTC] Connection state: ${v.connectionState} for ${S}`),v.connectionState==="connected"&&console.log(`[WebRTC] Peer connection established with ${S}`)},v.oniceconnectionstatechange=()=>{console.log(`[WebRTC] ICE connection state: ${v.iceConnectionState} for ${S}`),v.iceConnectionState==="connected"?console.log(`[WebRTC] ICE connection established with ${S}`):v.iceConnectionState==="failed"&&(console.log(`[WebRTC] ICE connection failed with ${S}, attempting restart`),y(S))},C?(console.log(`[WebRTC] Creating data channel as initiator for ${S}`),T.dataChannel=v.createDataChannel("fileTransfer",{ordered:!0,maxRetransmits:3}),p(T.dataChannel,S)):(console.log(`[WebRTC] Waiting for data channel from ${S}`),v.ondatachannel=D=>{console.log(`[WebRTC] Received data channel from ${S}`),T.dataChannel=D.channel,p(T.dataChannel,S)}),i.current.set(S,T),T},p=(S,C)=>{let v=[],T=null;S.binaryType="arraybuffer",S.onopen=()=>{console.log(`[WebRTC] Data channel opened for ${C}`)},S.onclose=()=>{console.log(`[WebRTC] Data channel closed for ${C}`)},S.onerror=D=>{console.error(`[WebRTC] Data channel error for ${C}:`,D)},S.onmessage=async D=>{try{if(typeof D.data=="string"){const $=JSON.parse(D.data);switch($.type){case"file-start":T={name:$.name,type:$.fileType,size:$.size,transferId:$.transferId,messageId:$.messageId},v=[],h($.transferId||"unknown",{status:"transferring",progress:0}),console.log(`[WebRTC] Starting to receive file: ${T.name}`);break;case"file-end":if(T&&v.length>0){console.log(`[WebRTC] Assembling received file: ${T.name}`);const A=new File(v,T.name,{type:T.type}),re=URL.createObjectURL(A);a(B=>{const F=new Map(B);return F.set(T.messageId,{file:A,url:re,timestamp:new Date().toISOString()}),F});try{await Cu(T.messageId,A),console.log(`[WebRTC] File saved to persistent storage: ${T.messageId}`)}catch(B){console.error("[WebRTC] Error saving file to persistent storage:",B)}console.log(`[WebRTC] File stored with ID: ${T.messageId}`);const P=URL.createObjectURL(A),U=document.createElement("a");if(U.href=P,U.download=A.name,U.style.display="none",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(P),console.log(`[WebRTC] File auto-downloaded: ${A.name}`),r){const F={type:T.type.startsWith("image/")?"image":T.type.startsWith("video/")?"video":T.type.startsWith("audio/")?"audio":"file",file:{name:A.name,size:A.size,type:A.type,lastModified:A.lastModified}},M={id:T.messageId,fromId:C,toId:r,content:F,timestamp:new Date().toISOString(),delivered:!0,readStatus:!1,status:"delivered"};await n(qt(M))}h($.transferId||"unknown",{status:"completed",progress:100}),v=[],T=null}break}}else if(T){v.push(new Blob([D.data]));const $=v.reduce((re,P)=>re+P.size,0),A=$/T.size*100;h("current",{progress:A}),$%(1024*100)===0&&console.log(`[WebRTC] Received ${Math.round($/1024)}KB of ${Math.round(T.size/1024)}KB`)}}catch($){console.error("[WebRTC] Error handling data channel message:",$)}}},y=async S=>{const C=i.current.get(S);if(!(!C||!r))try{const v=await C.connection.createOffer({iceRestart:!0});await C.connection.setLocalDescription(v),f({type:"offer",offer:v,fromId:r,toId:S})}catch(v){console.error("[WebRTC] Error restarting ICE:",v)}},w=async S=>{if(!r||S.toId!==r)return;const C=S.fromId;let v=i.current.get(C);try{switch(S.type){case"offer":for(console.log(`[WebRTC] Handling offer from ${C}`),v||(v=m(C,!1)),v.isSettingRemoteDescription=!0,await v.connection.setRemoteDescription(new RTCSessionDescription(S.offer)),v.hasRemoteDescription=!0,v.isSettingRemoteDescription=!1;v.pendingCandidates.length>0;){const D=v.pendingCandidates.shift();await v.connection.addIceCandidate(new RTCIceCandidate(D))}const T=await v.connection.createAnswer();await v.connection.setLocalDescription(T),f({type:"answer",answer:T,fromId:r,toId:C});break;case"answer":if(console.log(`[WebRTC] Handling answer from ${C}`),v&&v.connection.signalingState==="have-local-offer")for(v.isSettingRemoteDescription=!0,await v.connection.setRemoteDescription(new RTCSessionDescription(S.answer)),v.hasRemoteDescription=!0,v.isSettingRemoteDescription=!1;v.pendingCandidates.length>0;){const D=v.pendingCandidates.shift();await v.connection.addIceCandidate(new RTCIceCandidate(D))}break;case"ice-candidate":if(console.log(`[WebRTC] Handling ICE candidate from ${C}`),v){const D=new RTCIceCandidate(S.candidate);v.isSettingRemoteDescription||!v.hasRemoteDescription?v.pendingCandidates.push(S.candidate):v.connection.remoteDescription&&await v.connection.addIceCandidate(D)}break}}catch(T){console.error("[WebRTC] Error handling signaling message:",T)}},k=async S=>{if(!r||!t||t.readyState!==WebSocket.OPEN)return console.error("[WebRTC] Cannot create connection - missing requirements"),!1;if(S===r)return console.error("[WebRTC] Cannot connect to self"),!1;try{console.log(`[WebRTC] Creating connection to ${S}`);const C=m(S,!0),v=await C.connection.createOffer();return await C.connection.setLocalDescription(v),f({type:"offer",offer:v,fromId:r,toId:S}),new Promise(T=>{let D=!1;const $=re=>{D||(D=!0,T(re))},A=setInterval(()=>{var re,P;console.log(`[WebRTC] Connection state: ${C.connection.connectionState}, ICE: ${C.connection.iceConnectionState}, DataChannel: ${(re=C.dataChannel)==null?void 0:re.readyState}`),((P=C.dataChannel)==null?void 0:P.readyState)==="open"?(console.log("[WebRTC] Data channel is open - connection successful"),clearInterval(A),$(!0)):C.connection.connectionState==="connected"&&C.connection.iceConnectionState==="connected"?setTimeout(()=>{var U;((U=C.dataChannel)==null?void 0:U.readyState)==="open"&&(console.log("[WebRTC] Data channel opened after connection"),clearInterval(A),$(!0))},1e3):(C.connection.connectionState==="failed"||C.connection.iceConnectionState==="failed")&&(console.log("[WebRTC] Connection failed"),clearInterval(A),$(!1))},500);setTimeout(()=>{console.log("[WebRTC] Connection attempt timed out"),clearInterval(A),$(!1)},6e4)})}catch(C){return console.error("[WebRTC] Error creating connection:",C),!1}},N=S=>{const C=i.current.get(S);C&&(C.dataChannel&&C.dataChannel.close(),C.connection.close(),i.current.delete(S))},g=S=>{var v;const C=i.current.get(S);return((v=C==null?void 0:C.dataChannel)==null?void 0:v.readyState)==="open"},d=async(S,C)=>{let v=i.current.get(S);if(!(v!=null&&v.dataChannel)||v.dataChannel.readyState!=="open"){if(console.log("[WebRTC] No open data channel, creating connection"),!await k(S))throw new Error("Failed to establish connection");v=i.current.get(S)}if(!(v!=null&&v.dataChannel)||v.dataChannel.readyState!=="open")throw new Error("Data channel not available");try{const T=crypto.randomUUID(),D=crypto.randomUUID();h(T,{status:"transferring",progress:0});const $=URL.createObjectURL(C);a(B=>{const F=new Map(B);return F.set(D,{file:C,url:$,timestamp:new Date().toISOString()}),F});try{await Cu(D,C),console.log(`[WebRTC] Sent file saved to persistent storage: ${D}`)}catch(B){console.error("[WebRTC] Error saving sent file to persistent storage:",B)}v.dataChannel.send(JSON.stringify({type:"file-start",name:C.name,fileType:C.type,size:C.size,transferId:T,messageId:D}));const A=16384;let re=0;const P=new FileReader,U=B=>new Promise((F,M)=>{const O=C.slice(B,B+A);P.onload=L=>{var K,G;if((K=L.target)!=null&&K.result&&((G=v==null?void 0:v.dataChannel)==null?void 0:G.readyState)==="open"){v.dataChannel.send(L.target.result);const Ct=Math.min((B+A)/C.size*100,100);h(T,{progress:Ct}),F()}else M(new Error("Data channel closed during transfer"))},P.onerror=()=>M(P.error),P.readAsArrayBuffer(O)});for(;re<C.size;)await U(re),re+=A,await new Promise(B=>setTimeout(B,10));return v.dataChannel.send(JSON.stringify({type:"file-end",transferId:T,messageId:D})),h(T,{status:"completed",progress:100}),console.log("[WebRTC] File transfer completed"),D}catch(T){throw console.error("[WebRTC] Error sending file:",T),T}},h=(S,C)=>{o(v=>{const T=new Map(v),D=v.get(S)||{transferId:S,progress:0,status:"pending"};return T.set(S,{...D,...C}),T})},j={createConnection:k,closeConnection:N,sendFile:d,isConnected:g,transfers:s,receivedFiles:l,getFileUrl:S=>{const C=l.get(S);return C==null?void 0:C.url}};return u.jsx(ff.Provider,{value:j,children:e})},Vg=({file:e,isIncoming:t})=>{const[n,r]=I.useState(""),[i,s]=I.useState(!0),[o,l]=I.useState(null);I.useEffect(()=>{if(e instanceof File){const f=URL.createObjectURL(e);return r(f),s(!1),()=>URL.revokeObjectURL(f)}else"url"in e&&(r(e.url),s(!1))},[e]);const a=f=>f<1024?f+" B":f<1024*1024?(f/1024).toFixed(1)+" KB":(f/(1024*1024)).toFixed(1)+" MB",c=f=>f.startsWith("image/")?"":f.startsWith("video/")?"":f.startsWith("audio/")?"":f.includes("pdf")?"":f.includes("zip")||f.includes("rar")?"":f.includes("doc")||f.includes("docx")?"":f.includes("xls")||f.includes("xlsx")?"":"";return i?u.jsx("div",{className:"file-preview-container",children:u.jsxs("div",{className:"file-preview-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("span",{children:"Loading preview..."})]})}):o?u.jsx("div",{className:"file-preview-container",children:u.jsx("div",{className:"file-preview-error",children:u.jsxs("span",{children:[" ",o]})})}):e.type.startsWith("image/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsx("div",{className:"file-preview-image",children:u.jsx("img",{src:n,alt:e.name,onError:()=>l("Failed to load image"),onClick:()=>window.open(n,"_blank"),title:"Click to view full size"})}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):e.type.startsWith("video/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsx("div",{className:"file-preview-video",children:u.jsxs("video",{controls:!0,preload:"metadata",onError:()=>l("Failed to load video"),children:[u.jsx("source",{src:n,type:e.type}),"Your browser does not support video playback."]})}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):e.type.startsWith("audio/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsxs("div",{className:"file-preview-audio",children:[u.jsx("div",{className:"audio-icon",children:""}),u.jsxs("audio",{controls:!0,preload:"metadata",onError:()=>l("Failed to load audio"),children:[u.jsx("source",{src:n,type:e.type}),"Your browser does not support audio playback."]})]}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):u.jsx("div",{className:"file-preview-container",children:u.jsxs("div",{className:"file-preview-generic",children:[u.jsx("div",{className:"file-icon",children:c(e.type)}),u.jsxs("div",{className:"file-details",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]})})},Qg=({isOpen:e,onClose:t})=>{const n=Bt(),r=V(p=>p.messages.currentUserId),i=V(p=>p.messages.connectedToUser),s=V(p=>p.messages.messages),o=V(p=>p.messages.users),l=V(p=>p.groups.groups),a=V(p=>p.groups.unreadCounts),c=I.useMemo(()=>{if(!r)return[];const p=new Map;return s.forEach(y=>{if(!y.content||y.content==="delivered"||y.content==="read"||y.content==="status_update"||typeof y.content=="object"&&"type"in y.content&&["offer","answer","ice-candidate"].includes(y.content.type))return;const w=y.fromId===r?y.toId:y.fromId;if(w===r)return;p.has(w)||p.set(w,{userId:w,lastMessage:y.timestamp,unreadCount:0,lastMessageTime:y.timestamp});const k=p.get(w);new Date(y.timestamp)>new Date(k.lastMessageTime)&&(k.lastMessage=y.timestamp,k.lastMessageTime=y.timestamp),y.fromId===w&&y.toId===r&&!y.readStatus&&k.unreadCount++}),Array.from(p.values()).sort((y,w)=>new Date(w.lastMessageTime).getTime()-new Date(y.lastMessageTime).getTime())},[s,r]),f=p=>{n(Mr(p)),t()},m=p=>{const y=new Date(p),k=new Date().getTime()-y.getTime(),N=Math.floor(k/6e4),g=Math.floor(k/36e5),d=Math.floor(k/864e5);return N<1?"now":N<60?`${N}m`:g<24?`${g}h`:d<7?`${d}d`:y.toLocaleDateString([],{month:"short",day:"numeric"})};return e?u.jsxs("div",{className:"contact-switcher",children:[u.jsxs("div",{className:"contact-switcher-header",children:[u.jsx("h3",{children:"Chats"}),u.jsx("button",{onClick:t,className:"btn btn-icon","aria-label":"Close contact switcher",children:""})]}),u.jsx("div",{className:"contact-switcher-list",children:c.length===0&&Object.keys(l).length===0?u.jsx("div",{className:"contact-switcher-empty",children:u.jsx("p",{className:"text-muted text-center",children:"No conversations yet"})}):u.jsxs(u.Fragment,{children:[c.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"contact-switcher-section-header",children:u.jsx("h4",{children:"Direct Messages"})}),c.map(p=>{var y;return u.jsxs("div",{onClick:()=>f(p.userId),className:`contact-switcher-item ${p.userId===i?"contact-switcher-item-active":""}`,children:[u.jsxs("div",{className:"contact-switcher-item-main",children:[u.jsxs("div",{className:"contact-switcher-item-header",children:[u.jsx("span",{className:"contact-switcher-item-name",children:p.userId}),((y=o[p.userId])==null?void 0:y.online)&&u.jsx("span",{className:"status-dot status-online",title:"Online"})]}),u.jsx("span",{className:"contact-switcher-item-time",children:m(p.lastMessage)})]}),p.unreadCount>0&&p.userId!==i&&u.jsx("div",{className:"contact-switcher-unread-badge",children:p.unreadCount>99?"99+":p.unreadCount})]},p.userId)})]}),Object.keys(l).length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"contact-switcher-section-header",children:u.jsx("h4",{children:"Groups"})}),Object.values(l).map(p=>u.jsxs("div",{onClick:()=>f(p.id),className:`contact-switcher-item contact-switcher-item-group ${p.id===i?"contact-switcher-item-active":""}`,children:[u.jsxs("div",{className:"contact-switcher-item-main",children:[u.jsx("div",{className:"contact-switcher-item-header",children:u.jsx("span",{className:"contact-switcher-item-name",children:p.name})}),u.jsx("span",{className:"contact-switcher-item-time",children:p.lastActivity?m(p.lastActivity):"New"})]}),a[p.id]>0&&p.id!==i&&u.jsx("div",{className:"contact-switcher-unread-badge",children:a[p.id]>99?"99+":a[p.id]})]},p.id))]})]})})]}):null},Gg=({groupId:e,onManageClick:t})=>{var c,f;const n=Bt(),r=V(m=>m.groups.groups[e]),i=V(m=>m.groups.groupMembers[e]||[]),s=V(m=>m.messages.currentUserId);if(I.useEffect(()=>{e&&(!i||i.length===0)&&n(Jl(e))},[e,i,n]),!r)return null;const o=i.filter(m=>m.isOnline).length,l=((c=i.find(m=>m.userId===s))==null?void 0:c.role)==="admin",a=((f=i.find(m=>m.userId===s))==null?void 0:f.isMuted)||!1;return u.jsxs("div",{className:"group-info-bar",children:[u.jsxs("div",{className:"group-info-bar-text",children:[u.jsxs("span",{children:[r.memberCount||i.length," members"]}),o>0&&u.jsxs("span",{children:["  ",o," online"]}),a&&u.jsx("span",{className:"text-warning",children:"  You are muted"})]}),t&&u.jsx("button",{onClick:t,className:"group-info-bar-action",children:l?"Manage Group":"View Members"})]})},pf=({isOpen:e,onClose:t})=>{const n=Bt(),r=V(P=>P.messages.currentUserId),i=V(P=>P.groups.groups),s=V(P=>P.groups.groupMembers),o=V(P=>P.groups.currentGroupId),l=V(P=>P.groups.loading),a=V(P=>P.groups.error),[c,f]=I.useState("list"),[m,p]=I.useState(""),[y,w]=I.useState(""),[k,N]=I.useState(null),[g,d]=I.useState(""),[h,x]=I.useState(null);I.useEffect(()=>{r&&e&&n(Qo(r))},[r,e,n]),I.useEffect(()=>{k&&n(Jl(k))},[k,n]),I.useEffect(()=>{e||n(Fg())},[e,n]);const j=async P=>{if(P.preventDefault(),!(!m.trim()||!r))try{await n(gi({request:{name:m.trim(),description:y.trim()},userId:r})).unwrap(),p(""),w(""),f("list"),n(Qo(r))}catch(U){console.error("Failed to create group:",U)}},S=P=>{n(Nu(P)),n(Mr(P)),t()},C=async P=>{if(P.preventDefault(),!(!g.trim()||!k))try{await n(of({groupId:k,userIds:[g.trim()]})).unwrap(),d("")}catch(U){console.error("Failed to add member:",U)}},v=async(P,U)=>{if(!(!k||!r))try{await n(lf({type:U,groupId:k,targetUserId:P,performedBy:r,timestamp:new Date().toISOString()})).unwrap(),x(null)}catch(B){console.error("Failed to perform admin action:",B)}},T=async P=>{if(r&&window.confirm("Are you sure you want to leave this group?"))try{await n(af({groupId:P,userId:r})).unwrap(),o===P&&(n(Nu(null)),n(Mr(null)))}catch(U){console.error("Failed to leave group:",U)}},D=P=>{const U=s[P];if(!U||!r)return!1;const B=U.find(F=>F.userId===r);return(B==null?void 0:B.role)==="admin"},$=()=>{const P=Object.values(i);return P.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("p",{className:"text-muted",children:"No groups yet. Create one to get started!"}),u.jsx("button",{onClick:()=>f("create"),className:"btn btn-primary mt-md",children:"Create Group"})]}):u.jsx("div",{className:"group-list",children:P.map(U=>u.jsxs("div",{className:"group-item",children:[u.jsxs("div",{className:"group-item-info",children:[u.jsx("h4",{className:"group-item-name",children:U.name}),U.description&&u.jsx("p",{className:"group-item-description",children:U.description}),u.jsxs("div",{className:"group-item-meta",children:[u.jsxs("span",{children:[U.memberCount," members"]}),U.lastActivity&&u.jsxs("span",{className:"text-muted",children:[" Last active ",new Date(U.lastActivity).toLocaleDateString()]})]})]}),u.jsxs("div",{className:"group-item-actions",children:[u.jsx("button",{onClick:()=>S(U.id),className:"btn btn-primary btn-sm",children:"Open Chat"}),u.jsx("button",{onClick:()=>{N(U.id),f("manage")},className:"btn btn-secondary btn-sm",children:"Manage"})]})]},U.id))})},A=()=>u.jsxs("form",{onSubmit:j,className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Group Name"}),u.jsx("input",{type:"text",value:m,onChange:P=>p(P.target.value),placeholder:"Enter group name",className:"input",maxLength:50,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Description (optional)"}),u.jsx("textarea",{value:y,onChange:P=>w(P.target.value),placeholder:"What's this group about?",className:"input",rows:3,maxLength:200})]}),u.jsxs("div",{className:"btn-group",children:[u.jsx("button",{type:"button",onClick:()=>f("list"),className:"btn btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:l||!m.trim(),className:"btn btn-primary",children:l?"Creating...":"Create Group"})]})]}),re=()=>{if(!k)return null;const P=i[k],U=s[k]||[],B=D(k);return u.jsxs("div",{className:"group-manage",children:[u.jsxs("div",{className:"group-manage-header",children:[u.jsx("h3",{children:P==null?void 0:P.name}),u.jsx("button",{onClick:()=>f("list"),className:"btn btn-icon",children:" Back"})]}),(P==null?void 0:P.description)&&u.jsx("p",{className:"text-muted mb-md",children:P.description}),B&&u.jsxs("div",{className:"group-manage-section",children:[u.jsx("h4",{children:"Add Member"}),u.jsxs("form",{onSubmit:C,className:"form-inline",children:[u.jsx("input",{type:"text",value:g,onChange:F=>d(F.target.value),placeholder:"User ID",className:"input",style:{flex:1}}),u.jsx("button",{type:"submit",disabled:!g.trim(),className:"btn btn-primary",children:"Add"})]})]}),u.jsxs("div",{className:"group-manage-section",children:[u.jsxs("h4",{children:["Members (",U.length,")"]}),u.jsx("div",{className:"member-list",children:U.map(F=>u.jsxs("div",{className:"member-item",children:[u.jsxs("div",{className:"member-info",children:[u.jsxs("span",{className:"member-name",children:[F.userId,F.userId===r&&" (You)"]}),u.jsxs("div",{className:"member-badges",children:[F.role==="admin"&&u.jsx("span",{className:"badge badge-admin",children:"Admin"}),F.isMuted&&u.jsx("span",{className:"badge badge-muted",children:"Muted"}),F.isOnline&&u.jsx("span",{className:"status-dot status-online"})]})]}),B&&F.userId!==r&&u.jsxs("div",{className:"member-actions",children:[u.jsx("button",{onClick:()=>x(h===F.userId?null:F.userId),className:"btn btn-icon",children:""}),h===F.userId&&u.jsxs("div",{className:"admin-menu",children:[F.role!=="admin"&&u.jsx("button",{onClick:()=>v(F.userId,"promote"),className:"admin-menu-item",children:"Make Admin"}),F.role==="admin"&&u.jsx("button",{onClick:()=>v(F.userId,"demote"),className:"admin-menu-item",children:"Remove Admin"}),F.isMuted?u.jsx("button",{onClick:()=>v(F.userId,"unmute"),className:"admin-menu-item",children:"Unmute"}):u.jsx("button",{onClick:()=>v(F.userId,"mute"),className:"admin-menu-item",children:"Mute"}),u.jsx("button",{onClick:()=>v(F.userId,"ban"),className:"admin-menu-item admin-menu-item-danger",children:"Ban from Group"})]})]})]},F.userId))})]}),u.jsx("div",{className:"group-manage-footer",children:u.jsx("button",{onClick:()=>T(k),className:"btn btn-danger",children:"Leave Group"})})]})};return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal group-chat-manager",onClick:P=>P.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"Group Chats"}),u.jsx("button",{onClick:t,className:"btn btn-icon",children:""})]}),a&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:""}),u.jsx("span",{children:a})]}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{onClick:()=>f("list"),className:`tab ${c==="list"?"tab-active":""}`,children:"My Groups"}),u.jsx("button",{onClick:()=>f("create"),className:`tab ${c==="create"?"tab-active":""}`,children:"Create Group"}),k&&u.jsx("button",{onClick:()=>f("manage"),className:`tab ${c==="manage"?"tab-active":""}`,children:"Manage"})]}),u.jsxs("div",{className:"modal-content",children:[c==="list"&&$(),c==="create"&&A(),c==="manage"&&re()]})]})}):null},Kg=()=>{var Xl,Zl;const e=Bt(),t=V(_=>_.messages.currentUserId),n=V(_=>_.messages.connectedToUser),r=V(_=>_.messages.messages),i=V(_=>_.messages.isWebSocketConnected),s=V(_=>_.messages.users),[o,l]=I.useState(""),[a,c]=I.useState(null),[f,m]=I.useState(!0),[p,y]=I.useState(null),[w,k]=I.useState(!1),[N,g]=I.useState(null),[d,h]=I.useState(null),[x,j]=I.useState(new Map),[S,C]=I.useState(!1),v=I.useRef(null),T=I.useRef(null),D=I.useRef(new Map),{ws:$,messageProcessor:A}=df(),{sendFile:re,isConnected:P,createConnection:U,getFileUrl:B}=Hg(),F=n==null?void 0:n.startsWith("GROUP_"),M=n?(Xl=s[n])==null?void 0:Xl.online:!1,O=V(_=>_.groups.groups),[L,K]=I.useState(!1),G=r.filter(_=>!_.content||_.content==="delivered"||_.content==="read"||_.content==="status_update"?!1:F?_.toId===n||_.fromId===t&&_.toId===n:_.fromId===t&&_.toId===n||_.fromId===n&&_.toId===t);I.useEffect(()=>{(async()=>{for(const z of G){const Y=z.content;if(typeof Y=="object"&&Y&&"file"in Y&&!B(z.id)&&!x.has(z.id)){const be=await xg(z.id);be&&j(at=>new Map(at).set(z.id,be.url))}}})()},[G,B]),I.useEffect(()=>{(async()=>{if(!(!t||!n)){m(!0);try{await e(hi({userId1:t,userId2:n})).unwrap()}catch{y("Failed to load messages")}finally{m(!1)}}})()},[t,n,e]),I.useEffect(()=>{const _=()=>{document.visibilityState==="visible"&&A&&G.filter(Y=>Y.fromId===n&&!Y.readStatus).forEach(Y=>{const ke={id:`read_${Y.id}`,fromId:t,toId:Y.fromId,content:"read",timestamp:new Date().toISOString(),delivered:!0,readStatus:!0,status:"read"};A.sendMessage(ke),e(sf(Y.id))})};return document.addEventListener("visibilitychange",_),_(),()=>document.removeEventListener("visibilitychange",_)},[G,t,A,e]),I.useEffect(()=>{var _;(_=v.current)==null||_.scrollIntoView({behavior:"smooth"})},[G]);const Ct=_=>{var Y;const z=(Y=_.target.files)==null?void 0:Y[0];z&&c(z)},ot=_=>{g(_)},An=()=>{g(null)},lt=_=>{const z=D.current.get(_);z&&(z.scrollIntoView({behavior:"smooth",block:"center"}),h(_),setTimeout(()=>h(null),1500))},un=_=>{const z=_.content;if(typeof z=="string")return z;if(z&&typeof z=="object"&&"type"in z){const Y=z;if(Y.text)return Y.text;if(Y.file)return Y.file.name}return"Message"},hf=async _=>{if(_.preventDefault(),!(!o.trim()&&!a||!n)){y(null);try{a?await yf():await gf(),g(null)}catch(z){console.error("Error in handleSubmit:",z),y(z instanceof Error?z.message:"Failed to send message")}}},gf=async()=>{if(!A||!t||!n)throw new Error("Missing required components for text message");const _=o.trim(),z={id:crypto.randomUUID(),fromId:t,toId:n,content:_,timestamp:new Date().toISOString(),delivered:!1,readStatus:!1,status:"sent",replyTo:N?{messageId:N.id,fromId:N.fromId,content:N.content,timestamp:N.timestamp}:void 0};await A.sendMessage(z),l("")},yf=async()=>{if(!a||!t||!n)throw new Error("Missing required components for file transfer");k(!0);try{if(!P(n)&&(console.log("Creating WebRTC connection for file transfer..."),!await U(n)))throw new Error("Failed to establish WebRTC connection for file transfer");console.log("Sending file via WebRTC...");const _=await re(n,a),Y={type:a.type.startsWith("image/")?"image":a.type.startsWith("video/")?"video":a.type.startsWith("audio/")?"audio":"file",file:{name:a.name,size:a.size,type:a.type,lastModified:a.lastModified}};if(A){const ke={id:_,fromId:t,toId:n,content:Y,timestamp:new Date().toISOString(),delivered:!1,readStatus:!1,status:"sent",replyTo:N?{messageId:N.id,fromId:N.fromId,content:N.content,timestamp:N.timestamp}:void 0};await A.sendMessage(ke)}c(null),T.current&&(T.current.value=""),console.log("File transfer completed successfully")}catch(_){throw console.error("File transfer failed:",_),new Error(`File transfer failed: ${_ instanceof Error?_.message:"Unknown error"}`)}finally{k(!1)}},vf=_=>new Date(_).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),wf=_=>{var at;const z=_.content;let Y="",ke=!1,be="";if(typeof z=="string")Y=z;else if(z&&typeof z=="object"&&"type"in z){const Fr=z;ke=!0,Fr.type==="image"?be="":Fr.type==="video"?be="":Fr.type==="audio"&&(be=""),Y=((at=Fr.file)==null?void 0:at.name)||"File"}return u.jsxs("div",{className:"reply-context",onClick:()=>lt(_.messageId),children:[u.jsx("div",{className:"reply-context-header",children:_.fromId===t?"You":_.fromId}),u.jsx("div",{className:"reply-context-content",children:ke?u.jsxs("div",{className:"reply-context-file",children:[u.jsx("span",{className:"reply-context-file-icon",children:be}),u.jsx("span",{children:Y})]}):Y})]})},Sf=_=>{const z=_.content,Y=()=>{if(typeof z=="string")return u.jsx("span",{children:z});if(z.type==="file"||z.type==="image"||z.type==="video"||z.type==="audio"){const ke=z.file;if(!ke)return u.jsx("span",{children:"Invalid file"});const be=B(_.id)||x.get(_.id);if(be){const at=_.fromId!==t;return u.jsxs("div",{children:[u.jsx(Vg,{file:{url:be,name:ke.name,type:ke.type,size:ke.size},isIncoming:at}),at&&u.jsx("div",{className:"file-auto-download-notice",children:" Auto-downloaded to your downloads folder"})]})}else{const at=z.type==="image"?"":z.type==="video"?"":z.type==="audio"?"":"";return u.jsxs("div",{className:"file-preview",children:[u.jsx("span",{className:"file-icon",children:at}),u.jsxs("div",{className:"file-info",children:[u.jsx("div",{className:"file-name",children:ke.name}),u.jsx("div",{className:"file-size",children:_.fromId===t?"Sending...":"Receiving..."})]})]})}}return u.jsx("span",{children:"Unsupported message type"})};return u.jsxs(u.Fragment,{children:[_.replyTo&&wf(_.replyTo),Y()]})};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"chat-container",children:[u.jsxs("div",{className:"chat-header",children:[u.jsxs("div",{className:"chat-header-left",children:[u.jsx("button",{onClick:()=>C(!S),className:"btn btn-icon contact-switcher-toggle",title:"Show contacts",children:u.jsx("span",{className:"contact-switcher-icon",children:""})}),u.jsxs("div",{className:"chat-user-info",children:[u.jsxs("span",{children:[F?"Group: ":"Chat with: ",u.jsx("strong",{children:F&&n?(Zl=O[n])==null?void 0:Zl.name:n})]}),!F&&u.jsxs("div",{className:"status",children:[u.jsx("span",{className:`status-dot status-${M?"online":"offline"}`}),u.jsx("span",{children:M?"Online":"Offline"})]})]})]}),u.jsxs("div",{className:"status",children:[u.jsx("span",{className:`status-dot status-${i?"online":"offline"}`}),u.jsx("span",{children:"Connection"}),n&&!F&&P(n)&&u.jsxs("div",{className:"status ml-2",children:[u.jsx("span",{className:"status-dot status-online"}),u.jsx("span",{children:"WebRTC"})]})]})]}),F&&n&&u.jsx(Gg,{groupId:n,onManageClick:()=>K(!0)}),u.jsx(Qg,{isOpen:S,onClose:()=>C(!1)}),u.jsxs("div",{className:"chat-messages",children:[G.map(_=>u.jsx("div",{ref:z=>{z&&D.current.set(_.id,z)},className:`message ${_.fromId===t?"message-outgoing":""} ${d===_.id?"reply-highlighted":""}`,style:{position:"relative"},children:_.fromId==="system"?u.jsx("div",{className:"message-system",children:u.jsx("div",{className:"message-system-content",children:typeof _.content=="string"?_.content:"System message"})}):u.jsxs(u.Fragment,{children:[F&&_.fromId!==t&&u.jsx("div",{className:"message-group-header message-group-header-incoming",children:_.fromId}),u.jsx("div",{className:"message-actions",children:u.jsxs("button",{className:"reply-button",onClick:()=>ot(_),title:"Reply",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Reply"})]})}),u.jsx("div",{className:`message-bubble ${_.fromId===t?"message-bubble-outgoing":"message-bubble-incoming"}`,children:Sf(_)}),u.jsxs("div",{className:"message-meta",children:[u.jsx("span",{children:vf(_.timestamp)}),_.fromId===t&&u.jsx("span",{className:"message-status",children:_.status==="read"?"":_.status==="delivered"?"":""})]})]})},_.id)),u.jsx("div",{ref:v})]}),u.jsxs("div",{className:"chat-input-area",children:[p&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:""}),u.jsx("span",{children:p})]}),w&&u.jsxs("div",{className:"alert alert-success mb-md",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Transferring file via WebRTC..."})]}),N&&u.jsxs("div",{className:"reply-input-bar",children:[u.jsxs("div",{className:"reply-input-content",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"reply-input-user",children:[N.fromId===t?"You":N.fromId,":"]}),u.jsx("span",{className:"reply-input-text",children:un(N)})]}),u.jsx("button",{onClick:An,className:"reply-cancel-button",title:"Cancel reply",children:""})]}),a&&u.jsxs("div",{className:"file-preview mb-sm",children:[u.jsx("span",{className:"file-icon",children:""}),u.jsxs("div",{className:"file-info",children:[u.jsx("div",{className:"file-name",children:a.name}),u.jsxs("div",{className:"file-size",children:[(a.size/1024).toFixed(1)," KB"]})]}),u.jsx("button",{onClick:()=>{c(null),T.current&&(T.current.value="")},className:"btn btn-icon",children:""})]}),u.jsxs("form",{onSubmit:hf,className:"chat-input-form",children:[u.jsx("input",{ref:T,type:"file",onChange:Ct,className:"hidden",id:"file-input",disabled:w}),u.jsx("label",{htmlFor:"file-input",className:"btn btn-icon",children:""}),u.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:i?"Type a message...":"Connecting...",className:"input",disabled:!i||w}),u.jsx("button",{type:"submit",disabled:!i||!o.trim()&&!a||w,className:"btn btn-primary",children:w?"Sending...":"Send"})]})]})]}),L&&u.jsx(pf,{isOpen:L,onClose:()=>K(!1)})]})},Yg=()=>{const e=Bt(),t=V(w=>w.messages.currentUserId),n=V(w=>w.messages.connectedToUser),r=V(w=>w.messages.messages),[i,s]=I.useState(!1),[o,l]=I.useState(null),[a,c]=I.useState(!1),[f,m]=I.useState(!1),p=I.useMemo(()=>{if(!t)return 0;let w=0;const k=new Map;return r.forEach(N=>{if(!(!N.content||N.content==="delivered"||N.content==="read"||N.content==="status_update"||typeof N.content=="object"&&"type"in N.content&&["offer","answer","ice-candidate"].includes(N.content.type))&&N.fromId!==t&&N.toId===t&&!N.readStatus){const g=k.get(N.fromId)||0;k.set(N.fromId,g+1)}}),k.forEach((N,g)=>{g!==n&&(w+=N)}),w},[r,t,n]),y=async()=>{try{await gg(),s(!0),l(null)}catch(w){const k=w instanceof Error&&w.name==="NotAllowedError"?"Permission denied. Please try again and allow file system access.":"Failed to initialize storage. Please refresh and try again.";l(k)}};return I.useEffect(()=>{t&&e(pi(t))},[t,e]),i?t?u.jsx(Ag,{children:u.jsx(Bg,{children:u.jsxs("div",{className:"app-container",children:[u.jsxs("header",{className:"app-header",children:[u.jsx(Bs,{mode:"menu"}),u.jsxs("div",{className:"app-header-actions",children:[p>0&&u.jsxs("div",{className:"app-unread-badge",title:`${p} unread messages`,children:[u.jsx("span",{className:"app-unread-icon",children:""}),u.jsx("span",{className:"app-unread-count",children:p>99?"99+":p})]}),u.jsx("button",{onClick:()=>m(!f),className:"btn btn-icon",title:"Groups",children:""}),u.jsx("button",{onClick:()=>c(!a),className:"btn btn-icon",title:"Settings",children:""})]})]}),u.jsx("main",{className:"app-main",children:n?u.jsx(Kg,{}):u.jsx(Bs,{mode:"connect"})}),u.jsx(pf,{isOpen:f,onClose:()=>m(!1)}),a&&u.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:u.jsx("div",{className:"modal",onClick:w=>w.stopPropagation()})})]})})}):u.jsx("div",{className:"app-container",children:u.jsx("div",{className:"app-main",children:u.jsx(Bs,{mode:"setup"})})}):u.jsx("div",{className:"app-container",children:u.jsx("div",{className:"app-main",children:u.jsxs("div",{className:"card fade-in",children:[u.jsx("h1",{className:"card-title",children:"Welcome to SecureChat"}),u.jsx("p",{className:"text-center text-muted mb-lg",children:"A peer-to-peer encrypted chat application"}),o&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:""}),u.jsx("span",{children:o})]}),u.jsx("p",{className:"text-center mb-lg",children:"To begin, we need to set up local storage for your messages. Your data stays on your device."}),u.jsx("button",{onClick:y,className:"btn btn-primary",children:"Initialize Storage"})]})})})},Jg=()=>u.jsx(vh,{store:Ug,children:u.jsx(Yg,{})}),mf=document.getElementById("root");if(!mf)throw new Error("Failed to find the root element");const Xg=Qs.createRoot(mf);Xg.render(u.jsx(Xo.StrictMode,{children:u.jsx(Jg,{})}));
