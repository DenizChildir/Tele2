var Ef=Object.defineProperty;var Nf=(e,t,n)=>t in e?Ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mi=(e,t,n)=>Nf(e,typeof t!="symbol"?t+"":t,n);function jf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _u={exports:{}},Ys={},Tu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=Symbol.for("react.element"),Tf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),zf=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Ff=Symbol.for("react.memo"),Lf=Symbol.for("react.lazy"),ea=Symbol.iterator;function Uf(e){return e===null||typeof e!="object"?null:(e=ea&&e[ea]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,Ru={};function Un(e,t,n){this.props=e,this.context=t,this.refs=Ru,this.updater=n||Du}Un.prototype.isReactComponent={};Un.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Un.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Iu(){}Iu.prototype=Un.prototype;function Yo(e,t,n){this.props=e,this.context=t,this.refs=Ru,this.updater=n||Du}var bo=Yo.prototype=new Iu;bo.constructor=Yo;Mu(bo,Un.prototype);bo.isPureReactComponent=!0;var ta=Array.isArray,Pu=Object.prototype.hasOwnProperty,Jo={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Pu.call(t,r)&&!zu.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),d=0;d<l;d++)a[d]=arguments[d+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Rr,type:e,key:i,ref:o,props:s,_owner:Jo.current}}function $f(e,t){return{$$typeof:Rr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rr}function Af(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var na=/\/+/g;function hi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Af(""+e.key):t.toString(36)}function ns(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rr:case Tf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+hi(o,0):r,ta(s)?(n="",e!=null&&(n=e.replace(na,"$&/")+"/"),ns(s,t,n,"",function(d){return d})):s!=null&&(Xo(s)&&(s=$f(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(na,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ta(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+hi(i,l);o+=ns(i,t,n,a,s)}else if(a=Uf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+hi(i,l++),o+=ns(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ur(e,t,n){if(e==null)return e;var r=[],s=0;return ns(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Wf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},rs={transition:null},Hf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:rs,ReactCurrentOwner:Jo};function Fu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Ur,forEach:function(e,t,n){Ur(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ur(e,function(){t++}),t},toArray:function(e){return Ur(e,function(t){return t})||[]},only:function(e){if(!Xo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=Un;$.Fragment=Df;$.Profiler=Rf;$.PureComponent=Yo;$.StrictMode=Mf;$.Suspense=Of;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf;$.act=Fu;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Mu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Jo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Pu.call(t,a)&&!zu.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var d=0;d<a;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Rr,type:e.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:Pf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:If,_context:e},e.Consumer=e};$.createElement=Ou;$.createFactory=function(e){var t=Ou.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:zf,render:e}};$.isValidElement=Xo;$.lazy=function(e){return{$$typeof:Lf,_payload:{_status:-1,_result:e},_init:Wf}};$.memo=function(e,t){return{$$typeof:Ff,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=rs.transition;rs.transition={};try{e()}finally{rs.transition=t}};$.unstable_act=Fu;$.useCallback=function(e,t){return Ce.current.useCallback(e,t)};$.useContext=function(e){return Ce.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};$.useEffect=function(e,t){return Ce.current.useEffect(e,t)};$.useId=function(){return Ce.current.useId()};$.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Ce.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};$.useRef=function(e){return Ce.current.useRef(e)};$.useState=function(e){return Ce.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Ce.current.useTransition()};$.version="18.3.1";Tu.exports=$;var P=Tu.exports;const Zo=_f(P),ra=jf({__proto__:null,default:Zo},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=P,Gf=Symbol.for("react.element"),Vf=Symbol.for("react.fragment"),Qf=Object.prototype.hasOwnProperty,Kf=Bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yf={key:!0,ref:!0,__self:!0,__source:!0};function Lu(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Qf.call(t,r)&&!Yf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Gf,type:e,key:i,ref:o,props:s,_owner:Kf.current}}Ys.Fragment=Vf;Ys.jsx=Lu;Ys.jsxs=Lu;_u.exports=Ys;var u=_u.exports,Yi={},Uu={exports:{}},Le={},$u={exports:{}},Au={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,O){var D=N.length;N.push(O);e:for(;0<D;){var H=D-1>>>1,J=N[H];if(0<s(J,O))N[H]=O,N[D]=J,D=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var O=N[0],D=N.pop();if(D!==O){N[0]=D;e:for(var H=0,J=N.length,ke=J>>>1;H<ke;){var lt=2*(H+1)-1,Wn=N[lt],at=lt+1,un=N[at];if(0>s(Wn,D))at<J&&0>s(un,Wn)?(N[H]=un,N[at]=D,H=at):(N[H]=Wn,N[lt]=D,H=lt);else if(at<J&&0>s(un,D))N[H]=un,N[at]=D,H=at;else break e}}return O}function s(N,O){var D=N.sortIndex-O.sortIndex;return D!==0?D:N.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],d=[],f=1,m=null,y=3,g=!1,v=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=N)r(d),O.sortIndex=O.expirationTime,t(a,O);else break;O=n(d)}}function x(N){if(k=!1,p(N),!v)if(n(a)!==null)v=!0,b(j);else{var O=n(d);O!==null&&R(x,O.startTime-N)}}function j(N,O){v=!1,k&&(k=!1,h(w),w=-1),g=!0;var D=y;try{for(p(O),m=n(a);m!==null&&(!(m.expirationTime>O)||N&&!L());){var H=m.callback;if(typeof H=="function"){m.callback=null,y=m.priorityLevel;var J=H(m.expirationTime<=O);O=e.unstable_now(),typeof J=="function"?m.callback=J:m===n(a)&&r(a),p(O)}else r(a);m=n(a)}if(m!==null)var ke=!0;else{var lt=n(d);lt!==null&&R(x,lt.startTime-O),ke=!1}return ke}finally{m=null,y=D,g=!1}}var S=!1,C=null,w=-1,M=5,I=-1;function L(){return!(e.unstable_now()-I<M)}function U(){if(C!==null){var N=e.unstable_now();I=N;var O=!0;try{O=C(!0,N)}finally{O?te():(S=!1,C=null)}}else S=!1}var te;if(typeof c=="function")te=function(){c(U)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ce=se.port2;se.port1.onmessage=U,te=function(){ce.postMessage(null)}}else te=function(){E(U,0)};function b(N){C=N,S||(S=!0,te())}function R(N,O){w=E(function(){N(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,b(j))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(y){case 1:case 2:case 3:var O=3;break;default:O=y}var D=y;y=O;try{return N()}finally{y=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var D=y;y=N;try{return O()}finally{y=D}},e.unstable_scheduleCallback=function(N,O,D){var H=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=D+J,N={id:f++,callback:O,priorityLevel:N,startTime:D,expirationTime:J,sortIndex:-1},D>H?(N.sortIndex=D,t(d,N),n(a)===null&&N===n(d)&&(k?(h(w),w=-1):k=!0,R(x,D-H))):(N.sortIndex=J,t(a,N),v||g||(v=!0,b(j))),N},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(N){var O=y;return function(){var D=y;y=O;try{return N.apply(this,arguments)}finally{y=D}}}})(Au);$u.exports=Au;var bf=$u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=P,ze=bf;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wu=new Set,dr={};function ln(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(dr[e]=t,e=0;e<t.length;e++)Wu.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=Object.prototype.hasOwnProperty,Xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sa={},ia={};function Zf(e){return bi.call(ia,e)?!0:bi.call(sa,e)?!1:Xf.test(e)?ia[e]=!0:(sa[e]=!0,!1)}function qf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ep(e,t,n,r){if(t===null||typeof t>"u"||qf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var qo=/[\-:]([a-z])/g;function el(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qo,el);me[t]=new xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qo,el);me[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qo,el);me[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function tl(e,t,n,r){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ep(t,n,s,r)&&(n=null),r||s===null?Zf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ct=Jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$r=Symbol.for("react.element"),dn=Symbol.for("react.portal"),fn=Symbol.for("react.fragment"),nl=Symbol.for("react.strict_mode"),Ji=Symbol.for("react.profiler"),Hu=Symbol.for("react.provider"),Bu=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),Xi=Symbol.for("react.suspense"),Zi=Symbol.for("react.suspense_list"),sl=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),oa=Symbol.iterator;function Hn(e){return e===null||typeof e!="object"?null:(e=oa&&e[oa]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,gi;function Jn(e){if(gi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gi=t&&t[1]||""}return`
`+gi+e}var yi=!1;function vi(e,t){if(!e||yi)return"";yi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{yi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jn(e):""}function tp(e){switch(e.tag){case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 2:case 15:return e=vi(e.type,!1),e;case 11:return e=vi(e.type.render,!1),e;case 1:return e=vi(e.type,!0),e;default:return""}}function qi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fn:return"Fragment";case dn:return"Portal";case Ji:return"Profiler";case nl:return"StrictMode";case Xi:return"Suspense";case Zi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bu:return(e.displayName||"Context")+".Consumer";case Hu:return(e._context.displayName||"Context")+".Provider";case rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sl:return t=e.displayName||null,t!==null?t:qi(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return qi(e(t))}catch{}}return null}function np(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qi(t);case 8:return t===nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rp(e){var t=Vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){e._valueTracker||(e._valueTracker=rp(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eo(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function la(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ku(e,t){t=t.checked,t!=null&&tl(e,"checked",t,!1)}function to(e,t){Ku(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,n):t.hasOwnProperty("defaultValue")&&no(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function no(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xn=Array.isArray;function kn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Xn(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function Yu(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ca(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function so(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wr,Ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sp=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(e){sp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tr[t]=tr[e]})});function Xu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tr.hasOwnProperty(e)&&tr[e]?(""+t).trim():t+"px"}function Zu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ip=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if(ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ao=null,En=null,Nn=null;function da(e){if(e=zr(e)){if(typeof ao!="function")throw Error(_(280));var t=e.stateNode;t&&(t=qs(t),ao(e.stateNode,e.type,t))}}function qu(e){En?Nn?Nn.push(e):Nn=[e]:En=e}function ec(){if(En){var e=En,t=Nn;if(Nn=En=null,da(e),t)for(e=0;e<t.length;e++)da(t[e])}}function tc(e,t){return e(t)}function nc(){}var wi=!1;function rc(e,t,n){if(wi)return e(t,n);wi=!0;try{return tc(e,t,n)}finally{wi=!1,(En!==null||Nn!==null)&&(nc(),ec())}}function pr(e,t){var n=e.stateNode;if(n===null)return null;var r=qs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var uo=!1;if(gt)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{uo=!1}function op(e,t,n,r,s,i,o,l,a){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var nr=!1,vs=null,ws=!1,co=null,lp={onError:function(e){nr=!0,vs=e}};function ap(e,t,n,r,s,i,o,l,a){nr=!1,vs=null,op.apply(lp,arguments)}function up(e,t,n,r,s,i,o,l,a){if(ap.apply(this,arguments),nr){if(nr){var d=vs;nr=!1,vs=null}else throw Error(_(198));ws||(ws=!0,co=d)}}function an(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fa(e){if(an(e)!==e)throw Error(_(188))}function cp(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return fa(s),e;if(i===r)return fa(s),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function ic(e){return e=cp(e),e!==null?oc(e):null}function oc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oc(e);if(t!==null)return t;e=e.sibling}return null}var lc=ze.unstable_scheduleCallback,pa=ze.unstable_cancelCallback,dp=ze.unstable_shouldYield,fp=ze.unstable_requestPaint,re=ze.unstable_now,pp=ze.unstable_getCurrentPriorityLevel,ol=ze.unstable_ImmediatePriority,ac=ze.unstable_UserBlockingPriority,Ss=ze.unstable_NormalPriority,mp=ze.unstable_LowPriority,uc=ze.unstable_IdlePriority,bs=null,st=null;function hp(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(bs,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:vp,gp=Math.log,yp=Math.LN2;function vp(e){return e>>>=0,e===0?32:31-(gp(e)/yp|0)|0}var Hr=64,Br=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zn(l):(i&=o,i!==0&&(r=Zn(i)))}else o=n&~s,o!==0?r=Zn(o):i!==0&&(r=Zn(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xe(t),s=1<<n,r|=e[n],t&=~s;return r}function wp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Xe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=wp(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cc(){var e=Hr;return Hr<<=1,!(Hr&4194240)&&(Hr=64),e}function Si(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=n}function Cp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Xe(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ll(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var B=0;function dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fc,al,pc,mc,hc,po=!1,Gr=[],Mt=null,Rt=null,It=null,mr=new Map,hr=new Map,jt=[],xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ma(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(t.pointerId)}}function Gn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zr(t),t!==null&&al(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kp(e,t,n,r,s){switch(t){case"focusin":return Mt=Gn(Mt,e,t,n,r,s),!0;case"dragenter":return Rt=Gn(Rt,e,t,n,r,s),!0;case"mouseover":return It=Gn(It,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mr.set(i,Gn(mr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hr.set(i,Gn(hr.get(i)||null,e,t,n,r,s)),!0}return!1}function gc(e){var t=Kt(e.target);if(t!==null){var n=an(t);if(n!==null){if(t=n.tag,t===13){if(t=sc(n),t!==null){e.blockedOn=t,hc(e.priority,function(){pc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lo=r,n.target.dispatchEvent(r),lo=null}else return t=zr(n),t!==null&&al(t),e.blockedOn=n,!1;t.shift()}return!0}function ha(e,t,n){ss(e)&&n.delete(t)}function Ep(){po=!1,Mt!==null&&ss(Mt)&&(Mt=null),Rt!==null&&ss(Rt)&&(Rt=null),It!==null&&ss(It)&&(It=null),mr.forEach(ha),hr.forEach(ha)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,po||(po=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Ep)))}function gr(e){function t(s){return Vn(s,e)}if(0<Gr.length){Vn(Gr[0],e);for(var n=1;n<Gr.length;n++){var r=Gr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&Vn(Mt,e),Rt!==null&&Vn(Rt,e),It!==null&&Vn(It,e),mr.forEach(t),hr.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)gc(n),n.blockedOn===null&&jt.shift()}var jn=Ct.ReactCurrentBatchConfig,xs=!0;function Np(e,t,n,r){var s=B,i=jn.transition;jn.transition=null;try{B=1,ul(e,t,n,r)}finally{B=s,jn.transition=i}}function jp(e,t,n,r){var s=B,i=jn.transition;jn.transition=null;try{B=4,ul(e,t,n,r)}finally{B=s,jn.transition=i}}function ul(e,t,n,r){if(xs){var s=mo(e,t,n,r);if(s===null)Mi(e,t,r,ks,n),ma(e,r);else if(kp(s,e,t,n,r))r.stopPropagation();else if(ma(e,r),t&4&&-1<xp.indexOf(e)){for(;s!==null;){var i=zr(s);if(i!==null&&fc(i),i=mo(e,t,n,r),i===null&&Mi(e,t,r,ks,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mi(e,t,r,null,n)}}var ks=null;function mo(e,t,n,r){if(ks=null,e=il(r),e=Kt(e),e!==null)if(t=an(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ks=e,null}function yc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pp()){case ol:return 1;case ac:return 4;case Ss:case mp:return 16;case uc:return 536870912;default:return 16}default:return 16}}var Tt=null,cl=null,is=null;function vc(){if(is)return is;var e,t=cl,n=t.length,r,s="value"in Tt?Tt.value:Tt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return is=s.slice(e,1<r?1-r:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function ga(){return!1}function Ue(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vr:ga,this.isPropagationStopped=ga,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=Ue($n),Pr=ee({},$n,{view:0,detail:0}),_p=Ue(Pr),Ci,xi,Qn,Js=ee({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Ci=e.screenX-Qn.screenX,xi=e.screenY-Qn.screenY):xi=Ci=0,Qn=e),Ci)},movementY:function(e){return"movementY"in e?e.movementY:xi}}),ya=Ue(Js),Tp=ee({},Js,{dataTransfer:0}),Dp=Ue(Tp),Mp=ee({},Pr,{relatedTarget:0}),ki=Ue(Mp),Rp=ee({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=Ue(Rp),Pp=ee({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zp=Ue(Pp),Op=ee({},$n,{data:0}),va=Ue(Op),Fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $p(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function fl(){return $p}var Ap=ee({},Pr,{key:function(e){if(e.key){var t=Fp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=Ue(Ap),Hp=ee({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wa=Ue(Hp),Bp=ee({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),Gp=Ue(Bp),Vp=ee({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=Ue(Vp),Kp=ee({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yp=Ue(Kp),bp=[9,13,27,32],pl=gt&&"CompositionEvent"in window,rr=null;gt&&"documentMode"in document&&(rr=document.documentMode);var Jp=gt&&"TextEvent"in window&&!rr,wc=gt&&(!pl||rr&&8<rr&&11>=rr),Sa=" ",Ca=!1;function Sc(e,t){switch(e){case"keyup":return bp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function Xp(e,t){switch(e){case"compositionend":return Cc(t);case"keypress":return t.which!==32?null:(Ca=!0,Sa);case"textInput":return e=t.data,e===Sa&&Ca?null:e;default:return null}}function Zp(e,t){if(pn)return e==="compositionend"||!pl&&Sc(e,t)?(e=vc(),is=cl=Tt=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wc&&t.locale!=="ko"?null:t.data;default:return null}}var qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qp[e.type]:t==="textarea"}function xc(e,t,n,r){qu(r),t=Es(t,"onChange"),0<t.length&&(n=new dl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sr=null,yr=null;function em(e){Pc(e,0)}function Xs(e){var t=gn(e);if(Qu(t))return e}function tm(e,t){if(e==="change")return t}var kc=!1;if(gt){var Ei;if(gt){var Ni="oninput"in document;if(!Ni){var ka=document.createElement("div");ka.setAttribute("oninput","return;"),Ni=typeof ka.oninput=="function"}Ei=Ni}else Ei=!1;kc=Ei&&(!document.documentMode||9<document.documentMode)}function Ea(){sr&&(sr.detachEvent("onpropertychange",Ec),yr=sr=null)}function Ec(e){if(e.propertyName==="value"&&Xs(yr)){var t=[];xc(t,yr,e,il(e)),rc(em,t)}}function nm(e,t,n){e==="focusin"?(Ea(),sr=t,yr=n,sr.attachEvent("onpropertychange",Ec)):e==="focusout"&&Ea()}function rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(yr)}function sm(e,t){if(e==="click")return Xs(t)}function im(e,t){if(e==="input"||e==="change")return Xs(t)}function om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:om;function vr(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bi.call(t,s)||!qe(e[s],t[s]))return!1}return!0}function Na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ja(e,t){var n=Na(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Na(n)}}function Nc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jc(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lm(e){var t=jc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nc(n.ownerDocument.documentElement,n)){if(r!==null&&ml(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ja(n,i);var o=ja(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var am=gt&&"documentMode"in document&&11>=document.documentMode,mn=null,ho=null,ir=null,go=!1;function _a(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;go||mn==null||mn!==ys(r)||(r=mn,"selectionStart"in r&&ml(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&vr(ir,r)||(ir=r,r=Es(ho,"onSelect"),0<r.length&&(t=new dl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function Qr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hn={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionend:Qr("Transition","TransitionEnd")},ji={},_c={};gt&&(_c=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);function Zs(e){if(ji[e])return ji[e];if(!hn[e])return e;var t=hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _c)return ji[e]=t[n];return e}var Tc=Zs("animationend"),Dc=Zs("animationiteration"),Mc=Zs("animationstart"),Rc=Zs("transitionend"),Ic=new Map,Ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){Ic.set(e,t),ln(t,[e])}for(var _i=0;_i<Ta.length;_i++){var Ti=Ta[_i],um=Ti.toLowerCase(),cm=Ti[0].toUpperCase()+Ti.slice(1);Wt(um,"on"+cm)}Wt(Tc,"onAnimationEnd");Wt(Dc,"onAnimationIteration");Wt(Mc,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Rc,"onTransitionEnd");Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dm=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function Da(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,up(r,t,void 0,e),e.currentTarget=null}function Pc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,d=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Da(s,l,d),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,d=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Da(s,l,d),i=a}}}if(ws)throw e=co,ws=!1,co=null,e}function K(e,t){var n=t[Co];n===void 0&&(n=t[Co]=new Set);var r=e+"__bubble";n.has(r)||(zc(t,e,2,!1),n.add(r))}function Di(e,t,n){var r=0;t&&(r|=4),zc(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function wr(e){if(!e[Kr]){e[Kr]=!0,Wu.forEach(function(n){n!=="selectionchange"&&(dm.has(n)||Di(n,!1,e),Di(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kr]||(t[Kr]=!0,Di("selectionchange",!1,t))}}function zc(e,t,n,r){switch(yc(t)){case 1:var s=Np;break;case 4:s=jp;break;default:s=ul}n=s.bind(null,t,n,e),s=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Mi(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Kt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}rc(function(){var d=i,f=il(n),m=[];e:{var y=Ic.get(e);if(y!==void 0){var g=dl,v=e;switch(e){case"keypress":if(os(n)===0)break e;case"keydown":case"keyup":g=Wp;break;case"focusin":v="focus",g=ki;break;case"focusout":v="blur",g=ki;break;case"beforeblur":case"afterblur":g=ki;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Gp;break;case Tc:case Dc:case Mc:g=Ip;break;case Rc:g=Qp;break;case"scroll":g=_p;break;case"wheel":g=Yp;break;case"copy":case"cut":case"paste":g=zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wa}var k=(t&4)!==0,E=!k&&e==="scroll",h=k?y!==null?y+"Capture":null:y;k=[];for(var c=d,p;c!==null;){p=c;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,h!==null&&(x=pr(c,h),x!=null&&k.push(Sr(c,x,p)))),E)break;c=c.return}0<k.length&&(y=new g(y,v,null,n,f),m.push({event:y,listeners:k}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",y&&n!==lo&&(v=n.relatedTarget||n.fromElement)&&(Kt(v)||v[yt]))break e;if((g||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?Kt(v):null,v!==null&&(E=an(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=d),g!==v)){if(k=ya,x="onMouseLeave",h="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(k=wa,x="onPointerLeave",h="onPointerEnter",c="pointer"),E=g==null?y:gn(g),p=v==null?y:gn(v),y=new k(x,c+"leave",g,n,f),y.target=E,y.relatedTarget=p,x=null,Kt(f)===d&&(k=new k(h,c+"enter",v,n,f),k.target=p,k.relatedTarget=E,x=k),E=x,g&&v)t:{for(k=g,h=v,c=0,p=k;p;p=cn(p))c++;for(p=0,x=h;x;x=cn(x))p++;for(;0<c-p;)k=cn(k),c--;for(;0<p-c;)h=cn(h),p--;for(;c--;){if(k===h||h!==null&&k===h.alternate)break t;k=cn(k),h=cn(h)}k=null}else k=null;g!==null&&Ma(m,y,g,k,!1),v!==null&&E!==null&&Ma(m,E,v,k,!0)}}e:{if(y=d?gn(d):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var j=tm;else if(xa(y))if(kc)j=im;else{j=rm;var S=nm}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(j=sm);if(j&&(j=j(e,d))){xc(m,j,n,f);break e}S&&S(e,y,d),e==="focusout"&&(S=y._wrapperState)&&S.controlled&&y.type==="number"&&no(y,"number",y.value)}switch(S=d?gn(d):window,e){case"focusin":(xa(S)||S.contentEditable==="true")&&(mn=S,ho=d,ir=null);break;case"focusout":ir=ho=mn=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,_a(m,n,f);break;case"selectionchange":if(am)break;case"keydown":case"keyup":_a(m,n,f)}var C;if(pl)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else pn?Sc(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(wc&&n.locale!=="ko"&&(pn||w!=="onCompositionStart"?w==="onCompositionEnd"&&pn&&(C=vc()):(Tt=f,cl="value"in Tt?Tt.value:Tt.textContent,pn=!0)),S=Es(d,w),0<S.length&&(w=new va(w,e,null,n,f),m.push({event:w,listeners:S}),C?w.data=C:(C=Cc(n),C!==null&&(w.data=C)))),(C=Jp?Xp(e,n):Zp(e,n))&&(d=Es(d,"onBeforeInput"),0<d.length&&(f=new va("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=C))}Pc(m,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Es(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pr(e,n),i!=null&&r.unshift(Sr(e,i,s)),i=pr(e,t),i!=null&&r.push(Sr(e,i,s))),e=e.return}return r}function cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ma(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,d=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&d!==null&&(l=d,s?(a=pr(n,i),a!=null&&o.unshift(Sr(n,a,l))):s||(a=pr(n,i),a!=null&&o.push(Sr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var fm=/\r\n?/g,pm=/\u0000|\uFFFD/g;function Ra(e){return(typeof e=="string"?e:""+e).replace(fm,`
`).replace(pm,"")}function Yr(e,t,n){if(t=Ra(t),Ra(e)!==t&&n)throw Error(_(425))}function Ns(){}var yo=null,vo=null;function wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=typeof setTimeout=="function"?setTimeout:void 0,mm=typeof clearTimeout=="function"?clearTimeout:void 0,Ia=typeof Promise=="function"?Promise:void 0,hm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ia<"u"?function(e){return Ia.resolve(null).then(e).catch(gm)}:So;function gm(e){setTimeout(function(){throw e})}function Ri(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gr(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),rt="__reactFiber$"+An,Cr="__reactProps$"+An,yt="__reactContainer$"+An,Co="__reactEvents$"+An,ym="__reactListeners$"+An,vm="__reactHandles$"+An;function Kt(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pa(e);e!==null;){if(n=e[rt])return n;e=Pa(e)}return t}e=n,n=e.parentNode}return null}function zr(e){return e=e[rt]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function qs(e){return e[Cr]||null}var xo=[],yn=-1;function Ht(e){return{current:e}}function Y(e){0>yn||(e.current=xo[yn],xo[yn]=null,yn--)}function Q(e,t){yn++,xo[yn]=e.current,e.current=t}var $t={},ve=Ht($t),_e=Ht(!1),qt=$t;function Mn(e,t){var n=e.type.contextTypes;if(!n)return $t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Te(e){return e=e.childContextTypes,e!=null}function js(){Y(_e),Y(ve)}function za(e,t,n){if(ve.current!==$t)throw Error(_(168));Q(ve,t),Q(_e,n)}function Oc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(_(108,np(e)||"Unknown",s));return ee({},n,r)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$t,qt=ve.current,Q(ve,e),Q(_e,_e.current),!0}function Oa(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Oc(e,t,qt),r.__reactInternalMemoizedMergedChildContext=e,Y(_e),Y(ve),Q(ve,e)):Y(_e),Q(_e,n)}var dt=null,ei=!1,Ii=!1;function Fc(e){dt===null?dt=[e]:dt.push(e)}function wm(e){ei=!0,Fc(e)}function Bt(){if(!Ii&&dt!==null){Ii=!0;var e=0,t=B;try{var n=dt;for(B=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dt=null,ei=!1}catch(s){throw dt!==null&&(dt=dt.slice(e+1)),lc(ol,Bt),s}finally{B=t,Ii=!1}}return null}var vn=[],wn=0,Ts=null,Ds=0,Ae=[],We=0,en=null,ft=1,pt="";function Gt(e,t){vn[wn++]=Ds,vn[wn++]=Ts,Ts=e,Ds=t}function Lc(e,t,n){Ae[We++]=ft,Ae[We++]=pt,Ae[We++]=en,en=e;var r=ft;e=pt;var s=32-Xe(r)-1;r&=~(1<<s),n+=1;var i=32-Xe(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ft=1<<32-Xe(t)+s|n<<s|r,pt=i+e}else ft=1<<i|n<<s|r,pt=e}function hl(e){e.return!==null&&(Gt(e,1),Lc(e,1,0))}function gl(e){for(;e===Ts;)Ts=vn[--wn],vn[wn]=null,Ds=vn[--wn],vn[wn]=null;for(;e===en;)en=Ae[--We],Ae[We]=null,pt=Ae[--We],Ae[We]=null,ft=Ae[--We],Ae[We]=null}var Pe=null,Re=null,X=!1,be=null;function Uc(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pe=e,Re=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pe=e,Re=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=en!==null?{id:ft,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pe=e,Re=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eo(e){if(X){var t=Re;if(t){var n=t;if(!Fa(e,t)){if(ko(e))throw Error(_(418));t=Pt(n.nextSibling);var r=Pe;t&&Fa(e,t)?Uc(r,n):(e.flags=e.flags&-4097|2,X=!1,Pe=e)}}else{if(ko(e))throw Error(_(418));e.flags=e.flags&-4097|2,X=!1,Pe=e}}}function La(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pe=e}function br(e){if(e!==Pe)return!1;if(!X)return La(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wo(e.type,e.memoizedProps)),t&&(t=Re)){if(ko(e))throw $c(),Error(_(418));for(;t;)Uc(e,t),t=Pt(t.nextSibling)}if(La(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Re=Pt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Re=null}}else Re=Pe?Pt(e.stateNode.nextSibling):null;return!0}function $c(){for(var e=Re;e;)e=Pt(e.nextSibling)}function Rn(){Re=Pe=null,X=!1}function yl(e){be===null?be=[e]:be.push(e)}var Sm=Ct.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){var t=e._init;return t(e._payload)}function Ac(e){function t(h,c){if(e){var p=h.deletions;p===null?(h.deletions=[c],h.flags|=16):p.push(c)}}function n(h,c){if(!e)return null;for(;c!==null;)t(h,c),c=c.sibling;return null}function r(h,c){for(h=new Map;c!==null;)c.key!==null?h.set(c.key,c):h.set(c.index,c),c=c.sibling;return h}function s(h,c){return h=Lt(h,c),h.index=0,h.sibling=null,h}function i(h,c,p){return h.index=p,e?(p=h.alternate,p!==null?(p=p.index,p<c?(h.flags|=2,c):p):(h.flags|=2,c)):(h.flags|=1048576,c)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,c,p,x){return c===null||c.tag!==6?(c=$i(p,h.mode,x),c.return=h,c):(c=s(c,p),c.return=h,c)}function a(h,c,p,x){var j=p.type;return j===fn?f(h,c,p.props.children,x,p.key):c!==null&&(c.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Et&&Ua(j)===c.type)?(x=s(c,p.props),x.ref=Kn(h,c,p),x.return=h,x):(x=ps(p.type,p.key,p.props,null,h.mode,x),x.ref=Kn(h,c,p),x.return=h,x)}function d(h,c,p,x){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=Ai(p,h.mode,x),c.return=h,c):(c=s(c,p.children||[]),c.return=h,c)}function f(h,c,p,x,j){return c===null||c.tag!==7?(c=Xt(p,h.mode,x,j),c.return=h,c):(c=s(c,p),c.return=h,c)}function m(h,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=$i(""+c,h.mode,p),c.return=h,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case $r:return p=ps(c.type,c.key,c.props,null,h.mode,p),p.ref=Kn(h,null,c),p.return=h,p;case dn:return c=Ai(c,h.mode,p),c.return=h,c;case Et:var x=c._init;return m(h,x(c._payload),p)}if(Xn(c)||Hn(c))return c=Xt(c,h.mode,p,null),c.return=h,c;Jr(h,c)}return null}function y(h,c,p,x){var j=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:l(h,c,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $r:return p.key===j?a(h,c,p,x):null;case dn:return p.key===j?d(h,c,p,x):null;case Et:return j=p._init,y(h,c,j(p._payload),x)}if(Xn(p)||Hn(p))return j!==null?null:f(h,c,p,x,null);Jr(h,p)}return null}function g(h,c,p,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(p)||null,l(c,h,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $r:return h=h.get(x.key===null?p:x.key)||null,a(c,h,x,j);case dn:return h=h.get(x.key===null?p:x.key)||null,d(c,h,x,j);case Et:var S=x._init;return g(h,c,p,S(x._payload),j)}if(Xn(x)||Hn(x))return h=h.get(p)||null,f(c,h,x,j,null);Jr(c,x)}return null}function v(h,c,p,x){for(var j=null,S=null,C=c,w=c=0,M=null;C!==null&&w<p.length;w++){C.index>w?(M=C,C=null):M=C.sibling;var I=y(h,C,p[w],x);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(h,C),c=i(I,c,w),S===null?j=I:S.sibling=I,S=I,C=M}if(w===p.length)return n(h,C),X&&Gt(h,w),j;if(C===null){for(;w<p.length;w++)C=m(h,p[w],x),C!==null&&(c=i(C,c,w),S===null?j=C:S.sibling=C,S=C);return X&&Gt(h,w),j}for(C=r(h,C);w<p.length;w++)M=g(C,h,w,p[w],x),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?w:M.key),c=i(M,c,w),S===null?j=M:S.sibling=M,S=M);return e&&C.forEach(function(L){return t(h,L)}),X&&Gt(h,w),j}function k(h,c,p,x){var j=Hn(p);if(typeof j!="function")throw Error(_(150));if(p=j.call(p),p==null)throw Error(_(151));for(var S=j=null,C=c,w=c=0,M=null,I=p.next();C!==null&&!I.done;w++,I=p.next()){C.index>w?(M=C,C=null):M=C.sibling;var L=y(h,C,I.value,x);if(L===null){C===null&&(C=M);break}e&&C&&L.alternate===null&&t(h,C),c=i(L,c,w),S===null?j=L:S.sibling=L,S=L,C=M}if(I.done)return n(h,C),X&&Gt(h,w),j;if(C===null){for(;!I.done;w++,I=p.next())I=m(h,I.value,x),I!==null&&(c=i(I,c,w),S===null?j=I:S.sibling=I,S=I);return X&&Gt(h,w),j}for(C=r(h,C);!I.done;w++,I=p.next())I=g(C,h,w,I.value,x),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?w:I.key),c=i(I,c,w),S===null?j=I:S.sibling=I,S=I);return e&&C.forEach(function(U){return t(h,U)}),X&&Gt(h,w),j}function E(h,c,p,x){if(typeof p=="object"&&p!==null&&p.type===fn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $r:e:{for(var j=p.key,S=c;S!==null;){if(S.key===j){if(j=p.type,j===fn){if(S.tag===7){n(h,S.sibling),c=s(S,p.props.children),c.return=h,h=c;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Et&&Ua(j)===S.type){n(h,S.sibling),c=s(S,p.props),c.ref=Kn(h,S,p),c.return=h,h=c;break e}n(h,S);break}else t(h,S);S=S.sibling}p.type===fn?(c=Xt(p.props.children,h.mode,x,p.key),c.return=h,h=c):(x=ps(p.type,p.key,p.props,null,h.mode,x),x.ref=Kn(h,c,p),x.return=h,h=x)}return o(h);case dn:e:{for(S=p.key;c!==null;){if(c.key===S)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(h,c.sibling),c=s(c,p.children||[]),c.return=h,h=c;break e}else{n(h,c);break}else t(h,c);c=c.sibling}c=Ai(p,h.mode,x),c.return=h,h=c}return o(h);case Et:return S=p._init,E(h,c,S(p._payload),x)}if(Xn(p))return v(h,c,p,x);if(Hn(p))return k(h,c,p,x);Jr(h,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(h,c.sibling),c=s(c,p),c.return=h,h=c):(n(h,c),c=$i(p,h.mode,x),c.return=h,h=c),o(h)):n(h,c)}return E}var In=Ac(!0),Wc=Ac(!1),Ms=Ht(null),Rs=null,Sn=null,vl=null;function wl(){vl=Sn=Rs=null}function Sl(e){var t=Ms.current;Y(Ms),e._currentValue=t}function No(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _n(e,t){Rs=e,vl=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(vl!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Rs===null)throw Error(_(308));Sn=e,Rs.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Yt=null;function Cl(e){Yt===null?Yt=[e]:Yt.push(e)}function Hc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Cl(t)):(n.next=s.next,s.next=n),t.interleaved=n,vt(e,r)}function vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nt=!1;function xl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,vt(e,n)}return s=r.interleaved,s===null?(t.next=t,Cl(r)):(t.next=s.next,s.next=t),r.interleaved=t,vt(e,n)}function ls(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ll(e,n)}}function $a(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Is(e,t,n,r){var s=e.updateQueue;Nt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,d=a.next;a.next=null,o===null?i=d:o.next=d,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=a))}if(i!==null){var m=s.baseState;o=0,f=d=a=null,l=i;do{var y=l.lane,g=l.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,k=l;switch(y=t,g=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){m=v.call(g,m,y);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,y=typeof v=="function"?v.call(g,m,y):v,y==null)break e;m=ee({},m,y);break e;case 2:Nt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else g={eventTime:g,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=g,a=m):f=f.next=g,o|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(f===null&&(a=m),s.baseState=a,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);nn|=o,e.lanes=o,e.memoizedState=m}}function Aa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_(191,s));s.call(r)}}}var Or={},it=Ht(Or),xr=Ht(Or),kr=Ht(Or);function bt(e){if(e===Or)throw Error(_(174));return e}function kl(e,t){switch(Q(kr,t),Q(xr,e),Q(it,Or),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:so(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=so(t,e)}Y(it),Q(it,t)}function Pn(){Y(it),Y(xr),Y(kr)}function Gc(e){bt(kr.current);var t=bt(it.current),n=so(t,e.type);t!==n&&(Q(xr,e),Q(it,n))}function El(e){xr.current===e&&(Y(it),Y(xr))}var Z=Ht(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pi=[];function Nl(){for(var e=0;e<Pi.length;e++)Pi[e]._workInProgressVersionPrimary=null;Pi.length=0}var as=Ct.ReactCurrentDispatcher,zi=Ct.ReactCurrentBatchConfig,tn=0,q=null,oe=null,ae=null,zs=!1,or=!1,Er=0,Cm=0;function he(){throw Error(_(321))}function jl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}function _l(e,t,n,r,s,i){if(tn=i,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=e===null||e.memoizedState===null?Nm:jm,e=n(r,s),or){i=0;do{if(or=!1,Er=0,25<=i)throw Error(_(301));i+=1,ae=oe=null,t.updateQueue=null,as.current=_m,e=n(r,s)}while(or)}if(as.current=Os,t=oe!==null&&oe.next!==null,tn=0,ae=oe=q=null,zs=!1,t)throw Error(_(300));return e}function Tl(){var e=Er!==0;return Er=0,e}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?q.memoizedState=ae=e:ae=ae.next=e,ae}function Ve(){if(oe===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ae===null?q.memoizedState:ae.next;if(t!==null)ae=t,oe=e;else{if(e===null)throw Error(_(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ae===null?q.memoizedState=ae=e:ae=ae.next=e}return ae}function Nr(e,t){return typeof t=="function"?t(e):t}function Oi(e){var t=Ve(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,d=i;do{var f=d.lane;if((tn&f)===f)a!==null&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};a===null?(l=a=m,o=r):a=a.next=m,q.lanes|=f,nn|=f}d=d.next}while(d!==null&&d!==i);a===null?o=r:a.next=l,qe(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,q.lanes|=i,nn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fi(e){var t=Ve(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qe(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vc(){}function Qc(e,t){var n=q,r=Ve(),s=t(),i=!qe(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,Dl(bc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,jr(9,Yc.bind(null,n,r,s,t),void 0,null),ue===null)throw Error(_(349));tn&30||Kc(n,t,s)}return s}function Kc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yc(e,t,n,r){t.value=n,t.getSnapshot=r,Jc(t)&&Xc(e)}function bc(e,t,n){return n(function(){Jc(t)&&Xc(e)})}function Jc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch{return!0}}function Xc(e){var t=vt(e,1);t!==null&&Ze(t,e,1,-1)}function Wa(e){var t=nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=Em.bind(null,q,e),[t.memoizedState,e]}function jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zc(){return Ve().memoizedState}function us(e,t,n,r){var s=nt();q.flags|=e,s.memoizedState=jr(1|t,n,void 0,r===void 0?null:r)}function ti(e,t,n,r){var s=Ve();r=r===void 0?null:r;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,r!==null&&jl(r,o.deps)){s.memoizedState=jr(t,n,i,r);return}}q.flags|=e,s.memoizedState=jr(1|t,n,i,r)}function Ha(e,t){return us(8390656,8,e,t)}function Dl(e,t){return ti(2048,8,e,t)}function qc(e,t){return ti(4,2,e,t)}function ed(e,t){return ti(4,4,e,t)}function td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nd(e,t,n){return n=n!=null?n.concat([e]):null,ti(4,4,td.bind(null,t,e),n)}function Ml(){}function rd(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sd(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function id(e,t,n){return tn&21?(qe(n,t)||(n=cc(),q.lanes|=n,nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function xm(e,t){var n=B;B=n!==0&&4>n?n:4,e(!0);var r=zi.transition;zi.transition={};try{e(!1),t()}finally{B=n,zi.transition=r}}function od(){return Ve().memoizedState}function km(e,t,n){var r=Ft(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ld(e))ad(t,n);else if(n=Hc(e,t,n,r),n!==null){var s=Se();Ze(n,e,r,s),ud(n,t,r)}}function Em(e,t,n){var r=Ft(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ld(e))ad(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qe(l,o)){var a=t.interleaved;a===null?(s.next=s,Cl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Hc(e,t,s,r),n!==null&&(s=Se(),Ze(n,e,r,s),ud(n,t,r))}}function ld(e){var t=e.alternate;return e===q||t!==null&&t===q}function ad(e,t){or=zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ud(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ll(e,n)}}var Os={readContext:Ge,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Nm={readContext:Ge,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,us(4194308,4,td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){return us(4,2,e,t)},useMemo:function(e,t){var n=nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=km.bind(null,q,e),[r.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:Wa,useDebugValue:Ml,useDeferredValue:function(e){return nt().memoizedState=e},useTransition:function(){var e=Wa(!1),t=e[0];return e=xm.bind(null,e[1]),nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=q,s=nt();if(X){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),ue===null)throw Error(_(349));tn&30||Kc(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ha(bc.bind(null,r,i,e),[e]),r.flags|=2048,jr(9,Yc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=nt(),t=ue.identifierPrefix;if(X){var n=pt,r=ft;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Er++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jm={readContext:Ge,useCallback:rd,useContext:Ge,useEffect:Dl,useImperativeHandle:nd,useInsertionEffect:qc,useLayoutEffect:ed,useMemo:sd,useReducer:Oi,useRef:Zc,useState:function(){return Oi(Nr)},useDebugValue:Ml,useDeferredValue:function(e){var t=Ve();return id(t,oe.memoizedState,e)},useTransition:function(){var e=Oi(Nr)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Vc,useSyncExternalStore:Qc,useId:od,unstable_isNewReconciler:!1},_m={readContext:Ge,useCallback:rd,useContext:Ge,useEffect:Dl,useImperativeHandle:nd,useInsertionEffect:qc,useLayoutEffect:ed,useMemo:sd,useReducer:Fi,useRef:Zc,useState:function(){return Fi(Nr)},useDebugValue:Ml,useDeferredValue:function(e){var t=Ve();return oe===null?t.memoizedState=e:id(t,oe.memoizedState,e)},useTransition:function(){var e=Fi(Nr)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Vc,useSyncExternalStore:Qc,useId:od,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ni={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),s=Ft(e),i=mt(r,s);i.payload=t,n!=null&&(i.callback=n),t=zt(e,i,s),t!==null&&(Ze(t,e,s,r),ls(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),s=Ft(e),i=mt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zt(e,i,s),t!==null&&(Ze(t,e,s,r),ls(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=Ft(e),s=mt(n,r);s.tag=2,t!=null&&(s.callback=t),t=zt(e,s,r),t!==null&&(Ze(t,e,r,n),ls(t,e,r))}};function Ba(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!vr(n,r)||!vr(s,i):!0}function cd(e,t,n){var r=!1,s=$t,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Te(t)?qt:ve.current,r=t.contextTypes,i=(r=r!=null)?Mn(e,s):$t),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ga(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},xl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Te(t)?qt:ve.current,s.context=Mn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ni.enqueueReplaceState(s,s.state,null),Is(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var n="",r=t;do n+=tp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Li(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function To(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tm=typeof WeakMap=="function"?WeakMap:Map;function dd(e,t,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Uo=r),To(e,t)},n}function fd(e,t,n){n=mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){To(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){To(e,t),typeof r!="function"&&(Ot===null?Ot=new Set([this]):Ot.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Va(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Hm.bind(null,e,t,n),t.then(e,e))}function Qa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ka(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mt(-1,1),t.tag=2,zt(n,t,1))),n.lanes|=1),e)}var Dm=Ct.ReactCurrentOwner,je=!1;function we(e,t,n,r){t.child=e===null?Wc(t,null,n,r):In(t,e.child,n,r)}function Ya(e,t,n,r,s){n=n.render;var i=t.ref;return _n(t,s),r=_l(e,t,n,r,i,s),n=Tl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wt(e,t,s)):(X&&n&&hl(t),t.flags|=1,we(e,t,r,s),t.child)}function ba(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ul(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,pd(e,t,i,r,s)):(e=ps(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vr,n(o,r)&&e.ref===t.ref)return wt(e,t,s)}return t.flags|=1,e=Lt(i,r),e.ref=t.ref,e.return=t,t.child=e}function pd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(vr(i,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,wt(e,t,s)}return Do(e,t,n,r,s)}function md(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(xn,Me),Me|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(xn,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(xn,Me),Me|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Q(xn,Me),Me|=r;return we(e,t,s,n),t.child}function hd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,s){var i=Te(n)?qt:ve.current;return i=Mn(t,i),_n(t,s),n=_l(e,t,n,r,i,s),r=Tl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wt(e,t,s)):(X&&r&&hl(t),t.flags|=1,we(e,t,n,s),t.child)}function Ja(e,t,n,r,s){if(Te(n)){var i=!0;_s(t)}else i=!1;if(_n(t,s),t.stateNode===null)cs(e,t),cd(t,n,r),_o(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ge(d):(d=Te(n)?qt:ve.current,d=Mn(t,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==d)&&Ga(t,o,r,d),Nt=!1;var y=t.memoizedState;o.state=y,Is(t,r,o,s),a=t.memoizedState,l!==r||y!==a||_e.current||Nt?(typeof f=="function"&&(jo(t,n,f,r),a=t.memoizedState),(l=Nt||Ba(t,n,l,r,y,a,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bc(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ke(t.type,l),o.props=d,m=t.pendingProps,y=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ge(a):(a=Te(n)?qt:ve.current,a=Mn(t,a));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==a)&&Ga(t,o,r,a),Nt=!1,y=t.memoizedState,o.state=y,Is(t,r,o,s);var v=t.memoizedState;l!==m||y!==v||_e.current||Nt?(typeof g=="function"&&(jo(t,n,g,r),v=t.memoizedState),(d=Nt||Ba(t,n,d,r,y,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,i,s)}function Mo(e,t,n,r,s,i){hd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Oa(t,n,!1),wt(e,t,i);r=t.stateNode,Dm.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=In(t,e.child,null,i),t.child=In(t,null,l,i)):we(e,t,l,i),t.memoizedState=r.state,s&&Oa(t,n,!0),t.child}function gd(e){var t=e.stateNode;t.pendingContext?za(e,t.pendingContext,t.pendingContext!==t.context):t.context&&za(e,t.context,!1),kl(e,t.containerInfo)}function Xa(e,t,n,r,s){return Rn(),yl(s),t.flags|=256,we(e,t,n,r),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function yd(e,t,n){var r=t.pendingProps,s=Z.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(Z,s&1),e===null)return Eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ii(o,r,0,null),e=Xt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Io(n),t.memoizedState=Ro,e):Rl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Mm(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Lt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Lt(l,i):(i=Xt(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Io(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ro,r}return i=e.child,e=i.sibling,r=Lt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rl(e,t){return t=ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xr(e,t,n,r){return r!==null&&yl(r),In(t,e.child,null,n),e=Rl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Li(Error(_(422))),Xr(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ii({mode:"visible",children:r.children},s,0,null),i=Xt(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&In(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Ro,i);if(!(t.mode&1))return Xr(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(_(419)),r=Li(i,r,void 0),Xr(e,t,o,r)}if(l=(o&e.childLanes)!==0,je||l){if(r=ue,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vt(e,s),Ze(r,e,s,-1))}return Ll(),r=Li(Error(_(421))),Xr(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Bm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Re=Pt(s.nextSibling),Pe=t,X=!0,be=null,e!==null&&(Ae[We++]=ft,Ae[We++]=pt,Ae[We++]=en,ft=e.id,pt=e.overflow,en=t),t=Rl(t,r.children),t.flags|=4096,t)}function Za(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),No(e.return,t,n)}function Ui(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(we(e,t,r.children,n),r=Z.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Za(e,n,t);else if(e.tag===19)Za(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(Z,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ps(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ui(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ps(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ui(t,!0,n,null,i);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Lt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rm(e,t,n){switch(t.tag){case 3:gd(t),Rn();break;case 5:Gc(t);break;case 1:Te(t.type)&&_s(t);break;case 4:kl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Q(Ms,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(Z,Z.current&1),t.flags|=128,null):n&t.child.childLanes?yd(e,t,n):(Q(Z,Z.current&1),e=wt(e,t,n),e!==null?e.sibling:null);Q(Z,Z.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(Z,Z.current),r)break;return null;case 22:case 23:return t.lanes=0,md(e,t,n)}return wt(e,t,n)}var wd,Po,Sd,Cd;wd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Po=function(){};Sd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,bt(it.current);var i=null;switch(n){case"input":s=eo(e,s),r=eo(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=ro(e,s),r=ro(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ns)}io(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(dr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var a=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&a!==l&&(a!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(d,n)),n=a;else d==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(d,a)):d==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(d,""+a):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(dr.hasOwnProperty(d)?(a!=null&&d==="onScroll"&&K("scroll",e),i||l===a||(i=[])):(i=i||[]).push(d,a))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Cd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yn(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Im(e,t,n){var r=t.pendingProps;switch(gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Te(t.type)&&js(),ge(t),null;case 3:return r=t.stateNode,Pn(),Y(_e),Y(ve),Nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(br(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,be!==null&&(Wo(be),be=null))),Po(e,t),ge(t),null;case 5:El(t);var s=bt(kr.current);if(n=t.type,e!==null&&t.stateNode!=null)Sd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return ge(t),null}if(e=bt(it.current),br(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[rt]=t,r[Cr]=i,e=(t.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<qn.length;s++)K(qn[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":la(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":ua(r,i),K("invalid",r)}io(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Yr(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Yr(r.textContent,l,e),s=["children",""+l]):dr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":Ar(r),aa(r,i,!0);break;case"textarea":Ar(r),ca(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ns)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[rt]=t,e[Cr]=r,wd(e,t,!1,!1),t.stateNode=e;e:{switch(o=oo(n,r),n){case"dialog":K("cancel",e),K("close",e),s=r;break;case"iframe":case"object":case"embed":K("load",e),s=r;break;case"video":case"audio":for(s=0;s<qn.length;s++)K(qn[s],e);s=r;break;case"source":K("error",e),s=r;break;case"img":case"image":case"link":K("error",e),K("load",e),s=r;break;case"details":K("toggle",e),s=r;break;case"input":la(e,r),s=eo(e,r),K("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),K("invalid",e);break;case"textarea":ua(e,r),s=ro(e,r),K("invalid",e);break;default:s=r}io(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Zu(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ju(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&fr(e,a):typeof a=="number"&&fr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&K("scroll",e):a!=null&&tl(e,i,a,o))}switch(n){case"input":Ar(e),aa(e,r,!1);break;case"textarea":Ar(e),ca(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?kn(e,!!r.multiple,i,!1):r.defaultValue!=null&&kn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ns)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Cd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=bt(kr.current),bt(it.current),br(t)){if(r=t.stateNode,n=t.memoizedProps,r[rt]=t,(i=r.nodeValue!==n)&&(e=Pe,e!==null))switch(e.tag){case 3:Yr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rt]=t,t.stateNode=r}return ge(t),null;case 13:if(Y(Z),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&Re!==null&&t.mode&1&&!(t.flags&128))$c(),Rn(),t.flags|=98560,i=!1;else if(i=br(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[rt]=t}else Rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else be!==null&&(Wo(be),be=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?le===0&&(le=3):Ll())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Pn(),Po(e,t),e===null&&wr(t.stateNode.containerInfo),ge(t),null;case 10:return Sl(t.type._context),ge(t),null;case 17:return Te(t.type)&&js(),ge(t),null;case 19:if(Y(Z),i=t.memoizedState,i===null)return ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Yn(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ps(e),o!==null){for(t.flags|=128,Yn(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&re()>On&&(t.flags|=128,r=!0,Yn(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ps(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!X)return ge(t),null}else 2*re()-i.renderingStartTime>On&&n!==1073741824&&(t.flags|=128,r=!0,Yn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,n=Z.current,Q(Z,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return Fl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Me&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Pm(e,t){switch(gl(t),t.tag){case 1:return Te(t.type)&&js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(),Y(_e),Y(ve),Nl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return El(t),null;case 13:if(Y(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Z),null;case 4:return Pn(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var Zr=!1,ye=!1,zm=typeof WeakSet=="function"?WeakSet:Set,z=null;function Cn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function zo(e,t,n){try{n()}catch(r){ne(e,t,r)}}var qa=!1;function Om(e,t){if(yo=xs,e=jc(),ml(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,d=0,f=0,m=e,y=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(a=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)y=m,m=g;for(;;){if(m===e)break t;if(y===n&&++d===s&&(l=o),y===i&&++f===r&&(a=o),(g=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(vo={focusedElem:e,selectionRange:n},xs=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,E=v.memoizedState,h=t.stateNode,c=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ke(t.type,k),E);h.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(x){ne(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return v=qa,qa=!1,v}function lr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&zo(t,n,i)}s=s.next}while(s!==r)}}function ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xd(e){var t=e.alternate;t!==null&&(e.alternate=null,xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rt],delete t[Cr],delete t[Co],delete t[ym],delete t[vm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kd(e){return e.tag===5||e.tag===3||e.tag===4}function eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ns));else if(r!==4&&(e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}function Lo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lo(e,t,n),e=e.sibling;e!==null;)Lo(e,t,n),e=e.sibling}var fe=null,Ye=!1;function kt(e,t,n){for(n=n.child;n!==null;)Ed(e,t,n),n=n.sibling}function Ed(e,t,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(bs,n)}catch{}switch(n.tag){case 5:ye||Cn(n,t);case 6:var r=fe,s=Ye;fe=null,kt(e,t,n),fe=r,Ye=s,fe!==null&&(Ye?(e=fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Ye?(e=fe,n=n.stateNode,e.nodeType===8?Ri(e.parentNode,n):e.nodeType===1&&Ri(e,n),gr(e)):Ri(fe,n.stateNode));break;case 4:r=fe,s=Ye,fe=n.stateNode.containerInfo,Ye=!0,kt(e,t,n),fe=r,Ye=s;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zo(n,t,o),s=s.next}while(s!==r)}kt(e,t,n);break;case 1:if(!ye&&(Cn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,t,l)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,kt(e,t,n),ye=r):kt(e,t,n);break;default:kt(e,t,n)}}function tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zm),t.forEach(function(r){var s=Gm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,Ye=!1;break e;case 3:fe=l.stateNode.containerInfo,Ye=!0;break e;case 4:fe=l.stateNode.containerInfo,Ye=!0;break e}l=l.return}if(fe===null)throw Error(_(160));Ed(i,o,s),fe=null,Ye=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(d){ne(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nd(t,e),t=t.sibling}function Nd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),tt(e),r&4){try{lr(3,e,e.return),ri(3,e)}catch(k){ne(e,e.return,k)}try{lr(5,e,e.return)}catch(k){ne(e,e.return,k)}}break;case 1:Qe(t,e),tt(e),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Qe(t,e),tt(e),r&512&&n!==null&&Cn(n,n.return),e.flags&32){var s=e.stateNode;try{fr(s,"")}catch(k){ne(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ku(s,i),oo(l,o);var d=oo(l,i);for(o=0;o<a.length;o+=2){var f=a[o],m=a[o+1];f==="style"?Zu(s,m):f==="dangerouslySetInnerHTML"?Ju(s,m):f==="children"?fr(s,m):tl(s,f,m,d)}switch(l){case"input":to(s,i);break;case"textarea":Yu(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?kn(s,!!i.multiple,g,!1):y!==!!i.multiple&&(i.defaultValue!=null?kn(s,!!i.multiple,i.defaultValue,!0):kn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cr]=i}catch(k){ne(e,e.return,k)}}break;case 6:if(Qe(t,e),tt(e),r&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){ne(e,e.return,k)}}break;case 3:if(Qe(t,e),tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gr(t.containerInfo)}catch(k){ne(e,e.return,k)}break;case 4:Qe(t,e),tt(e);break;case 13:Qe(t,e),tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zl=re())),r&4&&tu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ye=(d=ye)||f,Qe(t,e),ye=d):Qe(t,e),tt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(m=z=f;z!==null;){switch(y=z,g=y.child,y.tag){case 0:case 11:case 14:case 15:lr(4,y,y.return);break;case 1:Cn(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){ne(r,n,k)}}break;case 5:Cn(y,y.return);break;case 22:if(y.memoizedState!==null){ru(m);continue}}g!==null?(g.return=y,z=g):ru(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,a=m.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Xu("display",o))}catch(k){ne(e,e.return,k)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(k){ne(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(t,e),tt(e),r&4&&tu(e);break;case 21:break;default:Qe(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fr(s,""),r.flags&=-33);var i=eu(e);Lo(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=eu(e);Fo(e,l,o);break;default:throw Error(_(161))}}catch(a){ne(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fm(e,t,n){z=e,jd(e)}function jd(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zr;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ye;l=Zr;var d=ye;if(Zr=o,(ye=a)&&!d)for(z=s;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?su(s):a!==null?(a.return=o,z=a):su(s);for(;i!==null;)z=i,jd(i),i=i.sibling;z=s,Zr=l,ye=d}nu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):nu(e)}}function nu(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||ri(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Aa(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Aa(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&gr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}ye||t.flags&512&&Oo(t)}catch(y){ne(t,t.return,y)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function ru(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function su(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ri(4,t)}catch(a){ne(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){ne(t,s,a)}}var i=t.return;try{Oo(t)}catch(a){ne(t,i,a)}break;case 5:var o=t.return;try{Oo(t)}catch(a){ne(t,o,a)}}}catch(a){ne(t,t.return,a)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var Lm=Math.ceil,Fs=Ct.ReactCurrentDispatcher,Il=Ct.ReactCurrentOwner,Be=Ct.ReactCurrentBatchConfig,W=0,ue=null,ie=null,pe=0,Me=0,xn=Ht(0),le=0,_r=null,nn=0,si=0,Pl=0,ar=null,Ne=null,zl=0,On=1/0,ct=null,Ls=!1,Uo=null,Ot=null,qr=!1,Dt=null,Us=0,ur=0,$o=null,ds=-1,fs=0;function Se(){return W&6?re():ds!==-1?ds:ds=re()}function Ft(e){return e.mode&1?W&2&&pe!==0?pe&-pe:Sm.transition!==null?(fs===0&&(fs=cc()),fs):(e=B,e!==0||(e=window.event,e=e===void 0?16:yc(e.type)),e):1}function Ze(e,t,n,r){if(50<ur)throw ur=0,$o=null,Error(_(185));Ir(e,n,r),(!(W&2)||e!==ue)&&(e===ue&&(!(W&2)&&(si|=n),le===4&&_t(e,pe)),De(e,r),n===1&&W===0&&!(t.mode&1)&&(On=re()+500,ei&&Bt()))}function De(e,t){var n=e.callbackNode;Sp(e,t);var r=Cs(e,e===ue?pe:0);if(r===0)n!==null&&pa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pa(n),t===1)e.tag===0?wm(iu.bind(null,e)):Fc(iu.bind(null,e)),hm(function(){!(W&6)&&Bt()}),n=null;else{switch(dc(r)){case 1:n=ol;break;case 4:n=ac;break;case 16:n=Ss;break;case 536870912:n=uc;break;default:n=Ss}n=zd(n,_d.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _d(e,t){if(ds=-1,fs=0,W&6)throw Error(_(327));var n=e.callbackNode;if(Tn()&&e.callbackNode!==n)return null;var r=Cs(e,e===ue?pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$s(e,r);else{t=r;var s=W;W|=2;var i=Dd();(ue!==e||pe!==t)&&(ct=null,On=re()+500,Jt(e,t));do try{Am();break}catch(l){Td(e,l)}while(!0);wl(),Fs.current=i,W=s,ie!==null?t=0:(ue=null,pe=0,t=le)}if(t!==0){if(t===2&&(s=fo(e),s!==0&&(r=s,t=Ao(e,s))),t===1)throw n=_r,Jt(e,0),_t(e,r),De(e,re()),n;if(t===6)_t(e,r);else{if(s=e.current.alternate,!(r&30)&&!Um(s)&&(t=$s(e,r),t===2&&(i=fo(e),i!==0&&(r=i,t=Ao(e,i))),t===1))throw n=_r,Jt(e,0),_t(e,r),De(e,re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:Vt(e,Ne,ct);break;case 3:if(_t(e,r),(r&130023424)===r&&(t=zl+500-re(),10<t)){if(Cs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=So(Vt.bind(null,e,Ne,ct),t);break}Vt(e,Ne,ct);break;case 4:if(_t(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Xe(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lm(r/1960))-r,10<r){e.timeoutHandle=So(Vt.bind(null,e,Ne,ct),r);break}Vt(e,Ne,ct);break;case 5:Vt(e,Ne,ct);break;default:throw Error(_(329))}}}return De(e,re()),e.callbackNode===n?_d.bind(null,e):null}function Ao(e,t){var n=ar;return e.current.memoizedState.isDehydrated&&(Jt(e,t).flags|=256),e=$s(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&Wo(t)),e}function Wo(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function Um(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _t(e,t){for(t&=~Pl,t&=~si,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xe(t),r=1<<n;e[n]=-1,t&=~r}}function iu(e){if(W&6)throw Error(_(327));Tn();var t=Cs(e,0);if(!(t&1))return De(e,re()),null;var n=$s(e,t);if(e.tag!==0&&n===2){var r=fo(e);r!==0&&(t=r,n=Ao(e,r))}if(n===1)throw n=_r,Jt(e,0),_t(e,t),De(e,re()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vt(e,Ne,ct),De(e,re()),null}function Ol(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(On=re()+500,ei&&Bt())}}function rn(e){Dt!==null&&Dt.tag===0&&!(W&6)&&Tn();var t=W;W|=1;var n=Be.transition,r=B;try{if(Be.transition=null,B=1,e)return e()}finally{B=r,Be.transition=n,W=t,!(W&6)&&Bt()}}function Fl(){Me=xn.current,Y(xn)}function Jt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mm(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(gl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&js();break;case 3:Pn(),Y(_e),Y(ve),Nl();break;case 5:El(r);break;case 4:Pn();break;case 13:Y(Z);break;case 19:Y(Z);break;case 10:Sl(r.type._context);break;case 22:case 23:Fl()}n=n.return}if(ue=e,ie=e=Lt(e.current,null),pe=Me=t,le=0,_r=null,Pl=si=nn=0,Ne=ar=null,Yt!==null){for(t=0;t<Yt.length;t++)if(n=Yt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Yt=null}return e}function Td(e,t){do{var n=ie;try{if(wl(),as.current=Os,zs){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zs=!1}if(tn=0,ae=oe=q=null,or=!1,Er=0,Il.current=null,n===null||n.return===null){le=1,_r=t,ie=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var d=a,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Qa(o);if(g!==null){g.flags&=-257,Ka(g,o,l,i,t),g.mode&1&&Va(i,d,t),t=g,a=d;var v=t.updateQueue;if(v===null){var k=new Set;k.add(a),t.updateQueue=k}else v.add(a);break e}else{if(!(t&1)){Va(i,d,t),Ll();break e}a=Error(_(426))}}else if(X&&l.mode&1){var E=Qa(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ka(E,o,l,i,t),yl(zn(a,l));break e}}i=a=zn(a,l),le!==4&&(le=2),ar===null?ar=[i]:ar.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=dd(i,a,t);$a(i,h);break e;case 1:l=a;var c=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ot===null||!Ot.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=fd(i,l,t);$a(i,x);break e}}i=i.return}while(i!==null)}Rd(n)}catch(j){t=j,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function Dd(){var e=Fs.current;return Fs.current=Os,e===null?Os:e}function Ll(){(le===0||le===3||le===2)&&(le=4),ue===null||!(nn&268435455)&&!(si&268435455)||_t(ue,pe)}function $s(e,t){var n=W;W|=2;var r=Dd();(ue!==e||pe!==t)&&(ct=null,Jt(e,t));do try{$m();break}catch(s){Td(e,s)}while(!0);if(wl(),W=n,Fs.current=r,ie!==null)throw Error(_(261));return ue=null,pe=0,le}function $m(){for(;ie!==null;)Md(ie)}function Am(){for(;ie!==null&&!dp();)Md(ie)}function Md(e){var t=Pd(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?Rd(e):ie=t,Il.current=null}function Rd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pm(n,t),n!==null){n.flags&=32767,ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ie=null;return}}else if(n=Im(n,t,Me),n!==null){ie=n;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);le===0&&(le=5)}function Vt(e,t,n){var r=B,s=Be.transition;try{Be.transition=null,B=1,Wm(e,t,n,r)}finally{Be.transition=s,B=r}return null}function Wm(e,t,n,r){do Tn();while(Dt!==null);if(W&6)throw Error(_(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Cp(e,i),e===ue&&(ie=ue=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,zd(Ss,function(){return Tn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=B;B=1;var l=W;W|=4,Il.current=null,Om(e,n),Nd(n,e),lm(vo),xs=!!yo,vo=yo=null,e.current=n,Fm(n),fp(),W=l,B=o,Be.transition=i}else e.current=n;if(qr&&(qr=!1,Dt=e,Us=s),i=e.pendingLanes,i===0&&(Ot=null),hp(n.stateNode),De(e,re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ls)throw Ls=!1,e=Uo,Uo=null,e;return Us&1&&e.tag!==0&&Tn(),i=e.pendingLanes,i&1?e===$o?ur++:(ur=0,$o=e):ur=0,Bt(),null}function Tn(){if(Dt!==null){var e=dc(Us),t=Be.transition,n=B;try{if(Be.transition=null,B=16>e?16:e,Dt===null)var r=!1;else{if(e=Dt,Dt=null,Us=0,W&6)throw Error(_(331));var s=W;for(W|=4,z=e.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var d=l[a];for(z=d;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:lr(8,f,i)}var m=f.child;if(m!==null)m.return=f,z=m;else for(;z!==null;){f=z;var y=f.sibling,g=f.return;if(xd(f),f===d){z=null;break}if(y!==null){y.return=g,z=y;break}z=g}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,z=h;break e}z=i.return}}var c=e.current;for(z=c;z!==null;){o=z;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,z=p;else e:for(o=c;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ri(9,l)}}catch(j){ne(l,l.return,j)}if(l===o){z=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,z=x;break e}z=l.return}}if(W=s,Bt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(bs,e)}catch{}r=!0}return r}finally{B=n,Be.transition=t}}return!1}function ou(e,t,n){t=zn(n,t),t=dd(e,t,1),e=zt(e,t,1),t=Se(),e!==null&&(Ir(e,1,t),De(e,t))}function ne(e,t,n){if(e.tag===3)ou(e,e,n);else for(;t!==null;){if(t.tag===3){ou(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ot===null||!Ot.has(r))){e=zn(n,e),e=fd(t,e,1),t=zt(t,e,1),e=Se(),t!==null&&(Ir(t,1,e),De(t,e));break}}t=t.return}}function Hm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,ue===e&&(pe&n)===n&&(le===4||le===3&&(pe&130023424)===pe&&500>re()-zl?Jt(e,0):Pl|=n),De(e,t)}function Id(e,t){t===0&&(e.mode&1?(t=Br,Br<<=1,!(Br&130023424)&&(Br=4194304)):t=1);var n=Se();e=vt(e,t),e!==null&&(Ir(e,t,n),De(e,n))}function Bm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Id(e,n)}function Gm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),Id(e,n)}var Pd;Pd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,Rm(e,t,n);je=!!(e.flags&131072)}else je=!1,X&&t.flags&1048576&&Lc(t,Ds,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cs(e,t),e=t.pendingProps;var s=Mn(t,ve.current);_n(t,n),s=_l(null,t,r,e,s,n);var i=Tl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(r)?(i=!0,_s(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xl(t),s.updater=ni,t.stateNode=s,s._reactInternals=t,_o(t,r,e,n),t=Mo(null,t,r,!0,i,n)):(t.tag=0,X&&i&&hl(t),we(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Qm(r),e=Ke(r,e),s){case 0:t=Do(null,t,r,e,n);break e;case 1:t=Ja(null,t,r,e,n);break e;case 11:t=Ya(null,t,r,e,n);break e;case 14:t=ba(null,t,r,Ke(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),Do(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),Ja(e,t,r,s,n);case 3:e:{if(gd(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Bc(e,t),Is(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zn(Error(_(423)),t),t=Xa(e,t,r,n,s);break e}else if(r!==s){s=zn(Error(_(424)),t),t=Xa(e,t,r,n,s);break e}else for(Re=Pt(t.stateNode.containerInfo.firstChild),Pe=t,X=!0,be=null,n=Wc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rn(),r===s){t=wt(e,t,n);break e}we(e,t,r,n)}t=t.child}return t;case 5:return Gc(t),e===null&&Eo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,wo(r,s)?o=null:i!==null&&wo(r,i)&&(t.flags|=32),hd(e,t),we(e,t,o,n),t.child;case 6:return e===null&&Eo(t),null;case 13:return yd(e,t,n);case 4:return kl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=In(t,null,r,n):we(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),Ya(e,t,r,s,n);case 7:return we(e,t,t.pendingProps,n),t.child;case 8:return we(e,t,t.pendingProps.children,n),t.child;case 12:return we(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(Ms,r._currentValue),r._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!_e.current){t=wt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=mt(-1,n&-n),a.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?a.next=a:(a.next=f.next,f.next=a),d.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),No(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),No(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,_n(t,n),s=Ge(s),r=r(s),t.flags|=1,we(e,t,r,n),t.child;case 14:return r=t.type,s=Ke(r,t.pendingProps),s=Ke(r.type,s),ba(e,t,r,s,n);case 15:return pd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),cs(e,t),t.tag=1,Te(r)?(e=!0,_s(t)):e=!1,_n(t,n),cd(t,r,s),_o(t,r,s,n),Mo(null,t,r,!0,e,n);case 19:return vd(e,t,n);case 22:return md(e,t,n)}throw Error(_(156,t.tag))};function zd(e,t){return lc(e,t)}function Vm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,r){return new Vm(e,t,n,r)}function Ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qm(e){if(typeof e=="function")return Ul(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rl)return 11;if(e===sl)return 14}return 2}function Lt(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ps(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ul(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fn:return Xt(n.children,s,i,t);case nl:o=8,s|=8;break;case Ji:return e=He(12,n,t,s|2),e.elementType=Ji,e.lanes=i,e;case Xi:return e=He(13,n,t,s),e.elementType=Xi,e.lanes=i,e;case Zi:return e=He(19,n,t,s),e.elementType=Zi,e.lanes=i,e;case Gu:return ii(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hu:o=10;break e;case Bu:o=9;break e;case rl:o=11;break e;case sl:o=14;break e;case Et:o=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=He(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Xt(e,t,n,r){return e=He(7,e,r,t),e.lanes=n,e}function ii(e,t,n,r){return e=He(22,e,r,t),e.elementType=Gu,e.lanes=n,e.stateNode={isHidden:!1},e}function $i(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function Ai(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Km(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $l(e,t,n,r,s,i,o,l,a){return e=new Km(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xl(i),e}function Ym(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Od(e){if(!e)return $t;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Te(n))return Oc(e,n,t)}return t}function Fd(e,t,n,r,s,i,o,l,a){return e=$l(n,r,!0,e,s,i,o,l,a),e.context=Od(null),n=e.current,r=Se(),s=Ft(n),i=mt(r,s),i.callback=t??null,zt(n,i,s),e.current.lanes=s,Ir(e,s,r),De(e,r),e}function oi(e,t,n,r){var s=t.current,i=Se(),o=Ft(s);return n=Od(n),t.context===null?t.context=n:t.pendingContext=n,t=mt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zt(s,t,o),e!==null&&(Ze(e,s,o,i),ls(e,s,o)),o}function As(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Al(e,t){lu(e,t),(e=e.alternate)&&lu(e,t)}function bm(){return null}var Ld=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}li.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));oi(e,t,null,null)};li.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rn(function(){oi(null,e,null,null)}),t[yt]=null}};function li(e){this._internalRoot=e}li.prototype.unstable_scheduleHydration=function(e){if(e){var t=mc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&gc(e)}};function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function au(){}function Jm(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=As(o);i.call(d)}}var o=Fd(t,r,e,0,null,!1,!1,"",au);return e._reactRootContainer=o,e[yt]=o.current,wr(e.nodeType===8?e.parentNode:e),rn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=As(a);l.call(d)}}var a=$l(e,0,!1,null,null,!1,!1,"",au);return e._reactRootContainer=a,e[yt]=a.current,wr(e.nodeType===8?e.parentNode:e),rn(function(){oi(t,a,n,r)}),a}function ui(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=As(o);l.call(a)}}oi(t,o,e,s)}else o=Jm(n,t,e,s,r);return As(o)}fc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zn(t.pendingLanes);n!==0&&(ll(t,n|1),De(t,re()),!(W&6)&&(On=re()+500,Bt()))}break;case 13:rn(function(){var r=vt(e,1);if(r!==null){var s=Se();Ze(r,e,1,s)}}),Al(e,1)}};al=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var n=Se();Ze(t,e,134217728,n)}Al(e,134217728)}};pc=function(e){if(e.tag===13){var t=Ft(e),n=vt(e,t);if(n!==null){var r=Se();Ze(n,e,t,r)}Al(e,t)}};mc=function(){return B};hc=function(e,t){var n=B;try{return B=e,t()}finally{B=n}};ao=function(e,t,n){switch(t){case"input":if(to(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=qs(r);if(!s)throw Error(_(90));Qu(r),to(r,s)}}}break;case"textarea":Yu(e,n);break;case"select":t=n.value,t!=null&&kn(e,!!n.multiple,t,!1)}};tc=Ol;nc=rn;var Xm={usingClientEntryPoint:!1,Events:[zr,gn,qs,qu,ec,Ol]},bn={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zm={bundleType:bn.bundleType,version:bn.version,rendererPackageName:bn.rendererPackageName,rendererConfig:bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ic(e),e===null?null:e.stateNode},findFiberByHostInstance:bn.findFiberByHostInstance||bm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{bs=es.inject(Zm),st=es}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xm;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(t))throw Error(_(200));return Ym(e,t,null,n)};Le.createRoot=function(e,t){if(!Hl(e))throw Error(_(299));var n=!1,r="",s=Ld;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$l(e,1,!1,null,null,n,!1,r,s),e[yt]=t.current,wr(e.nodeType===8?e.parentNode:e),new Wl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=ic(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return rn(e)};Le.hydrate=function(e,t,n){if(!ai(t))throw Error(_(200));return ui(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!Hl(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ld;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Fd(t,null,e,1,n??null,s,!1,i,o),e[yt]=t.current,wr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new li(t)};Le.render=function(e,t,n){if(!ai(t))throw Error(_(200));return ui(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!ai(e))throw Error(_(40));return e._reactRootContainer?(rn(function(){ui(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};Le.unstable_batchedUpdates=Ol;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ai(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return ui(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function Ud(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ud)}catch(e){console.error(e)}}Ud(),Uu.exports=Le;var qm=Uu.exports,uu=qm;Yi.createRoot=uu.createRoot,Yi.hydrateRoot=uu.hydrateRoot;var $d={exports:{}},Ad={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=P;function eh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var th=typeof Object.is=="function"?Object.is:eh,nh=Fr.useSyncExternalStore,rh=Fr.useRef,sh=Fr.useEffect,ih=Fr.useMemo,oh=Fr.useDebugValue;Ad.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=rh(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ih(function(){function a(g){if(!d){if(d=!0,f=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return m=v}return m=g}if(v=m,th(f,g))return v;var k=r(g);return s!==void 0&&s(v,k)?v:(f=g,m=k)}var d=!1,f,m,y=n===void 0?null:n;return[function(){return a(t())},y===null?void 0:function(){return a(y())}]},[t,n,r,s]);var l=nh(e,i[0],i[1]);return sh(function(){o.hasValue=!0,o.value=l},[l]),oh(l),l};$d.exports=Ad;var lh=$d.exports,Ie="default"in ra?Zo:ra,cu=Symbol.for("react-redux-context"),du=typeof globalThis<"u"?globalThis:{};function ah(){if(!Ie.createContext)return{};const e=du[cu]??(du[cu]=new Map);let t=e.get(Ie.createContext);return t||(t=Ie.createContext(null),e.set(Ie.createContext,t)),t}var At=ah(),uh=()=>{throw new Error("uSES not initialized!")};function Bl(e=At){return function(){return Ie.useContext(e)}}var Wd=Bl(),Hd=uh,ch=e=>{Hd=e},dh=(e,t)=>e===t;function fh(e=At){const t=e===At?Wd:Bl(e),n=(r,s={})=>{const{equalityFn:i=dh,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:a,getServerState:d,stabilityCheck:f,identityFunctionCheck:m}=t();Ie.useRef(!0);const y=Ie.useCallback({[r.name](v){return r(v)}}[r.name],[r,f,o.stabilityCheck]),g=Hd(a.addNestedSub,l.getState,d||l.getState,y,i);return Ie.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var ph=fh();function mh(e){e()}function hh(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mh(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var fu={notify(){},get:()=>[]};function gh(e,t){let n,r=fu,s=0,i=!1;function o(k){f();const E=r.subscribe(k);let h=!1;return()=>{h||(h=!0,E(),m())}}function l(){r.notify()}function a(){v.onStateChange&&v.onStateChange()}function d(){return i}function f(){s++,n||(n=e.subscribe(a),r=hh())}function m(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=fu)}function y(){i||(i=!0,f())}function g(){i&&(i=!1,m())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:d,trySubscribe:y,tryUnsubscribe:g,getListeners:()=>r};return v}var yh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vh=typeof navigator<"u"&&navigator.product==="ReactNative",wh=yh||vh?Ie.useLayoutEffect:Ie.useEffect;function Sh({store:e,context:t,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=Ie.useMemo(()=>{const d=gh(e);return{store:e,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[e,r,s,i]),l=Ie.useMemo(()=>e.getState(),[e]);wh(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const a=t||At;return Ie.createElement(a.Provider,{value:o},n)}var Ch=Sh;function Bd(e=At){const t=e===At?Wd:Bl(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var xh=Bd();function kh(e=At){const t=e===At?xh:Bd(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Eh=kh();ch(lh.useSyncExternalStoreWithSelector);function de(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nh=typeof Symbol=="function"&&Symbol.observable||"@@observable",pu=Nh,Wi=()=>Math.random().toString(36).substring(7).split("").join("."),jh={INIT:`@@redux/INIT${Wi()}`,REPLACE:`@@redux/REPLACE${Wi()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wi()}`},Ws=jh;function Gl(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Gd(e,t,n){if(typeof e!="function")throw new Error(de(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(de(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(de(1));return n(Gd)(e,t)}let r=e,s=t,i=new Map,o=i,l=0,a=!1;function d(){o===i&&(o=new Map,i.forEach((E,h)=>{o.set(h,E)}))}function f(){if(a)throw new Error(de(3));return s}function m(E){if(typeof E!="function")throw new Error(de(4));if(a)throw new Error(de(5));let h=!0;d();const c=l++;return o.set(c,E),function(){if(h){if(a)throw new Error(de(6));h=!1,d(),o.delete(c),i=null}}}function y(E){if(!Gl(E))throw new Error(de(7));if(typeof E.type>"u")throw new Error(de(8));if(typeof E.type!="string")throw new Error(de(17));if(a)throw new Error(de(9));try{a=!0,s=r(s,E)}finally{a=!1}return(i=o).forEach(c=>{c()}),E}function g(E){if(typeof E!="function")throw new Error(de(10));r=E,y({type:Ws.REPLACE})}function v(){const E=m;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(de(11));function c(){const x=h;x.next&&x.next(f())}return c(),{unsubscribe:E(c)}},[pu](){return this}}}return y({type:Ws.INIT}),{dispatch:y,subscribe:m,getState:f,replaceReducer:g,[pu]:v}}function _h(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ws.INIT})>"u")throw new Error(de(12));if(typeof n(void 0,{type:Ws.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(de(13))})}function Th(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let s;try{_h(n)}catch(i){s=i}return function(o={},l){if(s)throw s;let a=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],y=n[m],g=o[m],v=y(g,l);if(typeof v>"u")throw l&&l.type,new Error(de(14));d[m]=v,a=a||v!==g}return a=a||r.length!==Object.keys(o).length,a?d:o}}function Hs(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Dh(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error(de(15))};const o={getState:s.getState,dispatch:(a,...d)=>i(a,...d)},l=e.map(a=>a(o));return i=Hs(...l)(s.dispatch),{...s,dispatch:i}}}function Mh(e){return Gl(e)&&"type"in e&&typeof e.type=="string"}var Vd=Symbol.for("immer-nothing"),mu=Symbol.for("immer-draftable"),Oe=Symbol.for("immer-state");function Je(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fn=Object.getPrototypeOf;function sn(e){return!!e&&!!e[Oe]}function St(e){var t;return e?Qd(e)||Array.isArray(e)||!!e[mu]||!!((t=e.constructor)!=null&&t[mu])||di(e)||fi(e):!1}var Rh=Object.prototype.constructor.toString();function Qd(e){if(!e||typeof e!="object")return!1;const t=Fn(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Rh}function Bs(e,t){ci(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ci(e){const t=e[Oe];return t?t.type_:Array.isArray(e)?1:di(e)?2:fi(e)?3:0}function Ho(e,t){return ci(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Kd(e,t,n){const r=ci(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Ih(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function di(e){return e instanceof Map}function fi(e){return e instanceof Set}function Qt(e){return e.copy_||e.base_}function Bo(e,t){if(di(e))return new Map(e);if(fi(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Qd(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Oe];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Fn(e),r)}else{const r=Fn(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Vl(e,t=!1){return pi(e)||sn(e)||!St(e)||(ci(e)>1&&(e.set=e.add=e.clear=e.delete=Ph),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Vl(r,!0))),e}function Ph(){Je(2)}function pi(e){return Object.isFrozen(e)}var zh={};function on(e){const t=zh[e];return t||Je(0,e),t}var Tr;function Yd(){return Tr}function Oh(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hu(e,t){t&&(on("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Go(e){Vo(e),e.drafts_.forEach(Fh),e.drafts_=null}function Vo(e){e===Tr&&(Tr=e.parent_)}function gu(e){return Tr=Oh(Tr,e)}function Fh(e){const t=e[Oe];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yu(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Oe].modified_&&(Go(t),Je(4)),St(e)&&(e=Gs(t,e),t.parent_||Vs(t,e)),t.patches_&&on("Patches").generateReplacementPatches_(n[Oe].base_,e,t.patches_,t.inversePatches_)):e=Gs(t,n,[]),Go(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Vd?e:void 0}function Gs(e,t,n){if(pi(t))return t;const r=t[Oe];if(!r)return Bs(t,(s,i)=>vu(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Vs(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),Bs(i,(l,a)=>vu(e,r,s,l,a,n,o)),Vs(e,s,!1),n&&e.patches_&&on("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function vu(e,t,n,r,s,i,o){if(sn(s)){const l=i&&t&&t.type_!==3&&!Ho(t.assigned_,r)?i.concat(r):void 0,a=Gs(e,s,l);if(Kd(n,r,a),sn(a))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(St(s)&&!pi(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gs(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Vs(e,s)}}function Vs(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vl(t,n)}function Lh(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Yd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=Ql;n&&(s=[r],i=Dr);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return r.draft_=l,r.revoke_=o,l}var Ql={get(e,t){if(t===Oe)return e;const n=Qt(e);if(!Ho(n,t))return Uh(e,n,t);const r=n[t];return e.finalized_||!St(r)?r:r===Hi(e.base_,t)?(Bi(e),e.copy_[t]=Ko(r,e)):r},has(e,t){return t in Qt(e)},ownKeys(e){return Reflect.ownKeys(Qt(e))},set(e,t,n){const r=bd(Qt(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Hi(Qt(e),t),i=s==null?void 0:s[Oe];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Ih(n,s)&&(n!==void 0||Ho(e.base_,t)))return!0;Bi(e),Qo(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Hi(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bi(e),Qo(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Je(11)},getPrototypeOf(e){return Fn(e.base_)},setPrototypeOf(){Je(12)}},Dr={};Bs(Ql,(e,t)=>{Dr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Dr.deleteProperty=function(e,t){return Dr.set.call(this,e,t,void 0)};Dr.set=function(e,t,n){return Ql.set.call(this,e[0],t,n,e[0])};function Hi(e,t){const n=e[Oe];return(n?Qt(n):e)[t]}function Uh(e,t,n){var s;const r=bd(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function bd(e,t){if(!(t in e))return;let n=Fn(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fn(n)}}function Qo(e){e.modified_||(e.modified_=!0,e.parent_&&Qo(e.parent_))}function Bi(e){e.copy_||(e.copy_=Bo(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $h=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(a=i,...d){return o.produce(a,f=>n.call(this,f,...d))}}typeof n!="function"&&Je(6),r!==void 0&&typeof r!="function"&&Je(7);let s;if(St(t)){const i=gu(this),o=Ko(t,void 0);let l=!0;try{s=n(o),l=!1}finally{l?Go(i):Vo(i)}return hu(i,r),yu(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Vd&&(s=void 0),this.autoFreeze_&&Vl(s,!0),r){const i=[],o=[];on("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else Je(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,a=>t(a,...l));let r,s;return[this.produce(t,n,(o,l)=>{r=o,s=l}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){St(e)||Je(8),sn(e)&&(e=Ah(e));const t=gu(this),n=Ko(e,void 0);return n[Oe].isManual_=!0,Vo(t),n}finishDraft(e,t){const n=e&&e[Oe];(!n||!n.isManual_)&&Je(9);const{scope_:r}=n;return hu(r,t),yu(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=on("Patches").applyPatches_;return sn(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Ko(e,t){const n=di(e)?on("MapSet").proxyMap_(e,t):fi(e)?on("MapSet").proxySet_(e,t):Lh(e,t);return(t?t.scope_:Yd()).drafts_.push(n),n}function Ah(e){return sn(e)||Je(10,e),Jd(e)}function Jd(e){if(!St(e)||pi(e))return e;const t=e[Oe];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Bo(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Bo(e,!0);return Bs(n,(r,s)=>{Kd(n,r,Jd(s))}),t&&(t.finalized_=!1),n}var Fe=new $h,Xd=Fe.produce;Fe.produceWithPatches.bind(Fe);Fe.setAutoFreeze.bind(Fe);Fe.setUseStrictShallowCopy.bind(Fe);Fe.applyPatches.bind(Fe);Fe.createDraft.bind(Fe);Fe.finishDraft.bind(Fe);function Zd(e){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,e):s(i)}var Wh=Zd(),Hh=Zd,Bh=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hs:Hs.apply(null,arguments)},Gh=e=>e&&typeof e.match=="function";function cr(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(ht(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Mh(r)&&r.type===e,n}var qd=class er extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,er.prototype)}static get[Symbol.species](){return er}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new er(...t[0].concat(this)):new er(...t.concat(this))}};function wu(e){return St(e)?Xd(e,()=>{}):e}function Su(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Vh(e){return typeof e=="boolean"}var Qh=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new qd;return n&&(Vh(n)?o.push(Wh):o.push(Hh(n.extraArgument))),o},Kh="RTK_autoBatch",Cu=e=>t=>{setTimeout(t,e)},Yh=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,i=!1,o=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Cu(10):e.type==="callback"?e.queueNotification:Cu(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>s&&f(),y=r.subscribe(m);return l.add(f),()=>{y(),l.delete(f)}},dispatch(f){var m;try{return s=!((m=f==null?void 0:f.meta)!=null&&m[Kh]),i=!s,i&&(o||(o=!0,a(d))),r.dispatch(f)}finally{s=!0}}})},bh=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new qd(e);return r&&s.push(Yh(typeof r=="object"?r:void 0)),s};function Jh(e){const t=Qh(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Gl(n))l=Th(n);else throw new Error(ht(1));let a;typeof r=="function"?a=r(t):a=t();let d=Hs;s&&(d=Bh({trace:!1,...typeof s=="object"&&s}));const f=Dh(...a),m=bh(f);let y=typeof o=="function"?o(m):m();const g=d(...y);return Gd(l,i,g)}function ef(e){const t={},n=[];let r;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ht(28));if(l in t)throw new Error(ht(29));return t[l]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return e(s),[t,n,r]}function Xh(e){return typeof e=="function"}function Zh(e,t){let[n,r,s]=ef(t),i;if(Xh(e))i=()=>wu(e());else{const l=wu(e);i=()=>l}function o(l=i(),a){let d=[n[a.type],...r.filter(({matcher:f})=>f(a)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[s]),d.reduce((f,m)=>{if(m)if(sn(f)){const g=m(f,a);return g===void 0?f:g}else{if(St(f))return Xd(f,y=>m(y,a));{const y=m(f,a);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return f},l)}return o.getInitialState=i,o}var qh=(e,t)=>Gh(e)?e.match(t):e(t);function eg(...e){return t=>e.some(n=>qh(n,t))}var tg="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ng=(e=21)=>{let t="",n=e;for(;n--;)t+=tg[Math.random()*64|0];return t},rg=["name","message","stack","code"],Gi=class{constructor(e,t){mi(this,"_type");this.payload=e,this.meta=t}},xu=class{constructor(e,t){mi(this,"_type");this.payload=e,this.meta=t}},sg=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of rg)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},$e=(()=>{function e(t,n,r){const s=cr(t+"/fulfilled",(a,d,f,m)=>({payload:a,meta:{...m||{},arg:f,requestId:d,requestStatus:"fulfilled"}})),i=cr(t+"/pending",(a,d,f)=>({payload:void 0,meta:{...f||{},arg:d,requestId:a,requestStatus:"pending"}})),o=cr(t+"/rejected",(a,d,f,m,y)=>({payload:m,error:(r&&r.serializeError||sg)(a||"Rejected"),meta:{...y||{},arg:f,requestId:d,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(d,f,m)=>{const y=r!=null&&r.idGenerator?r.idGenerator(a):ng(),g=new AbortController;let v,k;function E(c){k=c,g.abort()}const h=async function(){var x,j;let c;try{let S=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,a,{getState:f,extra:m});if(og(S)&&(S=await S),S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((w,M)=>{v=()=>{M({name:"AbortError",message:k||"Aborted"})},g.signal.addEventListener("abort",v)});d(i(y,a,(j=r==null?void 0:r.getPendingMeta)==null?void 0:j.call(r,{requestId:y,arg:a},{getState:f,extra:m}))),c=await Promise.race([C,Promise.resolve(n(a,{dispatch:d,getState:f,extra:m,requestId:y,signal:g.signal,abort:E,rejectWithValue:(w,M)=>new Gi(w,M),fulfillWithValue:(w,M)=>new xu(w,M)})).then(w=>{if(w instanceof Gi)throw w;return w instanceof xu?s(w.payload,y,a,w.meta):s(w,y,a)})])}catch(S){c=S instanceof Gi?o(null,y,a,S.payload,S.meta):o(S,y,a)}finally{v&&g.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(c)&&c.meta.condition||d(c),c}();return Object.assign(h,{abort:E,requestId:y,arg:a,unwrap(){return h.then(ig)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,settled:eg(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function ig(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function og(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var lg=Symbol.for("rtk-slice-createasyncthunk");function ag(e,t){return`${e}/${t}`}function ug({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[lg];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(ht(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(dg()):s.reducers)||{},a=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(p,x){const j=typeof p=="string"?p:p.type;if(!j)throw new Error(ht(12));if(j in d.sliceCaseReducersByType)throw new Error(ht(13));return d.sliceCaseReducersByType[j]=x,f},addMatcher(p,x){return d.sliceMatchers.push({matcher:p,reducer:x}),f},exposeAction(p,x){return d.actionCreators[p]=x,f},exposeCaseReducer(p,x){return d.sliceCaseReducersByName[p]=x,f}};a.forEach(p=>{const x=l[p],j={reducerName:p,type:ag(i,p),createNotation:typeof s.reducers=="function"};pg(x)?hg(j,x,f,t):fg(j,x,f)});function m(){const[p={},x=[],j=void 0]=typeof s.extraReducers=="function"?ef(s.extraReducers):[s.extraReducers],S={...p,...d.sliceCaseReducersByType};return Zh(s.initialState,C=>{for(let w in S)C.addCase(w,S[w]);for(let w of d.sliceMatchers)C.addMatcher(w.matcher,w.reducer);for(let w of x)C.addMatcher(w.matcher,w.reducer);j&&C.addDefaultCase(j)})}const y=p=>p,g=new Map;let v;function k(p,x){return v||(v=m()),v(p,x)}function E(){return v||(v=m()),v.getInitialState()}function h(p,x=!1){function j(C){let w=C[p];return typeof w>"u"&&x&&(w=E()),w}function S(C=y){const w=Su(g,x,()=>new WeakMap);return Su(w,C,()=>{const M={};for(const[I,L]of Object.entries(s.selectors??{}))M[I]=cg(L,C,E,x);return M})}return{reducerPath:p,getSelectors:S,get selectors(){return S(j)},selectSlice:j}}const c={name:i,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...h(o),injectInto(p,{reducerPath:x,...j}={}){const S=x??o;return p.inject({reducerPath:S,reducer:k},j),{...c,...h(S,!0)}}};return c}}function cg(e,t,n,r){function s(i,...o){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return s.unwrapped=e,s}var tf=ug();function dg(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function fg({type:e,reducerName:t,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!mg(r))throw new Error(ht(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?cr(e,o):cr(e))}function pg(e){return e._reducerDefinitionType==="asyncThunk"}function mg(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hg({type:e,reducerName:t},n,r,s){if(!s)throw new Error(ht(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:a,settled:d,options:f}=n,m=s(e,i,f);r.exposeAction(t,m),o&&r.addCase(m.fulfilled,o),l&&r.addCase(m.pending,l),a&&r.addCase(m.rejected,a),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:o||ts,pending:l||ts,rejected:a||ts,settled:d||ts})}function ts(){}function ht(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Kl=()=>localStorage.getItem("SERVER_URL")||window.location.hostname,Yl=()=>localStorage.getItem("API_PORT")||"443",bl=()=>localStorage.getItem("USE_HTTPS")==="true"||window.location.protocol==="https:",gg=()=>`${bl()?"https:":"http:"}//${Kl()}:${Yl()}`,yg=()=>`${bl()?"wss:":"ws:"}//${Kl()}:${Yl()}`,ot={apiUrl:gg(),wsUrl:yg(),getServerUrl:Kl,getApiPort:Yl,isHttps:bl};class vg{constructor(){this.baseDirectory=null,this.cachedData={messages:{},users:[],recentContacts:{}},this.fileCache=new Map}async saveGroup(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups"),r=`group_${t.id}.json`,i=await(await n.getFileHandle(r,{create:!0})).createWritable();await i.write(JSON.stringify(t,null,2)),await i.close(),console.log(`Saved group: ${t.id}`)}catch(n){throw console.error("Error saving group:",n),n}}async saveGroupMessage(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups/messages"),r=`group_${t.groupId}_messages.json`;let s=[];try{const l=await(await(await n.getFileHandle(r)).getFile()).text();s=JSON.parse(l)}catch{}if(!s.some(i=>i.id===t.id)){s.push(t);const o=await(await n.getFileHandle(r,{create:!0})).createWritable();await o.write(JSON.stringify(s,null,2)),await o.close()}}catch(n){throw console.error("Error saving group message:",n),n}}async deleteGroupData(t,n){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const r=await this.getOrCreateDirectory("groups"),s=await this.getOrCreateDirectory("groups/messages");try{await r.removeEntry(`group_${t}.json`)}catch{console.log("Group file not found")}try{await s.removeEntry(`group_${t}_messages.json`)}catch{console.log("Group messages file not found")}console.log(`Deleted group data for ${t}`)}catch(r){throw console.error("Error deleting group data:",r),r}}async initialize(){if(!this.baseDirectory)try{const t=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});this.baseDirectory=t,await this.ensureDirectoryStructure(),await this.loadCachedData()}catch(t){throw console.error("Error initializing file system:",t),new Error("Failed to initialize file system storage")}}createMessageKey(t,n){const r=[t,n].sort();return`msg_${r[0]}_to_${r[1]}`}parseMessageKey(t){const n=t.match(/^msg_(.+)_to_(.+)\.json$/);return n?{fromId:n[1],toId:n[2]}:null}async ensureDirectoryStructure(){if(this.baseDirectory)try{await this.getOrCreateDirectory("messages"),await this.getOrCreateDirectory("users"),await this.getOrCreateDirectory("contacts"),await this.getOrCreateDirectory("files")}catch(t){console.error("Error creating directory structure:",t)}}async getOrCreateDirectory(t){if(!this.baseDirectory)throw new Error("Storage not initialized");return await this.baseDirectory.getDirectoryHandle(t,{create:!0})}async saveFileData(t,n){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const r=await this.getOrCreateDirectory("files"),s=n.name.split(".").pop()||"bin",i=`${t}.${s}`,l=await(await r.getFileHandle(i,{create:!0})).createWritable();await l.write(n),await l.close();const a=`${t}.meta.json`,d={originalName:n.name,type:n.type,size:n.size,lastModified:n.lastModified,storedFileName:i},m=await(await r.getFileHandle(a,{create:!0})).createWritable();await m.write(JSON.stringify(d,null,2)),await m.close(),console.log(`Saved file data for message ${t}: ${n.name}`)}catch(r){throw console.error("Error saving file data:",r),r}}async getFileData(t){if(!this.baseDirectory)throw new Error("Storage not initialized");if(this.fileCache.has(t))return{file:null,url:this.fileCache.get(t)};try{const n=await this.getOrCreateDirectory("files"),r=`${t}.meta.json`,o=await(await(await n.getFileHandle(r)).getFile()).text(),l=JSON.parse(o),d=await(await n.getFileHandle(l.storedFileName)).getFile(),f=new File([d],l.originalName,{type:l.type,lastModified:l.lastModified}),m=URL.createObjectURL(f);return this.fileCache.set(t,m),{file:f,url:m}}catch{return console.log(`No stored file found for message ${t}`),null}}cleanupFileCache(){this.fileCache.forEach(t=>URL.revokeObjectURL(t)),this.fileCache.clear()}async loadCachedData(){if(this.baseDirectory)try{const t=await this.readFile("users/users.json");t&&(this.cachedData.users=JSON.parse(t));const n=await this.readFile("contacts/contacts.json");n&&(this.cachedData.recentContacts=JSON.parse(n));const r=await this.getOrCreateDirectory("messages");for await(const s of r.values())if(s.kind==="file"&&s.name.endsWith(".json")){const i=s.name.replace(".json",""),o=await this.readFile(`messages/${s.name}`);o&&(this.cachedData.messages[i]=JSON.parse(o))}}catch(t){console.error("Error loading cached data:",t)}}async readFile(t){if(!this.baseDirectory)return null;try{const n=t.split("/"),r=n.pop();let s=this.baseDirectory;for(const l of n)s=await s.getDirectoryHandle(l);return await(await(await s.getFileHandle(r)).getFile()).text()}catch{return null}}async writeFile(t,n){if(this.baseDirectory)try{const r=t.split("/"),s=r.pop();let i=this.baseDirectory;for(const a of r)i=await i.getDirectoryHandle(a,{create:!0});const l=await(await i.getFileHandle(s,{create:!0})).createWritable();await l.write(n),await l.close()}catch(r){console.error("Error writing file:",r)}}async saveMessage(t){if(t.content!=="delivered")try{const n=await this.getOrCreateDirectory("messages"),s=`${this.createMessageKey(t.fromId,t.toId)}.json`;let i=[];try{const d=await(await(await n.getFileHandle(s)).getFile()).text();i=JSON.parse(d)}catch{console.log(`Creating new message file: ${s}`)}if(!i.some(l=>l.id===t.id)){const l={...t,savedAt:new Date().toISOString()};i.push(l);const a=`${t.fromId}:${t.toId}`;this.cachedData.messages[a]=i;const f=await(await n.getFileHandle(s,{create:!0})).createWritable();await f.write(JSON.stringify(i,null,2)),await f.close(),console.log(`Saved message to ${s}:`,l)}}catch(n){throw console.error("Error saving message:",n),new Error("Failed to save message")}}async getMessages(t,n){try{const r=await this.getOrCreateDirectory("messages"),s=`${this.createMessageKey(t,n)}.json`;try{const l=await(await(await r.getFileHandle(s)).getFile()).text(),a=JSON.parse(l),d=`${t}:${n}`;return this.cachedData.messages[d]=a,a}catch{return[]}}catch(r){return console.error("Error loading messages:",r),[]}}async saveUser(t){const n=this.cachedData.users.find(r=>r.id===t);n?n.lastActive=new Date().toISOString():this.cachedData.users.push({id:t,lastActive:new Date().toISOString()}),await this.writeFile("users/users.json",JSON.stringify(this.cachedData.users))}async deleteUserData(t){this.cachedData.users=this.cachedData.users.filter(s=>s.id!==t),await this.writeFile("users/users.json",JSON.stringify(this.cachedData.users));const n=await this.getOrCreateDirectory("messages"),r=await this.getOrCreateDirectory("files");try{const s=new Set;for await(const i of n.values())if(i.kind==="file"&&i.name.endsWith(".json")&&(i.name.includes(`msg_${t}_to_`)||i.name.includes(`_to_${t}.json`)))try{const a=await(await(await n.getFileHandle(i.name)).getFile()).text();JSON.parse(a).forEach(f=>s.add(f.id)),await n.removeEntry(i.name),console.log(`Successfully deleted file: ${i.name}`)}catch(o){console.error(`Error deleting file ${i.name}:`,o)}for await(const i of r.values())if(i.kind==="file"){const o=i.name.split(".")[0];if(s.has(o))try{await r.removeEntry(i.name),console.log(`Deleted file data: ${i.name}`)}catch(l){console.error(`Error deleting file data ${i.name}:`,l)}}for(const i in this.cachedData.messages)i.includes(t)&&delete this.cachedData.messages[i];delete this.cachedData.recentContacts[t],await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts)),this.cleanupFileCache()}catch(s){throw console.error("Error deleting user data:",s),new Error("Failed to delete user data")}}async deleteContactHistory(t,n){try{if(!(await fetch(`${ot.apiUrl}/api/messages/${t}/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete messages from server")}catch(f){throw console.error("Error deleting messages from server:",f),f}const s=`${this.createMessageKey(t,n)}.json`,i=new Set;try{const g=await(await(await(await this.getOrCreateDirectory("messages")).getFileHandle(s)).getFile()).text();JSON.parse(g).forEach(k=>i.add(k.id))}catch{console.log("No messages file found to get IDs from")}const o=`${t}:${n}`,l=`${n}:${t}`;delete this.cachedData.messages[o],delete this.cachedData.messages[l];const a=await this.getOrCreateDirectory("messages"),d=await this.getOrCreateDirectory("files");try{await a.removeEntry(s);const f=`${this.createMessageKey(n,t)}.json`;try{await a.removeEntry(f)}catch{}for await(const m of d.values())if(m.kind==="file"){const y=m.name.split(".")[0];if(i.has(y))try{await d.removeEntry(m.name),console.log(`Deleted file data: ${m.name}`)}catch(g){console.error(`Error deleting file data ${m.name}:`,g)}}this.cachedData.recentContacts[t]&&(this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].filter(m=>m.userId!==n),await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts)))}catch(f){throw console.error("Error deleting contact history:",f),f}}async deleteAllUserData(){if(this.baseDirectory)try{this.cachedData={messages:{},users:[],recentContacts:{}},this.cleanupFileCache();for(const t of["messages","users","contacts","files"]){const n=await this.getOrCreateDirectory(t);for await(const r of n.values())await n.removeEntry(r.name)}}catch(t){console.error("Error deleting all user data:",t)}}getRecentUsers(){return this.cachedData.users.sort((t,n)=>new Date(n.lastActive).getTime()-new Date(t.lastActive).getTime()).slice(0,5)}async saveRecentContact(t,n){this.cachedData.recentContacts[t]||(this.cachedData.recentContacts[t]=[]),this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].filter(r=>r.userId!==n),this.cachedData.recentContacts[t].unshift({userId:n,lastInteraction:new Date().toISOString()}),this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].slice(0,5),await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts))}getRecentContacts(t){return this.cachedData.recentContacts[t]||[]}async getAllMessages(t){try{const n=await this.getOrCreateDirectory("messages");let r=[];for await(const s of n.values())if(s.kind==="file"&&s.name.endsWith(".json")){const i=this.parseMessageKey(s.name);if(i&&(i.fromId===t||i.toId===t)){const a=await(await(await n.getFileHandle(s.name)).getFile()).text(),d=JSON.parse(a);r=r.concat(d)}}return r.sort((s,i)=>new Date(s.timestamp).getTime()-new Date(i.timestamp).getTime())}catch(n){return console.error("Error loading all messages:",n),[]}}}const G=new vg,wg=()=>G.initialize(),nf=async e=>(await G.initialize(),G.saveMessage(e)),Sg=async(e,t)=>(await G.initialize(),G.getMessages(e,t)),Cg=async e=>(await G.initialize(),G.saveUser(e)),xg=async()=>(await G.initialize(),G.getRecentUsers()),kg=async e=>(await G.initialize(),G.deleteUserData(e)),Eg=async(e,t)=>(await G.initialize(),G.deleteContactHistory(e,t)),Ng=async()=>(await G.initialize(),G.deleteAllUserData()),jg=async(e,t)=>(await G.initialize(),G.saveRecentContact(e,t)),_g=async e=>(await G.initialize(),G.getRecentContacts(e)),ku=async(e,t)=>(await G.initialize(),G.saveFileData(e,t)),Tg=async e=>(await G.initialize(),G.getFileData(e)),Dg=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";const n=Date.now().toString(36);for(let r=0;r<4;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return`${t}-${n}`},Mg=async e=>(await G.initialize(),G.getAllMessages(e)),rf=async e=>{await G.initialize(),console.log("Saving group:",e)},Rg=async e=>{await G.initialize();const t={id:e.id,fromId:e.fromId,toId:e.groupId,content:e.content,timestamp:e.timestamp,delivered:e.delivered,readStatus:e.readBy.includes(e.fromId),status:e.status,replyTo:e.replyTo};return G.saveMessage(t)},Ig=async(e,t)=>{await G.initialize(),console.log("Deleting group data:",e,t)},Pg={messages:[],currentUserId:null,connectedToUser:null,users:{},loading:!1,error:null,isWebSocketConnected:!1,messageQueue:{pending:[],failed:[],retrying:[]}},Jl=$e("messages/queueMessageAsync",async e=>(await nf(e),e)),Vi=$e("messages/initializeAllMessagesAsync",async e=>await Mg(e)),ms=$e("messages/setCurrentUserAsync",async e=>(await Cg(e),e)),hs=$e("messages/initializeMessagesAsync",async({userId1:e,userId2:t})=>await Sg(e,t)),Zt=$e("messages/addMessageAsync",async(e,{dispatch:t,getState:n})=>n().messages.isWebSocketConnected?(await nf(e),{message:e,queued:!1}):(await t(Jl(e)),{message:e,queued:!0})),Eu=$e("messages/retryFailedMessageAsync",async(e,{dispatch:t})=>(await t(Zt(e)),e)),sf=tf({name:"messages",initialState:Pg,reducers:{setWebSocketConnected(e,t){e.isWebSocketConnected=t.payload},setConnectedUser(e,t){e.connectedToUser=t.payload,e.messages=[]},setUserOnlineStatus(e,t){e.users[t.payload.userId]||(e.users[t.payload.userId]={id:t.payload.userId,online:!1}),e.users[t.payload.userId].online=t.payload.online},setMessageDelivered(e,t){const n=e.messages.find(s=>s.id===t.payload);n&&(n.delivered=!0,n.status="delivered"),e.messageQueue.pending.find(s=>s.id===t.payload)&&(e.messageQueue.pending=e.messageQueue.pending.filter(s=>s.id!==t.payload))},setMessageRead(e,t){const n=e.messages.find(s=>s.id===t.payload);n&&(n.readStatus=!0,n.status="read",n.delivered=!0);const r=e.messageQueue.pending.find(s=>s.id===t.payload);r&&(r.readStatus=!0,r.status="read",r.delivered=!0)},clearChat(e){e.messages=[],e.connectedToUser=null,e.currentUserId=null,e.users={},e.messageQueue={pending:[],failed:[],retrying:[]}},moveToFailedQueue(e,t){const n=e.messageQueue.pending.find(r=>r.id===t.payload);n&&(e.messageQueue.pending=e.messageQueue.pending.filter(r=>r.id!==t.payload),e.messageQueue.failed.push(n))},removeFromQueue(e,t){e.messageQueue.pending=e.messageQueue.pending.filter(n=>n.id!==t.payload),e.messageQueue.failed=e.messageQueue.failed.filter(n=>n.id!==t.payload),e.messageQueue.retrying=e.messageQueue.retrying.filter(n=>n.id!==t.payload)},clearError(e){e.error=null}},extraReducers:e=>{e.addCase(Jl.fulfilled,(t,n)=>{t.messageQueue.pending.push(n.payload)}),e.addCase(Zt.fulfilled,(t,n)=>{const{message:r,queued:s}=n.payload;!s&&r.content!=="delivered"&&t.messages.findIndex(o=>o.id===r.id)===-1&&(t.messages.push({...r,status:r.status||"sent"}),console.log("[Redux] Added message to store:",r))}),e.addCase(Eu.pending,(t,n)=>{const r=n.meta.arg.id;t.messageQueue.failed=t.messageQueue.failed.filter(s=>s.id!==r),t.messageQueue.retrying.push(n.meta.arg)}),e.addCase(Eu.fulfilled,(t,n)=>{t.messageQueue.retrying=t.messageQueue.retrying.filter(r=>r.id!==n.payload.id)}),e.addCase(ms.pending,t=>{t.loading=!0,t.error=null}),e.addCase(ms.fulfilled,(t,n)=>{t.currentUserId=n.payload,t.loading=!1}),e.addCase(ms.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to set user"}),e.addCase(hs.pending,t=>{t.loading=!0,t.error=null}),e.addCase(hs.fulfilled,(t,n)=>{t.messages=n.payload,t.loading=!1}),e.addCase(hs.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to load messages"}),e.addCase(Zt.pending,t=>{t.error=null}),e.addCase(Zt.rejected,(t,n)=>{t.error=n.error.message||"Failed to save message"}),e.addCase(Vi.pending,t=>{t.loading=!0,t.error=null}),e.addCase(Vi.fulfilled,(t,n)=>{t.messages=n.payload,t.loading=!1}),e.addCase(Vi.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to load messages"})}}),{setConnectedUser:Ln,setUserOnlineStatus:zg,setMessageDelivered:Og,setMessageRead:of,clearChat:ay,clearError:uy,setWebSocketConnected:Nu,moveToFailedQueue:ju,removeFromQueue:Fg}=sf.actions,Lg=sf.reducer,Ug={groups:{},groupMembers:{},groupMessages:{},currentGroupId:null,loading:!1,error:null,unreadCounts:{}},gs=$e("groups/createGroup",async({request:e,userId:t})=>{const n=await fetch(`${ot.apiUrl}/api/groups`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,createdBy:t})});if(!n.ok)throw new Error("Failed to create group");const r=await n.json();return await rf(r),r}),Mr=$e("groups/fetchUserGroups",async e=>{const t=await fetch(`${ot.apiUrl}/api/users/${e}/groups`);if(!t.ok)throw new Error("Failed to fetch groups");const n=await t.json();for(const r of n)await rf(r);return n}),Xl=$e("groups/fetchGroupMembers",async e=>{const t=await fetch(`${ot.apiUrl}/api/groups/${e}/members`);if(!t.ok)throw new Error("Failed to fetch group members");const n=await t.json();return{groupId:e,members:n}}),Qs=$e("groups/fetchGroupMessages",async e=>{const t=await fetch(`${ot.apiUrl}/api/groups/${e}/messages`);if(!t.ok)throw new Error("Failed to fetch group messages");const n=await t.json();for(const r of n)await Rg(r);return{groupId:e,messages:n}}),lf=$e("groups/addMembers",async e=>{const t=await fetch(`${ot.apiUrl}/api/groups/${e.groupId}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIds:e.userIds})});if(!t.ok)throw new Error("Failed to add members");const n=await t.json();return{groupId:e.groupId,members:n}}),af=$e("groups/performAdminAction",async e=>{if(!(await fetch(`${ot.apiUrl}/api/groups/${e.groupId}/admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to perform admin action");return e}),uf=$e("groups/leaveGroup",async({groupId:e,userId:t})=>{if(!(await fetch(`${ot.apiUrl}/api/groups/${e}/leave`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})})).ok)throw new Error("Failed to leave group");return await Ig(e,t),{groupId:e,userId:t}}),cf=tf({name:"groups",initialState:Ug,reducers:{setCurrentGroup(e,t){e.currentGroupId=t.payload,t.payload&&e.unreadCounts[t.payload]&&(e.unreadCounts[t.payload]=0)},addGroupToUser(e,t){const n=t.payload;e.groups[n.id]=n,e.unreadCounts[n.id]===void 0&&(e.unreadCounts[n.id]=0),console.log(`[GroupSlice] Added group ${n.id} to user's groups`)},incrementGroupUnreadCount(e,t){const n=t.payload;n!==e.currentGroupId&&(e.unreadCounts[n]===void 0&&(e.unreadCounts[n]=0),e.unreadCounts[n]++,console.log(`[GroupSlice] Incremented unread count for group ${n} to ${e.unreadCounts[n]}`))},resetGroupUnreadCount(e,t){const n=t.payload;e.unreadCounts[n]=0,console.log(`[GroupSlice] Reset unread count for group ${n}`)},addGroupMessage(e,t){const{groupId:n}=t.payload;e.groupMessages[n]||(e.groupMessages[n]=[]),e.groupMessages[n].some(s=>s.id===t.payload.id)||(e.groupMessages[n].push(t.payload),e.groups[n]&&(e.groups[n].lastActivity=t.payload.timestamp,e.groups[n].lastMessage=typeof t.payload.content=="string"?t.payload.content:"File"))},markGroupMessageAsRead(e,t){const{groupId:n,messageId:r,userId:s}=t.payload,i=e.groupMessages[n];if(i){const o=i.find(l=>l.id===r);o&&!o.readBy.includes(s)&&o.readBy.push(s)}},markAllGroupMessagesAsRead(e,t){const{groupId:n,userId:r}=t.payload,s=e.groupMessages[n];s&&(s.forEach(i=>{i.readBy.includes(r)||i.readBy.push(r)}),e.unreadCounts[n]=0)},updateGroupMemberStatus(e,t){const{groupId:n,userId:r,updates:s}=t.payload,i=e.groupMembers[n];if(i){const o=i.find(l=>l.userId===r);o&&Object.assign(o,s)}},updateGroupInfo(e,t){const{groupId:n,updates:r}=t.payload;e.groups[n]&&Object.assign(e.groups[n],r)},addGroupNotification(e,t){const{groupId:n}=t.payload,r={id:t.payload.id,groupId:n,fromId:"system",content:t.payload.message,timestamp:t.payload.timestamp,delivered:!0,readBy:[],status:"delivered"};e.groupMessages[n]||(e.groupMessages[n]=[]),e.groupMessages[n].push(r)},clearGroupMessages(e,t){const n=t.payload;e.groupMessages[n]&&(e.groupMessages[n]=[])},clearGroupError(e){e.error=null}},extraReducers:e=>{e.addCase(gs.pending,t=>{t.loading=!0,t.error=null}),e.addCase(gs.fulfilled,(t,n)=>{t.groups[n.payload.id]=n.payload,t.loading=!1}),e.addCase(gs.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to create group"}),e.addCase(Mr.fulfilled,(t,n)=>{n.payload.forEach(r=>{t.groups[r.id]=r,t.unreadCounts[r.id]||(t.unreadCounts[r.id]=0)})}),e.addCase(Xl.fulfilled,(t,n)=>{t.groupMembers[n.payload.groupId]=n.payload.members}),e.addCase(Qs.fulfilled,(t,n)=>{t.groupMessages[n.payload.groupId]=n.payload.messages,t.unreadCounts[n.payload.groupId]=0}),e.addCase(lf.fulfilled,(t,n)=>{t.groupMembers[n.payload.groupId]=n.payload.members,t.groups[n.payload.groupId]&&(t.groups[n.payload.groupId].memberCount=n.payload.members.length)}),e.addCase(af.fulfilled,(t,n)=>{const{groupId:r,targetUserId:s,type:i}=n.payload,o=t.groupMembers[r];if(o){const l=o.find(a=>a.userId===s);if(l)switch(i){case"mute":l.isMuted=!0;break;case"unmute":l.isMuted=!1;break;case"ban":l.isBanned=!0;break;case"unban":l.isBanned=!1;break;case"promote":l.role="admin";break;case"demote":l.role="member";break}}}),e.addCase(uf.fulfilled,(t,n)=>{const{groupId:r}=n.payload;delete t.groups[r],delete t.groupMembers[r],delete t.groupMessages[r],delete t.unreadCounts[r],t.currentGroupId===r&&(t.currentGroupId=null)})}}),{setCurrentGroup:Ks,addGroupToUser:$g,incrementGroupUnreadCount:Ag,resetGroupUnreadCount:df,addGroupMessage:Wg,markGroupMessageAsRead:Hg,markAllGroupMessagesAsRead:Bg,updateGroupMemberStatus:cy,updateGroupInfo:dy,addGroupNotification:Gg,clearGroupMessages:fy,clearGroupError:Vg}=cf.actions,Qg=cf.reducer,Kg=Jh({reducer:{messages:Lg,groups:Qg}}),xt=()=>Eh(),A=ph,Qi=({mode:e})=>{const t=xt(),n=A(c=>c.messages.currentUserId),r=A(c=>c.messages.connectedToUser),s=A(c=>c.messages.users),[i,o]=P.useState(""),[l,a]=P.useState([]),[d,f]=P.useState([]),[m,y]=P.useState(!1),[g,v]=P.useState(null);P.useEffect(()=>{(async()=>{try{const p=await xg();if(a(p),n){const x=await _g(n);f(x)}}catch(p){console.error("Error loading data:",p)}})()},[n]);const k=async c=>{if(c.trim()){y(!0),v(null);try{await t(ms(c)).unwrap()}catch{v("Failed to set user ID. Please try again.")}finally{y(!1)}}},E=async c=>{if(!(!c.trim()||!n||c===n)){y(!0),v(null);try{if(!(await fetch(`${ot.apiUrl}/api/status/${c}`)).ok)throw new Error("User not found");await jg(n,c),t(Ln(c))}catch{v("Failed to connect. Please check the ID and try again.")}finally{y(!1)}}},h=()=>{const c=Dg();o(c)};return e==="setup"?u.jsxs("div",{className:"card fade-in",children:[u.jsx("h2",{className:"card-title",children:"Welcome to Chat"}),g&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:g})]}),u.jsxs("form",{onSubmit:c=>{c.preventDefault(),k(i)},className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Choose or create your user ID"}),u.jsx("input",{type:"text",value:i,onChange:c=>o(c.target.value),placeholder:"Enter user ID",className:"input",disabled:m})]}),u.jsxs("div",{className:"btn-group",children:[u.jsx("button",{type:"button",onClick:h,disabled:m,className:"btn btn-secondary",children:"Generate ID"}),u.jsx("button",{type:"submit",disabled:m||!i.trim(),className:"btn btn-primary",children:m?"Connecting...":"Continue"})]})]}),l.length>0&&u.jsxs("div",{className:"mt-lg",children:[u.jsx("h3",{className:"text-muted text-small mb-sm",children:"Recent Users"}),u.jsx("div",{className:"user-grid",children:l.map(c=>u.jsx("div",{onClick:()=>o(c.id),className:`user-card ${c.id===i?"user-card-active":""}`,children:c.id},c.id))})]})]}):e==="connect"?u.jsxs("div",{className:"card fade-in",children:[u.jsx("h2",{className:"card-title",children:"Connect to User"}),u.jsxs("div",{className:"alert alert-success mb-md",children:[u.jsx("span",{children:"👤"}),u.jsxs("span",{children:["Your ID: ",u.jsx("strong",{children:n})]})]}),g&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:g})]}),u.jsxs("form",{onSubmit:c=>{c.preventDefault(),E(i)},className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Enter recipient's user ID"}),u.jsx("input",{type:"text",value:i,onChange:c=>o(c.target.value),placeholder:"User ID to connect",className:"input",disabled:m})]}),u.jsx("button",{type:"submit",disabled:m||!i.trim()||i===n,className:"btn btn-primary",children:m?"Connecting...":"Connect"})]}),d.length>0&&u.jsxs("div",{className:"mt-lg",children:[u.jsx("h3",{className:"text-muted text-small mb-sm",children:"Recent Contacts"}),u.jsx("div",{className:"user-grid",children:d.map(c=>{var p;return u.jsxs("div",{onClick:()=>E(c.userId),className:"user-card",children:[c.userId,((p=s[c.userId])==null?void 0:p.online)&&u.jsxs("div",{className:"status mt-sm",children:[u.jsx("span",{className:"status-dot status-online"}),u.jsx("span",{className:"text-small",children:"Online"})]})]},c.userId)})})]})]}):u.jsxs("div",{className:"user-menu-compact",children:[u.jsxs("div",{className:"status",children:[u.jsxs("span",{children:["User: ",u.jsx("strong",{children:n})]}),r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-muted",children:"→"}),u.jsxs("span",{children:["Chat: ",u.jsx("strong",{children:r})]})]})]}),u.jsxs("div",{className:"btn-group",children:[r&&u.jsx("button",{onClick:()=>t(Ln(null)),className:"btn btn-secondary",children:"Disconnect"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-danger",children:"Logout"})]})]})};class Yg{constructor(t,n,r){this.wsRef=t,this.dispatch=n,this.currentUserId=r,this.processedMessageIds=new Set,this.deliveryTimeouts=new Map,this.maxDeliveryAttempts=3}async processIncomingMessage(t){if(!this.processedMessageIds.has(t.id))try{switch(t.content){case"status_update":await this.handleStatusUpdate(t);break;case"delivered":await this.handleDeliveryConfirmation(t);break;case"read":await this.handleReadReceipt(t);break;default:await this.handleRegularMessage(t)}this.processedMessageIds.add(t.id)}catch(n){throw console.error("Error processing message:",n),n}}async sendMessage(t){var n;try{await this.dispatch(Zt(t)).unwrap(),((n=this.wsRef.current)==null?void 0:n.readyState)===WebSocket.OPEN?(this.wsRef.current.send(JSON.stringify(t)),this.setDeliveryTimeout(t)):await this.dispatch(Jl(t)).unwrap()}catch(r){throw console.error("Error sending message:",r),await this.dispatch(ju(t.id)),r}}setDeliveryTimeout(t){this.deliveryTimeouts.has(t.id)&&clearTimeout(this.deliveryTimeouts.get(t.id));const n=setTimeout(()=>{this.handleDeliveryTimeout(t)},5e3);this.deliveryTimeouts.set(t.id,n)}async handleDeliveryTimeout(t){t.delivered||await this.dispatch(ju(t.id)),this.deliveryTimeouts.delete(t.id)}async handleStatusUpdate(t){}async handleDeliveryConfirmation(t){const n=t.id.startsWith("delivery_")?t.id.replace("delivery_",""):t.id;await this.dispatch(Og(n)),this.deliveryTimeouts.has(n)&&(clearTimeout(this.deliveryTimeouts.get(n)),this.deliveryTimeouts.delete(n))}async handleReadReceipt(t){const n=t.id.startsWith("read_")?t.id.replace("read_",""):t.id;await this.dispatch(of(n)),this.deliveryTimeouts.has(n)&&(clearTimeout(this.deliveryTimeouts.get(n)),this.deliveryTimeouts.delete(n))}async handleRegularMessage(t){if(await this.dispatch(Zt(t)),t.toId===this.currentUserId&&this.wsRef.current){const n={id:`delivery_${t.id}`,fromId:this.currentUserId,toId:t.fromId,content:"delivered",timestamp:new Date().toISOString(),delivered:!0,readStatus:!1,status:"sent"};this.wsRef.current.send(JSON.stringify(n))}}clearDeliveryTimeouts(){this.deliveryTimeouts.forEach(t=>clearTimeout(t)),this.deliveryTimeouts.clear()}}const ff=P.createContext({ws:null,messageProcessor:null}),bg=({children:e})=>{const t=xt(),n=A(m=>m.messages.currentUserId),r=A(m=>m.messages.messageQueue.pending),s=P.useRef(null),i=P.useRef(null),o=3,l=P.useRef(0),a=P.useRef(),d=P.useCallback(()=>{if(!(!i.current||!r.length))for(const m of r)try{i.current.sendMessage(m),t(Fg(m.id))}catch(y){console.error("Error processing pending message:",y)}},[t,r]),f=P.useCallback(()=>{if(!n)return;if(l.current>=o){console.error("Failed to connect after maximum retries");return}console.log("Attempting WebSocket connection...");const m=new WebSocket(`${ot.wsUrl}/ws/${n}`);s.current=m,m.onopen=()=>{console.log("WebSocket connected successfully"),t(Nu(!0)),l.current=0,i.current=new Yg(s,t,n),t(Mr(n)),d()},m.onmessage=async y=>{var g,v,k,E;try{const h=JSON.parse(y.data);if(console.log("[WebSocket] Received message:",h),h.messageType)switch(h.messageType){case"group_notification":console.log("[WebSocket] Group notification:",h);const p=h.data;if(t(Gg(p)),p.type==="member_added"&&p.metadata){const x=p.metadata;if(x.userId===n||(g=p.message)!=null&&g.includes(n)){console.log("[WebSocket] User added to group, adding to list...");const j={id:p.groupId,name:x.groupName||`Group ${p.groupId}`,description:"",createdBy:x.addedBy||"",createdAt:new Date().toISOString(),memberCount:0,lastActivity:new Date().toISOString(),lastMessage:"You were added to this group"};t($g(j)),t(Mr(n))}}return;case"webrtc_signaling":console.log("[WebSocket] WebRTC signaling message");return;default:console.log("[WebSocket] Unknown message type:",h.messageType)}const c=h;if(c.content==="status_update"){console.log("[WebSocket] Status update:",c),t(zg({userId:c.fromId,online:c.status==="online"}));return}if((v=c.toId)!=null&&v.startsWith("GROUP_")){console.log("[WebSocket] Received group message:",c);let p="";typeof c.content=="string"?p=c.content:c.content&&typeof c.content=="object"&&("type"in c.content&&["text","file","image","video","audio"].includes(c.content.type)?p=c.content:p=JSON.stringify(c.content)),t(Wg({id:c.id,groupId:c.toId,fromId:c.fromId,content:p,timestamp:c.timestamp,delivered:c.delivered||!1,readBy:c.readStatus?[n]:[],status:c.status||"delivered",replyTo:c.replyTo})),c.fromId!==n&&t(Ag(c.toId)),await((k=i.current)==null?void 0:k.processIncomingMessage(c))}else console.log("[WebSocket] Received direct message:",c),await((E=i.current)==null?void 0:E.processIncomingMessage(c))}catch(h){console.error("[WebSocket] Error processing message:",h)}},m.onclose=y=>{if(t(Nu(!1)),console.log("WebSocket disconnected with code:",y.code),y.wasClean){console.log("Clean websocket close");return}const g=Math.min(1e3*Math.pow(2,l.current),1e4);a.current=setTimeout(()=>{l.current++,console.log(`Attempting reconnection ${l.current}/${o}`),f()},g)},m.onerror=y=>{console.error("WebSocket error:",y)}},[n,t,d]);return P.useEffect(()=>(n&&f(),()=>{a.current&&clearTimeout(a.current),s.current&&s.current.close(1e3,"Component unmounting"),i.current&&i.current.clearDeliveryTimeouts()}),[n,f]),u.jsx(ff.Provider,{value:{ws:s.current,messageProcessor:i.current},children:u.jsx("div",{"data-testid":"websocket-manager",children:e})})},pf=()=>P.useContext(ff),Ki=16384;class Jg{constructor(){this.activeTransfers=new Map}async prepareFileTransfer(t){const n=Math.ceil(t.size/Ki);return{id:crypto.randomUUID(),name:t.name,type:t.type,size:t.size,totalChunks:n}}async*getFileChunks(t,n){const r=new FileReader;let s=0,i=0;for(;s<t.size;){const o=t.slice(s,s+Ki),l=await new Promise((a,d)=>{r.onload=()=>a(r.result),r.onerror=()=>d(r.error),r.readAsArrayBuffer(o)});yield{transferId:n.id,chunkIndex:i,totalChunks:n.totalChunks,data:l},s+=Ki,i++}}initializeReceiver(t,n){this.activeTransfers.set(t.id,{metadata:t,receivedChunks:new Set,chunks:new Array(t.totalChunks),onProgress:n})}processChunk(t,n,r){var o;const s=this.activeTransfers.get(t);if(!s)return 0;s.chunks[n]=r,s.receivedChunks.add(n);const i=s.receivedChunks.size/s.metadata.totalChunks*100;return(o=s.onProgress)==null||o.call(s,i),i}isTransferComplete(t){const n=this.activeTransfers.get(t);return n?n.receivedChunks.size===n.metadata.totalChunks:!1}async assembleFile(t){const n=this.activeTransfers.get(t);if(!n||!this.isTransferComplete(t))return null;const r=new Blob(n.chunks,{type:n.metadata.type}),s=new File([r],n.metadata.name,{type:n.metadata.type,lastModified:Date.now()});return this.activeTransfers.delete(t),s}cancelTransfer(t){this.activeTransfers.delete(t)}}const mf=P.createContext({createConnection:async()=>!1,closeConnection:()=>{},sendFile:async()=>"",isConnected:()=>!1,transfers:new Map,receivedFiles:new Map,getFileUrl:()=>{}}),Xg=()=>{const e=P.useContext(mf);if(!e)throw new Error("useWebRTC must be used within WebRTCManager");return e},Zg=({children:e})=>{const{ws:t}=pf(),n=xt(),r=A(S=>S.messages.currentUserId),s=P.useRef(new Map);P.useRef(new Jg);const[i,o]=P.useState(new Map),[l,a]=P.useState(new Map),d={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};P.useEffect(()=>{(async()=>{console.log("[WebRTC] WebRTCManager initialized, file persistence ready")})()},[]),P.useEffect(()=>{if(!t)return;const S=C=>{try{const w=JSON.parse(C.data);w.messageType==="webrtc_signaling"&&v(w)}catch(w){console.error("[WebRTC] Error processing message:",w)}};return t.addEventListener("message",S),()=>{t.removeEventListener("message",S),l.forEach(({url:C})=>URL.revokeObjectURL(C)),s.current.forEach((C,w)=>{E(w)})}},[t,r]);const f=S=>{if((t==null?void 0:t.readyState)===WebSocket.OPEN){const C={messageType:"webrtc_signaling",...S};console.log("[WebRTC] Sending signaling message:",C),t.send(JSON.stringify(C))}},m=(S,C)=>{console.log(`[WebRTC] Creating peer connection for ${S}, initiator: ${C}`);const w=new RTCPeerConnection(d),M={connection:w,dataChannel:null,pendingCandidates:[],isSettingRemoteDescription:!1,hasRemoteDescription:!1};return w.onicecandidate=I=>{I.candidate&&r&&(console.log("[WebRTC] Sending ICE candidate"),f({type:"ice-candidate",candidate:I.candidate,fromId:r,toId:S}))},w.onconnectionstatechange=()=>{console.log(`[WebRTC] Connection state: ${w.connectionState} for ${S}`),w.connectionState==="connected"&&console.log(`[WebRTC] Peer connection established with ${S}`)},w.oniceconnectionstatechange=()=>{console.log(`[WebRTC] ICE connection state: ${w.iceConnectionState} for ${S}`),w.iceConnectionState==="connected"?console.log(`[WebRTC] ICE connection established with ${S}`):w.iceConnectionState==="failed"&&(console.log(`[WebRTC] ICE connection failed with ${S}, attempting restart`),g(S))},C?(console.log(`[WebRTC] Creating data channel as initiator for ${S}`),M.dataChannel=w.createDataChannel("fileTransfer",{ordered:!0,maxRetransmits:3}),y(M.dataChannel,S)):(console.log(`[WebRTC] Waiting for data channel from ${S}`),w.ondatachannel=I=>{console.log(`[WebRTC] Received data channel from ${S}`),M.dataChannel=I.channel,y(M.dataChannel,S)}),s.current.set(S,M),M},y=(S,C)=>{let w=[],M=null;S.binaryType="arraybuffer",S.onopen=()=>{console.log(`[WebRTC] Data channel opened for ${C}`)},S.onclose=()=>{console.log(`[WebRTC] Data channel closed for ${C}`)},S.onerror=I=>{console.error(`[WebRTC] Data channel error for ${C}:`,I)},S.onmessage=async I=>{try{if(typeof I.data=="string"){const L=JSON.parse(I.data);switch(L.type){case"file-start":M={name:L.name,type:L.fileType,size:L.size,transferId:L.transferId,messageId:L.messageId},w=[],p(L.transferId||"unknown",{status:"transferring",progress:0}),console.log(`[WebRTC] Starting to receive file: ${M.name}`);break;case"file-end":if(M&&w.length>0){console.log(`[WebRTC] Assembling received file: ${M.name}`);const U=new File(w,M.name,{type:M.type}),te=URL.createObjectURL(U);a(b=>{const R=new Map(b);return R.set(M.messageId,{file:U,url:te,timestamp:new Date().toISOString()}),R});try{await ku(M.messageId,U),console.log(`[WebRTC] File saved to persistent storage: ${M.messageId}`)}catch(b){console.error("[WebRTC] Error saving file to persistent storage:",b)}console.log(`[WebRTC] File stored with ID: ${M.messageId}`);const se=URL.createObjectURL(U),ce=document.createElement("a");if(ce.href=se,ce.download=U.name,ce.style.display="none",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(se),console.log(`[WebRTC] File auto-downloaded: ${U.name}`),r){const R={type:M.type.startsWith("image/")?"image":M.type.startsWith("video/")?"video":M.type.startsWith("audio/")?"audio":"file",file:{name:U.name,size:U.size,type:U.type,lastModified:U.lastModified}},N={id:M.messageId,fromId:C,toId:r,content:R,timestamp:new Date().toISOString(),delivered:!0,readStatus:!1,status:"delivered"};await n(Zt(N))}p(L.transferId||"unknown",{status:"completed",progress:100}),w=[],M=null}break}}else if(M){w.push(new Blob([I.data]));const L=w.reduce((te,se)=>te+se.size,0),U=L/M.size*100;p("current",{progress:U}),L%(1024*100)===0&&console.log(`[WebRTC] Received ${Math.round(L/1024)}KB of ${Math.round(M.size/1024)}KB`)}}catch(L){console.error("[WebRTC] Error handling data channel message:",L)}}},g=async S=>{const C=s.current.get(S);if(!(!C||!r))try{const w=await C.connection.createOffer({iceRestart:!0});await C.connection.setLocalDescription(w),f({type:"offer",offer:w,fromId:r,toId:S})}catch(w){console.error("[WebRTC] Error restarting ICE:",w)}},v=async S=>{if(!r||S.toId!==r)return;const C=S.fromId;let w=s.current.get(C);try{switch(S.type){case"offer":for(console.log(`[WebRTC] Handling offer from ${C}`),w||(w=m(C,!1)),w.isSettingRemoteDescription=!0,await w.connection.setRemoteDescription(new RTCSessionDescription(S.offer)),w.hasRemoteDescription=!0,w.isSettingRemoteDescription=!1;w.pendingCandidates.length>0;){const I=w.pendingCandidates.shift();await w.connection.addIceCandidate(new RTCIceCandidate(I))}const M=await w.connection.createAnswer();await w.connection.setLocalDescription(M),f({type:"answer",answer:M,fromId:r,toId:C});break;case"answer":if(console.log(`[WebRTC] Handling answer from ${C}`),w&&w.connection.signalingState==="have-local-offer")for(w.isSettingRemoteDescription=!0,await w.connection.setRemoteDescription(new RTCSessionDescription(S.answer)),w.hasRemoteDescription=!0,w.isSettingRemoteDescription=!1;w.pendingCandidates.length>0;){const I=w.pendingCandidates.shift();await w.connection.addIceCandidate(new RTCIceCandidate(I))}break;case"ice-candidate":if(console.log(`[WebRTC] Handling ICE candidate from ${C}`),w){const I=new RTCIceCandidate(S.candidate);w.isSettingRemoteDescription||!w.hasRemoteDescription?w.pendingCandidates.push(S.candidate):w.connection.remoteDescription&&await w.connection.addIceCandidate(I)}break}}catch(M){console.error("[WebRTC] Error handling signaling message:",M)}},k=async S=>{if(!r||!t||t.readyState!==WebSocket.OPEN)return console.error("[WebRTC] Cannot create connection - missing requirements"),!1;if(S===r)return console.error("[WebRTC] Cannot connect to self"),!1;try{console.log(`[WebRTC] Creating connection to ${S}`);const C=m(S,!0),w=await C.connection.createOffer();return await C.connection.setLocalDescription(w),f({type:"offer",offer:w,fromId:r,toId:S}),new Promise(M=>{let I=!1;const L=te=>{I||(I=!0,M(te))},U=setInterval(()=>{var te,se;console.log(`[WebRTC] Connection state: ${C.connection.connectionState}, ICE: ${C.connection.iceConnectionState}, DataChannel: ${(te=C.dataChannel)==null?void 0:te.readyState}`),((se=C.dataChannel)==null?void 0:se.readyState)==="open"?(console.log("[WebRTC] Data channel is open - connection successful"),clearInterval(U),L(!0)):C.connection.connectionState==="connected"&&C.connection.iceConnectionState==="connected"?setTimeout(()=>{var ce;((ce=C.dataChannel)==null?void 0:ce.readyState)==="open"&&(console.log("[WebRTC] Data channel opened after connection"),clearInterval(U),L(!0))},1e3):(C.connection.connectionState==="failed"||C.connection.iceConnectionState==="failed")&&(console.log("[WebRTC] Connection failed"),clearInterval(U),L(!1))},500);setTimeout(()=>{console.log("[WebRTC] Connection attempt timed out"),clearInterval(U),L(!1)},6e4)})}catch(C){return console.error("[WebRTC] Error creating connection:",C),!1}},E=S=>{const C=s.current.get(S);C&&(C.dataChannel&&C.dataChannel.close(),C.connection.close(),s.current.delete(S))},h=S=>{var w;const C=s.current.get(S);return((w=C==null?void 0:C.dataChannel)==null?void 0:w.readyState)==="open"},c=async(S,C)=>{let w=s.current.get(S);if(!(w!=null&&w.dataChannel)||w.dataChannel.readyState!=="open"){if(console.log("[WebRTC] No open data channel, creating connection"),!await k(S))throw new Error("Failed to establish connection");w=s.current.get(S)}if(!(w!=null&&w.dataChannel)||w.dataChannel.readyState!=="open")throw new Error("Data channel not available");try{const M=crypto.randomUUID(),I=crypto.randomUUID();p(M,{status:"transferring",progress:0});const L=URL.createObjectURL(C);a(b=>{const R=new Map(b);return R.set(I,{file:C,url:L,timestamp:new Date().toISOString()}),R});try{await ku(I,C),console.log(`[WebRTC] Sent file saved to persistent storage: ${I}`)}catch(b){console.error("[WebRTC] Error saving sent file to persistent storage:",b)}w.dataChannel.send(JSON.stringify({type:"file-start",name:C.name,fileType:C.type,size:C.size,transferId:M,messageId:I}));const U=16384;let te=0;const se=new FileReader,ce=b=>new Promise((R,N)=>{const O=C.slice(b,b+U);se.onload=D=>{var H,J;if((H=D.target)!=null&&H.result&&((J=w==null?void 0:w.dataChannel)==null?void 0:J.readyState)==="open"){w.dataChannel.send(D.target.result);const ke=Math.min((b+U)/C.size*100,100);p(M,{progress:ke}),R()}else N(new Error("Data channel closed during transfer"))},se.onerror=()=>N(se.error),se.readAsArrayBuffer(O)});for(;te<C.size;)await ce(te),te+=U,await new Promise(b=>setTimeout(b,10));return w.dataChannel.send(JSON.stringify({type:"file-end",transferId:M,messageId:I})),p(M,{status:"completed",progress:100}),console.log("[WebRTC] File transfer completed"),I}catch(M){throw console.error("[WebRTC] Error sending file:",M),M}},p=(S,C)=>{o(w=>{const M=new Map(w),I=w.get(S)||{transferId:S,progress:0,status:"pending"};return M.set(S,{...I,...C}),M})},j={createConnection:k,closeConnection:E,sendFile:c,isConnected:h,transfers:i,receivedFiles:l,getFileUrl:S=>{const C=l.get(S);return C==null?void 0:C.url}};return u.jsx(mf.Provider,{value:j,children:e})},qg=({file:e,isIncoming:t})=>{const[n,r]=P.useState(""),[s,i]=P.useState(!0),[o,l]=P.useState(null);P.useEffect(()=>{if(e instanceof File){const f=URL.createObjectURL(e);return r(f),i(!1),()=>URL.revokeObjectURL(f)}else"url"in e&&(r(e.url),i(!1))},[e]);const a=f=>f<1024?f+" B":f<1024*1024?(f/1024).toFixed(1)+" KB":(f/(1024*1024)).toFixed(1)+" MB",d=f=>f.startsWith("image/")?"🖼️":f.startsWith("video/")?"🎥":f.startsWith("audio/")?"🎵":f.includes("pdf")?"📄":f.includes("zip")||f.includes("rar")?"📦":f.includes("doc")||f.includes("docx")?"📝":f.includes("xls")||f.includes("xlsx")?"📊":"📎";return s?u.jsx("div",{className:"file-preview-container",children:u.jsxs("div",{className:"file-preview-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("span",{children:"Loading preview..."})]})}):o?u.jsx("div",{className:"file-preview-container",children:u.jsx("div",{className:"file-preview-error",children:u.jsxs("span",{children:["⚠️ ",o]})})}):e.type.startsWith("image/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsx("div",{className:"file-preview-image",children:u.jsx("img",{src:n,alt:e.name,onError:()=>l("Failed to load image"),onClick:()=>window.open(n,"_blank"),title:"Click to view full size"})}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):e.type.startsWith("video/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsx("div",{className:"file-preview-video",children:u.jsxs("video",{controls:!0,preload:"metadata",onError:()=>l("Failed to load video"),children:[u.jsx("source",{src:n,type:e.type}),"Your browser does not support video playback."]})}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):e.type.startsWith("audio/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsxs("div",{className:"file-preview-audio",children:[u.jsx("div",{className:"audio-icon",children:"🎵"}),u.jsxs("audio",{controls:!0,preload:"metadata",onError:()=>l("Failed to load audio"),children:[u.jsx("source",{src:n,type:e.type}),"Your browser does not support audio playback."]})]}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):u.jsx("div",{className:"file-preview-container",children:u.jsxs("div",{className:"file-preview-generic",children:[u.jsx("div",{className:"file-icon",children:d(e.type)}),u.jsxs("div",{className:"file-details",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]})})},ey=({isOpen:e,onClose:t})=>{const n=xt(),r=A(g=>g.messages.currentUserId),s=A(g=>g.messages.connectedToUser),i=A(g=>g.messages.messages),o=A(g=>g.messages.users),l=A(g=>g.groups.groups),a=A(g=>g.groups.unreadCounts),d=A(g=>g.groups.groupMessages),f=P.useMemo(()=>{if(!r)return[];const g=new Map;return i.forEach(v=>{if(!v.content||v.content==="delivered"||v.content==="read"||v.content==="status_update"||typeof v.content=="object"&&"type"in v.content&&["offer","answer","ice-candidate"].includes(v.content.type))return;const k=v.fromId===r?v.toId:v.fromId;if(k===r)return;g.has(k)||g.set(k,{userId:k,lastMessage:v.timestamp,unreadCount:0,lastMessageTime:v.timestamp});const E=g.get(k);new Date(v.timestamp)>new Date(E.lastMessageTime)&&(E.lastMessage=v.timestamp,E.lastMessageTime=v.timestamp),v.fromId===k&&v.toId===r&&!v.readStatus&&E.unreadCount++}),Array.from(g.values()).sort((v,k)=>new Date(k.lastMessageTime).getTime()-new Date(v.lastMessageTime).getTime())},[i,r]),m=g=>{g.startsWith("GROUP_")&&(n(df(g)),d[g]||n(Qs(g))),n(Ln(g)),t()},y=g=>{const v=new Date(g),E=new Date().getTime()-v.getTime(),h=Math.floor(E/6e4),c=Math.floor(E/36e5),p=Math.floor(E/864e5);return h<1?"now":h<60?`${h}m`:c<24?`${c}h`:p<7?`${p}d`:v.toLocaleDateString([],{month:"short",day:"numeric"})};return e?u.jsxs("div",{className:"contact-switcher",children:[u.jsxs("div",{className:"contact-switcher-header",children:[u.jsx("h3",{children:"Chats"}),u.jsx("button",{onClick:t,className:"btn btn-icon","aria-label":"Close contact switcher",children:"✕"})]}),u.jsx("div",{className:"contact-switcher-list",children:f.length===0&&Object.keys(l).length===0?u.jsx("div",{className:"contact-switcher-empty",children:u.jsx("p",{className:"text-muted text-center",children:"No conversations yet"})}):u.jsxs(u.Fragment,{children:[f.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"contact-switcher-section-header",children:u.jsx("h4",{children:"Direct Messages"})}),f.map(g=>{var v;return u.jsxs("div",{onClick:()=>m(g.userId),className:`contact-switcher-item ${g.userId===s?"contact-switcher-item-active":""}`,children:[u.jsxs("div",{className:"contact-switcher-item-main",children:[u.jsxs("div",{className:"contact-switcher-item-header",children:[u.jsx("span",{className:"contact-switcher-item-name",children:g.userId}),((v=o[g.userId])==null?void 0:v.online)&&u.jsx("span",{className:"status-dot status-online",title:"Online"})]}),u.jsx("span",{className:"contact-switcher-item-time",children:y(g.lastMessage)})]}),g.unreadCount>0&&g.userId!==s&&u.jsx("div",{className:"contact-switcher-unread-badge",children:g.unreadCount>99?"99+":g.unreadCount})]},g.userId)})]}),Object.keys(l).length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"contact-switcher-section-header",children:u.jsx("h4",{children:"Groups"})}),Object.values(l).map(g=>{const v=a[g.id]||0,k=d[g.id],E=k&&k.length>0?k[k.length-1].timestamp:g.lastActivity;return u.jsxs("div",{onClick:()=>m(g.id),className:`contact-switcher-item contact-switcher-item-group ${g.id===s?"contact-switcher-item-active":""}`,children:[u.jsxs("div",{className:"contact-switcher-item-main",children:[u.jsx("div",{className:"contact-switcher-item-header",children:u.jsx("span",{className:"contact-switcher-item-name",children:g.name})}),u.jsx("span",{className:"contact-switcher-item-time",children:E?y(E):"New"})]}),v>0&&g.id!==s&&u.jsx("div",{className:"contact-switcher-unread-badge",children:v>99?"99+":v})]},g.id)})]})]})})]}):null},ty=({groupId:e,onManageClick:t})=>{var d,f;const n=xt(),r=A(m=>m.groups.groups[e]),s=A(m=>m.groups.groupMembers[e]||[]),i=A(m=>m.messages.currentUserId);if(P.useEffect(()=>{e&&(!s||s.length===0)&&n(Xl(e))},[e,s,n]),!r)return null;const o=s.filter(m=>m.isOnline).length,l=((d=s.find(m=>m.userId===i))==null?void 0:d.role)==="admin",a=((f=s.find(m=>m.userId===i))==null?void 0:f.isMuted)||!1;return u.jsxs("div",{className:"group-info-bar",children:[u.jsxs("div",{className:"group-info-bar-text",children:[u.jsxs("span",{children:[r.memberCount||s.length," members"]}),o>0&&u.jsxs("span",{children:[" • ",o," online"]}),a&&u.jsx("span",{className:"text-warning",children:" • You are muted"})]}),t&&u.jsx("button",{onClick:t,className:"group-info-bar-action",children:l?"Manage Group":"View Members"})]})},hf=({isOpen:e,onClose:t})=>{const n=xt(),r=A(R=>R.messages.currentUserId),s=A(R=>R.groups.groups),i=A(R=>R.groups.groupMembers),o=A(R=>R.groups.currentGroupId),l=A(R=>R.groups.loading),a=A(R=>R.groups.error),[d,f]=P.useState("list"),[m,y]=P.useState(""),[g,v]=P.useState(""),[k,E]=P.useState(null),[h,c]=P.useState(""),[p,x]=P.useState(null),[j,S]=P.useState([]),[C,w]=P.useState("");P.useEffect(()=>{r&&e&&n(Mr(r))},[r,e,n]),P.useEffect(()=>{k&&n(Xl(k))},[k,n]),P.useEffect(()=>{e||n(Vg())},[e,n]);const M=R=>{n(Ks(R)),n(Ln(R)),t()},I=async R=>{if(R.preventDefault(),!(!h.trim()||!k))try{await n(lf({groupId:k,userIds:[h.trim()]})).unwrap(),c("")}catch(N){console.error("Failed to add member:",N)}},L=async(R,N)=>{if(!(!k||!r))try{await n(af({type:N,groupId:k,targetUserId:R,performedBy:r,timestamp:new Date().toISOString()})).unwrap(),x(null)}catch(O){console.error("Failed to perform admin action:",O)}},U=async R=>{if(r&&window.confirm("Are you sure you want to leave this group?"))try{await n(uf({groupId:R,userId:r})).unwrap(),o===R&&(n(Ks(null)),n(Ln(null)))}catch(N){console.error("Failed to leave group:",N)}},te=R=>{const N=i[R];if(!N||!r)return!1;const O=N.find(D=>D.userId===r);return(O==null?void 0:O.role)==="admin"},se=()=>{const R=Object.values(s);return R.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("p",{className:"text-muted",children:"No groups yet. Create one to get started!"}),u.jsx("button",{onClick:()=>f("create"),className:"btn btn-primary mt-md",children:"Create Group"})]}):u.jsx("div",{className:"group-list",children:R.map(N=>u.jsxs("div",{className:"group-item",children:[u.jsxs("div",{className:"group-item-info",children:[u.jsx("h4",{className:"group-item-name",children:N.name}),N.description&&u.jsx("p",{className:"group-item-description",children:N.description}),u.jsxs("div",{className:"group-item-meta",children:[u.jsxs("span",{children:[N.memberCount," members"]}),N.lastActivity&&u.jsxs("span",{className:"text-muted",children:["• Last active ",new Date(N.lastActivity).toLocaleDateString()]})]})]}),u.jsxs("div",{className:"group-item-actions",children:[u.jsx("button",{onClick:()=>M(N.id),className:"btn btn-primary btn-sm",children:"Open Chat"}),u.jsx("button",{onClick:()=>{E(N.id),f("manage")},className:"btn btn-secondary btn-sm",children:"Manage"})]})]},N.id))})},ce=()=>{const R=()=>{C.trim()&&!j.includes(C.trim())&&(S([...j,C.trim()]),w(""))},N=D=>{S(j.filter(H=>H!==D))},O=async D=>{if(D.preventDefault(),!(!m.trim()||!r))try{await n(gs({request:{name:m.trim(),description:g.trim(),initialMembers:j},userId:r})).unwrap(),y(""),v(""),S([]),w(""),f("list"),n(Mr(r))}catch(H){console.error("Failed to create group:",H)}};return u.jsxs("form",{onSubmit:O,className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Group Name"}),u.jsx("input",{type:"text",value:m,onChange:D=>y(D.target.value),placeholder:"Enter group name",className:"input",maxLength:50,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Description (optional)"}),u.jsx("textarea",{value:g,onChange:D=>v(D.target.value),placeholder:"What's this group about?",className:"input",rows:3,maxLength:200})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Add Members"}),u.jsxs("div",{className:"form-inline",children:[u.jsx("input",{type:"text",value:C,onChange:D=>w(D.target.value),onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),R())},placeholder:"Enter user ID",className:"input",style:{flex:1}}),u.jsx("button",{type:"button",onClick:R,disabled:!C.trim(),className:"btn btn-secondary",children:"Add"})]}),j.length>0&&u.jsxs("div",{className:"selected-members-list",children:[u.jsx("div",{className:"text-small text-muted mt-sm mb-sm",children:"Members to add:"}),j.map(D=>u.jsxs("div",{className:"selected-member-item",children:[u.jsx("span",{children:D}),u.jsx("button",{type:"button",onClick:()=>N(D),className:"btn btn-icon btn-sm",title:"Remove",children:"✕"})]},D))]})]}),u.jsxs("div",{className:"btn-group",children:[u.jsx("button",{type:"button",onClick:()=>{f("list"),S([]),w("")},className:"btn btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:l||!m.trim(),className:"btn btn-primary",children:l?"Creating...":"Create Group"})]})]})},b=()=>{if(!k)return null;const R=s[k],N=i[k]||[],O=te(k);return u.jsxs("div",{className:"group-manage",children:[u.jsxs("div",{className:"group-manage-header",children:[u.jsx("h3",{children:R==null?void 0:R.name}),u.jsx("button",{onClick:()=>f("list"),className:"btn btn-icon",children:"← Back"})]}),(R==null?void 0:R.description)&&u.jsx("p",{className:"text-muted mb-md",children:R.description}),O&&u.jsxs("div",{className:"group-manage-section",children:[u.jsx("h4",{children:"Add Member"}),u.jsxs("form",{onSubmit:I,className:"form-inline",children:[u.jsx("input",{type:"text",value:h,onChange:D=>c(D.target.value),placeholder:"User ID",className:"input",style:{flex:1}}),u.jsx("button",{type:"submit",disabled:!h.trim(),className:"btn btn-primary",children:"Add"})]})]}),u.jsxs("div",{className:"group-manage-section",children:[u.jsxs("h4",{children:["Members (",N.length,")"]}),u.jsx("div",{className:"member-list",children:N.map(D=>u.jsxs("div",{className:"member-item",children:[u.jsxs("div",{className:"member-info",children:[u.jsxs("span",{className:"member-name",children:[D.userId,D.userId===r&&" (You)"]}),u.jsxs("div",{className:"member-badges",children:[D.role==="admin"&&u.jsx("span",{className:"badge badge-admin",children:"Admin"}),D.isMuted&&u.jsx("span",{className:"badge badge-muted",children:"Muted"}),D.isOnline&&u.jsx("span",{className:"status-dot status-online"})]})]}),O&&D.userId!==r&&u.jsxs("div",{className:"member-actions",children:[u.jsx("button",{onClick:()=>x(p===D.userId?null:D.userId),className:"btn btn-icon",children:"⋮"}),p===D.userId&&u.jsxs("div",{className:"admin-menu",children:[D.role!=="admin"&&u.jsx("button",{onClick:()=>L(D.userId,"promote"),className:"admin-menu-item",children:"Make Admin"}),D.role==="admin"&&u.jsx("button",{onClick:()=>L(D.userId,"demote"),className:"admin-menu-item",children:"Remove Admin"}),D.isMuted?u.jsx("button",{onClick:()=>L(D.userId,"unmute"),className:"admin-menu-item",children:"Unmute"}):u.jsx("button",{onClick:()=>L(D.userId,"mute"),className:"admin-menu-item",children:"Mute"}),u.jsx("button",{onClick:()=>L(D.userId,"ban"),className:"admin-menu-item admin-menu-item-danger",children:"Ban from Group"})]})]})]},D.userId))})]}),u.jsx("div",{className:"group-manage-footer",children:u.jsx("button",{onClick:()=>U(k),className:"btn btn-danger",children:"Leave Group"})})]})};return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal group-chat-manager",onClick:R=>R.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"Group Chats"}),u.jsx("button",{onClick:t,className:"btn btn-icon",children:"✕"})]}),a&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:a})]}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{onClick:()=>f("list"),className:`tab ${d==="list"?"tab-active":""}`,children:"My Groups"}),u.jsx("button",{onClick:()=>f("create"),className:`tab ${d==="create"?"tab-active":""}`,children:"Create Group"}),k&&u.jsx("button",{onClick:()=>f("manage"),className:`tab ${d==="manage"?"tab-active":""}`,children:"Manage"})]}),u.jsxs("div",{className:"modal-content",children:[d==="list"&&se(),d==="create"&&ce(),d==="manage"&&b()]})]})}):null},ny=()=>{var Zl,ql;const e=xt(),t=A(T=>T.messages.currentUserId),n=A(T=>T.messages.connectedToUser),r=A(T=>T.messages.messages),s=A(T=>T.messages.isWebSocketConnected),i=A(T=>T.messages.users),[o,l]=P.useState(""),[a,d]=P.useState(null),[f,m]=P.useState(!0),[y,g]=P.useState(null),[v,k]=P.useState(!1),[E,h]=P.useState(null),[c,p]=P.useState(null),[x,j]=P.useState(new Map),[S,C]=P.useState(!1),w=P.useRef(null),M=P.useRef(null),I=P.useRef(new Map),{ws:L,messageProcessor:U}=pf(),{sendFile:te,isConnected:se,createConnection:ce,getFileUrl:b}=Xg(),R=n==null?void 0:n.startsWith("GROUP_"),N=n?(Zl=i[n])==null?void 0:Zl.online:!1,O=A(T=>T.groups.groups),D=A(T=>T.groups.groupMessages),[H,J]=P.useState(!1),ke=r.filter(T=>!T.content||T.content==="delivered"||T.content==="read"||T.content==="status_update"?!1:R?T.toId===n:T.fromId===t&&T.toId===n||T.fromId===n&&T.toId===t);P.useEffect(()=>{R&&n?(e(Ks(n)),e(df(n)),D[n]||e(Qs(n))):e(Ks(null))},[R,n,e]),P.useEffect(()=>{R&&n&&t&&((D[n]||[]).forEach(F=>{!F.readBy.includes(t)&&F.fromId!==t&&e(Hg({groupId:n,messageId:F.id,userId:t}))}),e(Bg({groupId:n,userId:t})))},[R,n,t,D,e]),P.useEffect(()=>{(async()=>{for(const F of ke){const V=F.content;if(typeof V=="object"&&V&&"file"in V&&!b(F.id)&&!x.has(F.id)){const et=await Tg(F.id);et&&j(ut=>new Map(ut).set(F.id,et.url))}}})()},[ke,b]),P.useEffect(()=>{(async()=>{if(!(!t||!n)){m(!0);try{R?await e(Qs(n)).unwrap():await e(hs({userId1:t,userId2:n})).unwrap()}catch{g("Failed to load messages")}finally{m(!1)}}})()},[t,n,R,e]),P.useEffect(()=>{if(R)return;const T=()=>{document.visibilityState==="visible"&&U&&ke.filter(V=>V.fromId===n&&!V.readStatus).forEach(V=>{const Ee={id:`read_${V.id}`,fromId:t,toId:V.fromId,content:"read",timestamp:new Date().toISOString(),delivered:!0,readStatus:!0,status:"read"};U.sendMessage(Ee),e(of(V.id))})};return document.addEventListener("visibilitychange",T),T(),()=>document.removeEventListener("visibilitychange",T)},[ke,t,U,R,e]),P.useEffect(()=>{var T;(T=w.current)==null||T.scrollIntoView({behavior:"smooth"})},[ke]);const lt=T=>{var V;const F=(V=T.target.files)==null?void 0:V[0];F&&d(F)},Wn=T=>{h(T)},at=()=>{h(null)},un=T=>{const F=I.current.get(T);F&&(F.scrollIntoView({behavior:"smooth",block:"center"}),p(T),setTimeout(()=>p(null),1500))},yf=T=>{const F=T.content;if(typeof F=="string")return F;if(F&&typeof F=="object"&&"type"in F){const V=F;if(V.text)return V.text;if(V.file)return V.file.name}return"Message"},vf=async T=>{if(T.preventDefault(),!(!o.trim()&&!a||!n)){g(null);try{a?await Sf():await wf(),h(null)}catch(F){console.error("Error in handleSubmit:",F),g(F instanceof Error?F.message:"Failed to send message")}}},wf=async()=>{if(!U||!t||!n)throw new Error("Missing required components for text message");const T=o.trim(),F={id:crypto.randomUUID(),fromId:t,toId:n,content:T,timestamp:new Date().toISOString(),delivered:!1,readStatus:!1,status:"sent",replyTo:E?{messageId:E.id,fromId:E.fromId,content:E.content,timestamp:E.timestamp}:void 0};await U.sendMessage(F),l("")},Sf=async()=>{if(!a||!t||!n)throw new Error("Missing required components for file transfer");k(!0);try{if(!se(n)&&(console.log("Creating WebRTC connection for file transfer..."),!await ce(n)))throw new Error("Failed to establish WebRTC connection for file transfer");console.log("Sending file via WebRTC...");const T=await te(n,a),V={type:a.type.startsWith("image/")?"image":a.type.startsWith("video/")?"video":a.type.startsWith("audio/")?"audio":"file",file:{name:a.name,size:a.size,type:a.type,lastModified:a.lastModified}};if(U){const Ee={id:T,fromId:t,toId:n,content:V,timestamp:new Date().toISOString(),delivered:!1,readStatus:!1,status:"sent",replyTo:E?{messageId:E.id,fromId:E.fromId,content:E.content,timestamp:E.timestamp}:void 0};await U.sendMessage(Ee)}d(null),M.current&&(M.current.value=""),console.log("File transfer completed successfully")}catch(T){throw console.error("File transfer failed:",T),new Error(`File transfer failed: ${T instanceof Error?T.message:"Unknown error"}`)}finally{k(!1)}},Cf=T=>new Date(T).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),xf=T=>{var ut;const F=T.content;let V="",Ee=!1,et="📎";if(typeof F=="string")V=F;else if(F&&typeof F=="object"&&"type"in F){const Lr=F;Ee=!0,Lr.type==="image"?et="📷":Lr.type==="video"?et="🎥":Lr.type==="audio"&&(et="🎵"),V=((ut=Lr.file)==null?void 0:ut.name)||"File"}return u.jsxs("div",{className:"reply-context",onClick:()=>un(T.messageId),children:[u.jsx("div",{className:"reply-context-header",children:T.fromId===t?"You":T.fromId}),u.jsx("div",{className:"reply-context-content",children:Ee?u.jsxs("div",{className:"reply-context-file",children:[u.jsx("span",{className:"reply-context-file-icon",children:et}),u.jsx("span",{children:V})]}):V})]})},kf=T=>{const F=T.content,V=()=>{if(typeof F=="string")return u.jsx("span",{children:F});if(F.type==="file"||F.type==="image"||F.type==="video"||F.type==="audio"){const Ee=F.file;if(!Ee)return u.jsx("span",{children:"Invalid file"});const et=b(T.id)||x.get(T.id);if(et){const ut=T.fromId!==t;return u.jsxs("div",{children:[u.jsx(qg,{file:{url:et,name:Ee.name,type:Ee.type,size:Ee.size},isIncoming:ut}),ut&&u.jsx("div",{className:"file-auto-download-notice",children:"✓ Auto-downloaded to your downloads folder"})]})}else{const ut=F.type==="image"?"📷":F.type==="video"?"🎥":F.type==="audio"?"🎵":"📄";return u.jsxs("div",{className:"file-preview",children:[u.jsx("span",{className:"file-icon",children:ut}),u.jsxs("div",{className:"file-info",children:[u.jsx("div",{className:"file-name",children:Ee.name}),u.jsx("div",{className:"file-size",children:T.fromId===t?"Sending...":"Receiving..."})]})]})}}return u.jsx("span",{children:"Unsupported message type"})};return u.jsxs(u.Fragment,{children:[T.replyTo&&xf(T.replyTo),V()]})};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"chat-container",children:[u.jsxs("div",{className:"chat-header",children:[u.jsxs("div",{className:"chat-header-left",children:[u.jsx("button",{onClick:()=>C(!S),className:"btn btn-icon contact-switcher-toggle",title:"Show contacts",children:u.jsx("span",{className:"contact-switcher-icon",children:"💬"})}),u.jsxs("div",{className:"chat-user-info",children:[u.jsxs("span",{children:[R?"Group: ":"Chat with: ",u.jsx("strong",{children:R&&n?(ql=O[n])==null?void 0:ql.name:n})]}),!R&&u.jsxs("div",{className:"status",children:[u.jsx("span",{className:`status-dot status-${N?"online":"offline"}`}),u.jsx("span",{children:N?"Online":"Offline"})]})]})]}),u.jsxs("div",{className:"status",children:[u.jsx("span",{className:`status-dot status-${s?"online":"offline"}`}),u.jsx("span",{children:"Connection"}),n&&!R&&se(n)&&u.jsxs("div",{className:"status ml-2",children:[u.jsx("span",{className:"status-dot status-online"}),u.jsx("span",{children:"WebRTC"})]})]})]}),R&&n&&u.jsx(ty,{groupId:n,onManageClick:()=>J(!0)}),u.jsx(ey,{isOpen:S,onClose:()=>C(!1)}),u.jsxs("div",{className:"chat-messages",children:[f?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading messages..."})]}):ke.length===0?u.jsx("div",{className:"empty-state",children:u.jsx("p",{className:"text-muted",children:"No messages yet. Start a conversation!"})}):ke.map(T=>u.jsx("div",{ref:F=>{F&&I.current.set(T.id,F)},className:`message ${T.fromId===t?"message-outgoing":""} ${c===T.id?"reply-highlighted":""}`,style:{position:"relative"},children:T.fromId==="system"?u.jsx("div",{className:"message-system",children:u.jsx("div",{className:"message-system-content",children:typeof T.content=="string"?T.content:"System message"})}):u.jsxs(u.Fragment,{children:[R&&T.fromId!==t&&u.jsx("div",{className:"message-group-header message-group-header-incoming",children:T.fromId}),u.jsx("div",{className:"message-actions",children:u.jsxs("button",{className:"reply-button",onClick:()=>Wn(T),title:"Reply",children:[u.jsx("span",{children:"↩️"}),u.jsx("span",{children:"Reply"})]})}),u.jsx("div",{className:`message-bubble ${T.fromId===t?"message-bubble-outgoing":"message-bubble-incoming"}`,children:kf(T)}),u.jsxs("div",{className:"message-meta",children:[u.jsx("span",{children:Cf(T.timestamp)}),T.fromId===t&&!R&&u.jsx("span",{className:"message-status",children:T.status==="read"?"✓✓✓":T.status==="delivered"?"✓✓":"✓"})]})]})},T.id)),u.jsx("div",{ref:w})]}),u.jsxs("div",{className:"chat-input-area",children:[y&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:y})]}),v&&u.jsxs("div",{className:"alert alert-success mb-md",children:[u.jsx("span",{children:"📤"}),u.jsx("span",{children:"Transferring file via WebRTC..."})]}),E&&u.jsxs("div",{className:"reply-input-bar",children:[u.jsxs("div",{className:"reply-input-content",children:[u.jsx("span",{children:"↩️"}),u.jsxs("span",{className:"reply-input-user",children:[E.fromId===t?"You":E.fromId,":"]}),u.jsx("span",{className:"reply-input-text",children:yf(E)})]}),u.jsx("button",{onClick:at,className:"reply-cancel-button",title:"Cancel reply",children:"✕"})]}),a&&u.jsxs("div",{className:"file-preview mb-sm",children:[u.jsx("span",{className:"file-icon",children:"📎"}),u.jsxs("div",{className:"file-info",children:[u.jsx("div",{className:"file-name",children:a.name}),u.jsxs("div",{className:"file-size",children:[(a.size/1024).toFixed(1)," KB"]})]}),u.jsx("button",{onClick:()=>{d(null),M.current&&(M.current.value="")},className:"btn btn-icon",children:"✕"})]}),u.jsxs("form",{onSubmit:vf,className:"chat-input-form",children:[u.jsx("input",{ref:M,type:"file",onChange:lt,className:"hidden",id:"file-input",disabled:v||R&&!s}),!R&&u.jsx("label",{htmlFor:"file-input",className:"btn btn-icon",children:"📎"}),u.jsx("input",{type:"text",value:o,onChange:T=>l(T.target.value),placeholder:s?"Type a message...":"Connecting...",className:"input",disabled:!s||v}),u.jsx("button",{type:"submit",disabled:!s||!o.trim()&&!a||v,className:"btn btn-primary",children:v?"Sending...":"Send"})]})]})]}),H&&u.jsx(hf,{isOpen:H,onClose:()=>J(!1)})]})},ry=()=>{const e=xt(),t=A(g=>g.messages.currentUserId),n=A(g=>g.messages.connectedToUser),r=A(g=>g.messages.messages),[s,i]=P.useState(!1),[o,l]=P.useState(null),a=Array.from(new Set(r.map(g=>g.fromId===t?g.toId:g.fromId).filter(g=>g!==t))),d=async(g,v,k,E=!1)=>{if(window.confirm(v)){i(!0),l(null);try{await g(),E&&e(Ln(null)),l({type:"success",message:k})}catch{l({type:"error",message:"Operation failed. Please try again."})}finally{i(!1)}}},f=async g=>{const v=g===n;await d(()=>Eg(t,g),`Delete all messages with ${g}?`,`Chat history with ${g} deleted.`,v)},m=async()=>{await d(()=>kg(t),"Delete all your user data? This cannot be undone.","Your data has been deleted.",!0)},y=async()=>{await d(async()=>{await Ng(),setTimeout(()=>window.location.reload(),1e3)},"Delete ALL data and reset the app? This action cannot be undone.","All data has been deleted. The app will reload.",!1)};return u.jsxs("div",{className:"data-manager",children:[u.jsx("h3",{className:"mb-lg",children:"Data Management"}),o&&u.jsxs("div",{className:`alert alert-${o.type} mb-md`,children:[u.jsx("span",{children:o.type==="success"?"✓":"⚠️"}),u.jsx("span",{children:o.message})]}),u.jsxs("div",{className:"form",children:[u.jsxs("div",{className:"mb-lg",children:[u.jsx("h4",{className:"text-muted text-small mb-sm",children:"Your Data"}),u.jsx("button",{onClick:m,disabled:s,className:"btn btn-danger",children:"Delete My Data"})]}),a.length>0&&u.jsxs("div",{className:"mb-lg",children:[u.jsx("h4",{className:"text-muted text-small mb-sm",children:"Chat History"}),u.jsx("div",{className:"user-grid",children:a.map(g=>u.jsxs("div",{className:"card",style:{padding:"1rem"},children:[u.jsxs("div",{className:"text-center mb-sm",children:[u.jsx("strong",{children:g}),g===n&&u.jsx("div",{className:"text-small text-muted",children:"(Current chat)"})]}),u.jsx("button",{onClick:()=>f(g),disabled:s,className:"btn btn-secondary text-small",children:"Clear History"})]},g))})]}),u.jsxs("div",{className:"alert alert-warning mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:"Deleting all data will remove all messages and reset the app."})]}),u.jsx("button",{onClick:y,disabled:s,className:"btn btn-danger",children:s?"Processing...":"Delete All Data"})]})]})},sy=()=>{xt();const e=A(v=>v.messages.currentUserId),t=A(v=>v.messages.connectedToUser),n=A(v=>v.messages.messages),r=A(v=>v.groups.unreadCounts),[s,i]=P.useState(!1),[o,l]=P.useState(null),[a,d]=P.useState(!1),[f,m]=P.useState(!1),y=P.useMemo(()=>{if(!e)return 0;let v=0;const k=new Map;return n.forEach(E=>{var h;if(!(!E.content||E.content==="delivered"||E.content==="read"||E.content==="status_update"||typeof E.content=="object"&&"type"in E.content&&["offer","answer","ice-candidate"].includes(E.content.type))&&!((h=E.toId)!=null&&h.startsWith("GROUP_"))&&E.fromId!==e&&E.toId===e&&!E.readStatus){const c=k.get(E.fromId)||0;k.set(E.fromId,c+1)}}),k.forEach((E,h)=>{h!==t&&(v+=E)}),Object.entries(r).forEach(([E,h])=>{E!==t&&h>0&&(v+=h)}),v},[n,e,t,r]),g=async()=>{try{await wg(),i(!0)}catch{l("Failed to initialize storage. Please try again.")}};return s?e?u.jsx(bg,{children:u.jsx(Zg,{children:u.jsxs("div",{className:"app-container",children:[u.jsxs("header",{className:"app-header",children:[u.jsx(Qi,{mode:"menu"}),u.jsxs("div",{className:"app-header-actions",children:[y>0&&u.jsxs("div",{className:"app-unread-badge",title:`${y} unread messages`,children:[u.jsx("span",{className:"app-unread-icon",children:"💬"}),u.jsx("span",{className:"app-unread-count",children:y>99?"99+":y})]}),u.jsx("button",{onClick:()=>m(!f),className:"btn btn-icon",title:"Groups",children:"👥"}),u.jsx("button",{onClick:()=>d(!a),className:"btn btn-icon",title:"Settings",children:"⚙️"})]})]}),u.jsx("main",{className:"app-main",children:t?u.jsx(ny,{}):u.jsx(Qi,{mode:"connect"})}),u.jsx(hf,{isOpen:f,onClose:()=>m(!1)}),a&&u.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:u.jsxs("div",{className:"modal",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"mb-lg",children:[u.jsx("h2",{className:"card-title",children:"Settings"}),u.jsx("button",{onClick:()=>d(!1),className:"btn btn-icon",style:{position:"absolute",top:"1rem",right:"1rem"},children:"✕"})]}),u.jsx(ry,{})]})})]})})}):u.jsx("div",{className:"app-container",children:u.jsx("div",{className:"app-main",children:u.jsx(Qi,{mode:"setup"})})}):u.jsx("div",{className:"app-container",children:u.jsx("div",{className:"app-main",children:u.jsxs("div",{className:"card fade-in",children:[u.jsx("h1",{className:"card-title",children:"Welcome to SecureChat"}),u.jsx("p",{className:"text-center text-muted mb-lg",children:"A peer-to-peer encrypted chat application"}),o&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:o})]}),u.jsx("p",{className:"text-center mb-lg",children:"To begin, we need to set up local storage for your messages. Your data stays on your device."}),u.jsx("button",{onClick:g,className:"btn btn-primary",children:"Initialize Storage"})]})})})},iy=()=>u.jsx(Ch,{store:Kg,children:u.jsx(sy,{})}),gf=document.getElementById("root");if(!gf)throw new Error("Failed to find the root element");const oy=Yi.createRoot(gf);oy.render(u.jsx(Zo.StrictMode,{children:u.jsx(iy,{})}));
