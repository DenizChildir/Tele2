var Df=Object.defineProperty;var Mf=(e,t,n)=>t in e?Df(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mi=(e,t,n)=>Mf(e,typeof t!="symbol"?t+"":t,n);function Rf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function If(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mu={exports:{}},bs={},Ru={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=Symbol.for("react.element"),Pf=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),Uf=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),$f=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Wf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),ra=Symbol.iterator;function Gf(e){return e===null||typeof e!="object"?null:(e=ra&&e[ra]||e["@@iterator"],typeof e=="function"?e:null)}var Iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pu=Object.assign,Ou={};function Ln(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Iu}Ln.prototype.isReactComponent={};Ln.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ln.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zu(){}zu.prototype=Ln.prototype;function Jo(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Iu}var Xo=Jo.prototype=new zu;Xo.constructor=Jo;Pu(Xo,Ln.prototype);Xo.isPureReactComponent=!0;var sa=Array.isArray,Fu=Object.prototype.hasOwnProperty,Zo={current:null},Uu={key:!0,ref:!0,__self:!0,__source:!0};function Lu(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Fu.call(t,r)&&!Uu.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Rr,type:e,key:i,ref:o,props:s,_owner:Zo.current}}function Bf(e,t){return{$$typeof:Rr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rr}function Vf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ia=/\/+/g;function hi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vf(""+e.key):t.toString(36)}function ns(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rr:case Pf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+hi(o,0):r,sa(s)?(n="",e!=null&&(n=e.replace(ia,"$&/")+"/"),ns(s,t,n,"",function(c){return c})):s!=null&&(qo(s)&&(s=Bf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ia,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",sa(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+hi(i,l);o+=ns(i,t,n,a,s)}else if(a=Gf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+hi(i,l++),o+=ns(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lr(e,t,n){if(e==null)return e;var r=[],s=0;return ns(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xe={current:null},rs={transition:null},Kf={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:rs,ReactCurrentOwner:Zo};function $u(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Lr,forEach:function(e,t,n){Lr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lr(e,function(){t++}),t},toArray:function(e){return Lr(e,function(t){return t})||[]},only:function(e){if(!qo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=Ln;A.Fragment=Of;A.Profiler=Ff;A.PureComponent=Jo;A.StrictMode=zf;A.Suspense=Af;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kf;A.act=$u;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Zo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Fu.call(t,a)&&!Uu.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Rr,type:e.type,key:s,ref:i,props:r,_owner:o}};A.createContext=function(e){return e={$$typeof:Lf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Uf,_context:e},e.Consumer=e};A.createElement=Lu;A.createFactory=function(e){var t=Lu.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:$f,render:e}};A.isValidElement=qo;A.lazy=function(e){return{$$typeof:Hf,_payload:{_status:-1,_result:e},_init:Qf}};A.memo=function(e,t){return{$$typeof:Wf,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=rs.transition;rs.transition={};try{e()}finally{rs.transition=t}};A.unstable_act=$u;A.useCallback=function(e,t){return xe.current.useCallback(e,t)};A.useContext=function(e){return xe.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return xe.current.useDeferredValue(e)};A.useEffect=function(e,t){return xe.current.useEffect(e,t)};A.useId=function(){return xe.current.useId()};A.useImperativeHandle=function(e,t,n){return xe.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return xe.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return xe.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return xe.current.useMemo(e,t)};A.useReducer=function(e,t,n){return xe.current.useReducer(e,t,n)};A.useRef=function(e){return xe.current.useRef(e)};A.useState=function(e){return xe.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return xe.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return xe.current.useTransition()};A.version="18.3.1";Ru.exports=A;var R=Ru.exports;const el=If(R),oa=Rf({__proto__:null,default:el},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=R,Yf=Symbol.for("react.element"),Jf=Symbol.for("react.fragment"),Xf=Object.prototype.hasOwnProperty,Zf=bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qf={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Xf.call(t,r)&&!qf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Yf,type:e,key:i,ref:o,props:s,_owner:Zf.current}}bs.Fragment=Jf;bs.jsx=Au;bs.jsxs=Au;Mu.exports=bs;var u=Mu.exports,bi={},Wu={exports:{}},Le={},Hu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,z){var D=j.length;j.push(z);e:for(;0<D;){var G=D-1>>>1,J=j[G];if(0<s(J,z))j[G]=z,j[D]=J,D=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],D=j.pop();if(D!==z){j[0]=D;e:for(var G=0,J=j.length,at=J>>>1;G<at;){var we=2*(G+1)-1,Wn=j[we],ut=we+1,cn=j[ut];if(0>s(Wn,D))ut<J&&0>s(cn,Wn)?(j[G]=cn,j[ut]=D,G=ut):(j[G]=Wn,j[we]=D,G=we);else if(ut<J&&0>s(cn,D))j[G]=cn,j[ut]=D,G=ut;else break e}}return z}function s(j,z){var D=j.sortIndex-z.sortIndex;return D!==0?D:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],f=1,m=null,y=3,h=!1,v=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(j){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=j)r(c),z.sortIndex=z.expirationTime,t(a,z);else break;z=n(c)}}function C(j){if(k=!1,p(j),!v)if(n(a)!==null)v=!0,Y(N);else{var z=n(c);z!==null&&I(C,z.startTime-j)}}function N(j,z){v=!1,k&&(k=!1,g(w),w=-1),h=!0;var D=y;try{for(p(z),m=n(a);m!==null&&(!(m.expirationTime>z)||j&&!U());){var G=m.callback;if(typeof G=="function"){m.callback=null,y=m.priorityLevel;var J=G(m.expirationTime<=z);z=e.unstable_now(),typeof J=="function"?m.callback=J:m===n(a)&&r(a),p(z)}else r(a);m=n(a)}if(m!==null)var at=!0;else{var we=n(c);we!==null&&I(C,we.startTime-z),at=!1}return at}finally{m=null,y=D,h=!1}}var S=!1,x=null,w=-1,M=5,P=-1;function U(){return!(e.unstable_now()-P<M)}function $(){if(x!==null){var j=e.unstable_now();P=j;var z=!0;try{z=x(!0,j)}finally{z?te():(S=!1,x=null)}}else S=!1}var te;if(typeof d=="function")te=function(){d($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ce=se.port2;se.port1.onmessage=$,te=function(){ce.postMessage(null)}}else te=function(){E($,0)};function Y(j){x=j,S||(S=!0,te())}function I(j,z){w=E(function(){j(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,Y(N))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(j){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var D=y;y=z;try{return j()}finally{y=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var D=y;y=j;try{return z()}finally{y=D}},e.unstable_scheduleCallback=function(j,z,D){var G=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=D+J,j={id:f++,callback:z,priorityLevel:j,startTime:D,expirationTime:J,sortIndex:-1},D>G?(j.sortIndex=D,t(c,j),n(a)===null&&j===n(c)&&(k?(g(w),w=-1):k=!0,I(C,D-G))):(j.sortIndex=J,t(a,j),v||h||(v=!0,Y(N))),j},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(j){var z=y;return function(){var D=y;y=z;try{return j.apply(this,arguments)}finally{y=D}}}})(Gu);Hu.exports=Gu;var ep=Hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=R,ze=ep;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,dr={};function an(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(dr[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yi=Object.prototype.hasOwnProperty,np=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},aa={};function rp(e){return Yi.call(aa,e)?!0:Yi.call(la,e)?!1:np.test(e)?aa[e]=!0:(la[e]=!0,!1)}function sp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ip(e,t,n,r){if(t===null||typeof t>"u"||sp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var tl=/[\-:]([a-z])/g;function nl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tl,nl);me[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tl,nl);me[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tl,nl);me[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function rl(e,t,n,r){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ip(t,n,s,r)&&(n=null),r||s===null?rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xt=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$r=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),sl=Symbol.for("react.strict_mode"),Ji=Symbol.for("react.profiler"),Vu=Symbol.for("react.provider"),Qu=Symbol.for("react.context"),il=Symbol.for("react.forward_ref"),Xi=Symbol.for("react.suspense"),Zi=Symbol.for("react.suspense_list"),ol=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Ku=Symbol.for("react.offscreen"),ua=Symbol.iterator;function Hn(e){return e===null||typeof e!="object"?null:(e=ua&&e[ua]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,gi;function Jn(e){if(gi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gi=t&&t[1]||""}return`
`+gi+e}var yi=!1;function vi(e,t){if(!e||yi)return"";yi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{yi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jn(e):""}function op(e){switch(e.tag){case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 2:case 15:return e=vi(e.type,!1),e;case 11:return e=vi(e.type.render,!1),e;case 1:return e=vi(e.type,!0),e;default:return""}}function qi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pn:return"Fragment";case fn:return"Portal";case Ji:return"Profiler";case sl:return"StrictMode";case Xi:return"Suspense";case Zi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qu:return(e.displayName||"Context")+".Consumer";case Vu:return(e._context.displayName||"Context")+".Provider";case il:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ol:return t=e.displayName||null,t!==null?t:qi(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return qi(e(t))}catch{}}return null}function lp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qi(t);case 8:return t===sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=bu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){e._valueTracker||(e._valueTracker=ap(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eo(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ca(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Lt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ju(e,t){t=t.checked,t!=null&&rl(e,"checked",t,!1)}function to(e,t){Ju(e,t);var n=Lt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,n):t.hasOwnProperty("defaultValue")&&no(e,t.type,Lt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function da(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function no(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xn=Array.isArray;function En(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Lt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Xn(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Lt(n)}}function Xu(e,t){var n=Lt(t.value),r=Lt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function so(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wr,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},up=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(e){up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tr[t]=tr[e]})});function ec(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tr.hasOwnProperty(e)&&tr[e]?(""+t).trim():t+"px"}function tc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ec(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var cp=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ao=null,Nn=null,jn=null;function ma(e){if(e=Or(e)){if(typeof ao!="function")throw Error(_(280));var t=e.stateNode;t&&(t=qs(t),ao(e.stateNode,e.type,t))}}function nc(e){Nn?jn?jn.push(e):jn=[e]:Nn=e}function rc(){if(Nn){var e=Nn,t=jn;if(jn=Nn=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function sc(e,t){return e(t)}function ic(){}var wi=!1;function oc(e,t,n){if(wi)return e(t,n);wi=!0;try{return sc(e,t,n)}finally{wi=!1,(Nn!==null||jn!==null)&&(ic(),rc())}}function pr(e,t){var n=e.stateNode;if(n===null)return null;var r=qs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var uo=!1;if(yt)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{uo=!1}function dp(e,t,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var nr=!1,vs=null,ws=!1,co=null,fp={onError:function(e){nr=!0,vs=e}};function pp(e,t,n,r,s,i,o,l,a){nr=!1,vs=null,dp.apply(fp,arguments)}function mp(e,t,n,r,s,i,o,l,a){if(pp.apply(this,arguments),nr){if(nr){var c=vs;nr=!1,vs=null}else throw Error(_(198));ws||(ws=!0,co=c)}}function un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ha(e){if(un(e)!==e)throw Error(_(188))}function hp(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ha(s),e;if(i===r)return ha(s),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function ac(e){return e=hp(e),e!==null?uc(e):null}function uc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uc(e);if(t!==null)return t;e=e.sibling}return null}var cc=ze.unstable_scheduleCallback,ga=ze.unstable_cancelCallback,gp=ze.unstable_shouldYield,yp=ze.unstable_requestPaint,re=ze.unstable_now,vp=ze.unstable_getCurrentPriorityLevel,al=ze.unstable_ImmediatePriority,dc=ze.unstable_UserBlockingPriority,Ss=ze.unstable_NormalPriority,wp=ze.unstable_LowPriority,fc=ze.unstable_IdlePriority,Ys=null,st=null;function Sp(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ys,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:kp,Cp=Math.log,xp=Math.LN2;function kp(e){return e>>>=0,e===0?32:31-(Cp(e)/xp|0)|0}var Hr=64,Gr=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zn(l):(i&=o,i!==0&&(r=Zn(i)))}else o=n&~s,o!==0?r=Zn(o):i!==0&&(r=Zn(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xe(t),s=1<<n,r|=e[n],t&=~s;return r}function Ep(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Xe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Ep(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pc(){var e=Hr;return Hr<<=1,!(Hr&4194240)&&(Hr=64),e}function Si(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=n}function jp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Xe(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ul(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var B=0;function mc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hc,cl,gc,yc,vc,po=!1,Br=[],Mt=null,Rt=null,It=null,mr=new Map,hr=new Map,jt=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ya(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(t.pointerId)}}function Bn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Or(t),t!==null&&cl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Tp(e,t,n,r,s){switch(t){case"focusin":return Mt=Bn(Mt,e,t,n,r,s),!0;case"dragenter":return Rt=Bn(Rt,e,t,n,r,s),!0;case"mouseover":return It=Bn(It,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mr.set(i,Bn(mr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hr.set(i,Bn(hr.get(i)||null,e,t,n,r,s)),!0}return!1}function wc(e){var t=Kt(e.target);if(t!==null){var n=un(t);if(n!==null){if(t=n.tag,t===13){if(t=lc(n),t!==null){e.blockedOn=t,vc(e.priority,function(){gc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lo=r,n.target.dispatchEvent(r),lo=null}else return t=Or(n),t!==null&&cl(t),e.blockedOn=n,!1;t.shift()}return!0}function va(e,t,n){ss(e)&&n.delete(t)}function Dp(){po=!1,Mt!==null&&ss(Mt)&&(Mt=null),Rt!==null&&ss(Rt)&&(Rt=null),It!==null&&ss(It)&&(It=null),mr.forEach(va),hr.forEach(va)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,po||(po=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Dp)))}function gr(e){function t(s){return Vn(s,e)}if(0<Br.length){Vn(Br[0],e);for(var n=1;n<Br.length;n++){var r=Br[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&Vn(Mt,e),Rt!==null&&Vn(Rt,e),It!==null&&Vn(It,e),mr.forEach(t),hr.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)wc(n),n.blockedOn===null&&jt.shift()}var _n=xt.ReactCurrentBatchConfig,xs=!0;function Mp(e,t,n,r){var s=B,i=_n.transition;_n.transition=null;try{B=1,dl(e,t,n,r)}finally{B=s,_n.transition=i}}function Rp(e,t,n,r){var s=B,i=_n.transition;_n.transition=null;try{B=4,dl(e,t,n,r)}finally{B=s,_n.transition=i}}function dl(e,t,n,r){if(xs){var s=mo(e,t,n,r);if(s===null)Mi(e,t,r,ks,n),ya(e,r);else if(Tp(s,e,t,n,r))r.stopPropagation();else if(ya(e,r),t&4&&-1<_p.indexOf(e)){for(;s!==null;){var i=Or(s);if(i!==null&&hc(i),i=mo(e,t,n,r),i===null&&Mi(e,t,r,ks,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mi(e,t,r,null,n)}}var ks=null;function mo(e,t,n,r){if(ks=null,e=ll(r),e=Kt(e),e!==null)if(t=un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ks=e,null}function Sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vp()){case al:return 1;case dc:return 4;case Ss:case wp:return 16;case fc:return 536870912;default:return 16}default:return 16}}var Tt=null,fl=null,is=null;function Cc(){if(is)return is;var e,t=fl,n=t.length,r,s="value"in Tt?Tt.value:Tt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return is=s.slice(e,1<r?1-r:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function wa(){return!1}function $e(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vr:wa,this.isPropagationStopped=wa,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=$e($n),Pr=ee({},$n,{view:0,detail:0}),Ip=$e(Pr),Ci,xi,Qn,Js=ee({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Ci=e.screenX-Qn.screenX,xi=e.screenY-Qn.screenY):xi=Ci=0,Qn=e),Ci)},movementY:function(e){return"movementY"in e?e.movementY:xi}}),Sa=$e(Js),Pp=ee({},Js,{dataTransfer:0}),Op=$e(Pp),zp=ee({},Pr,{relatedTarget:0}),ki=$e(zp),Fp=ee({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=$e(Fp),Lp=ee({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$p=$e(Lp),Ap=ee({},$n,{data:0}),Ca=$e(Ap),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gp[e])?!!t[e]:!1}function ml(){return Bp}var Vp=ee({},Pr,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=$e(Vp),Kp=ee({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xa=$e(Kp),bp=ee({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Yp=$e(bp),Jp=ee({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=$e(Jp),Zp=ee({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qp=$e(Zp),em=[9,13,27,32],hl=yt&&"CompositionEvent"in window,rr=null;yt&&"documentMode"in document&&(rr=document.documentMode);var tm=yt&&"TextEvent"in window&&!rr,xc=yt&&(!hl||rr&&8<rr&&11>=rr),ka=" ",Ea=!1;function kc(e,t){switch(e){case"keyup":return em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ec(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function nm(e,t){switch(e){case"compositionend":return Ec(t);case"keypress":return t.which!==32?null:(Ea=!0,ka);case"textInput":return e=t.data,e===ka&&Ea?null:e;default:return null}}function rm(e,t){if(mn)return e==="compositionend"||!hl&&kc(e,t)?(e=Cc(),is=fl=Tt=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xc&&t.locale!=="ko"?null:t.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sm[e.type]:t==="textarea"}function Nc(e,t,n,r){nc(r),t=Es(t,"onChange"),0<t.length&&(n=new pl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sr=null,yr=null;function im(e){Fc(e,0)}function Xs(e){var t=yn(e);if(Yu(t))return e}function om(e,t){if(e==="change")return t}var jc=!1;if(yt){var Ei;if(yt){var Ni="oninput"in document;if(!Ni){var ja=document.createElement("div");ja.setAttribute("oninput","return;"),Ni=typeof ja.oninput=="function"}Ei=Ni}else Ei=!1;jc=Ei&&(!document.documentMode||9<document.documentMode)}function _a(){sr&&(sr.detachEvent("onpropertychange",_c),yr=sr=null)}function _c(e){if(e.propertyName==="value"&&Xs(yr)){var t=[];Nc(t,yr,e,ll(e)),oc(im,t)}}function lm(e,t,n){e==="focusin"?(_a(),sr=t,yr=n,sr.attachEvent("onpropertychange",_c)):e==="focusout"&&_a()}function am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(yr)}function um(e,t){if(e==="click")return Xs(t)}function cm(e,t){if(e==="input"||e==="change")return Xs(t)}function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:dm;function vr(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yi.call(t,s)||!qe(e[s],t[s]))return!1}return!0}function Ta(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Da(e,t){var n=Ta(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ta(n)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dc(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fm(e){var t=Dc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tc(n.ownerDocument.documentElement,n)){if(r!==null&&gl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Da(n,i);var o=Da(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pm=yt&&"documentMode"in document&&11>=document.documentMode,hn=null,ho=null,ir=null,go=!1;function Ma(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;go||hn==null||hn!==ys(r)||(r=hn,"selectionStart"in r&&gl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&vr(ir,r)||(ir=r,r=Es(ho,"onSelect"),0<r.length&&(t=new pl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hn)))}function Qr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gn={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionend:Qr("Transition","TransitionEnd")},ji={},Mc={};yt&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function Zs(e){if(ji[e])return ji[e];if(!gn[e])return e;var t=gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mc)return ji[e]=t[n];return e}var Rc=Zs("animationend"),Ic=Zs("animationiteration"),Pc=Zs("animationstart"),Oc=Zs("transitionend"),zc=new Map,Ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){zc.set(e,t),an(t,[e])}for(var _i=0;_i<Ra.length;_i++){var Ti=Ra[_i],mm=Ti.toLowerCase(),hm=Ti[0].toUpperCase()+Ti.slice(1);Wt(mm,"on"+hm)}Wt(Rc,"onAnimationEnd");Wt(Ic,"onAnimationIteration");Wt(Pc,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Oc,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function Ia(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mp(r,t,void 0,e),e.currentTarget=null}function Fc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ia(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ia(s,l,c),i=a}}}if(ws)throw e=co,ws=!1,co=null,e}function K(e,t){var n=t[Co];n===void 0&&(n=t[Co]=new Set);var r=e+"__bubble";n.has(r)||(Uc(t,e,2,!1),n.add(r))}function Di(e,t,n){var r=0;t&&(r|=4),Uc(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function wr(e){if(!e[Kr]){e[Kr]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(gm.has(n)||Di(n,!1,e),Di(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kr]||(t[Kr]=!0,Di("selectionchange",!1,t))}}function Uc(e,t,n,r){switch(Sc(t)){case 1:var s=Mp;break;case 4:s=Rp;break;default:s=dl}n=s.bind(null,t,n,e),s=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Mi(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Kt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}oc(function(){var c=i,f=ll(n),m=[];e:{var y=zc.get(e);if(y!==void 0){var h=pl,v=e;switch(e){case"keypress":if(os(n)===0)break e;case"keydown":case"keyup":h=Qp;break;case"focusin":v="focus",h=ki;break;case"focusout":v="blur",h=ki;break;case"beforeblur":case"afterblur":h=ki;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Yp;break;case Rc:case Ic:case Pc:h=Up;break;case Oc:h=Xp;break;case"scroll":h=Ip;break;case"wheel":h=qp;break;case"copy":case"cut":case"paste":h=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xa}var k=(t&4)!==0,E=!k&&e==="scroll",g=k?y!==null?y+"Capture":null:y;k=[];for(var d=c,p;d!==null;){p=d;var C=p.stateNode;if(p.tag===5&&C!==null&&(p=C,g!==null&&(C=pr(d,g),C!=null&&k.push(Sr(d,C,p)))),E)break;d=d.return}0<k.length&&(y=new h(y,v,null,n,f),m.push({event:y,listeners:k}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",y&&n!==lo&&(v=n.relatedTarget||n.fromElement)&&(Kt(v)||v[vt]))break e;if((h||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=c,v=v?Kt(v):null,v!==null&&(E=un(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=c),h!==v)){if(k=Sa,C="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=xa,C="onPointerLeave",g="onPointerEnter",d="pointer"),E=h==null?y:yn(h),p=v==null?y:yn(v),y=new k(C,d+"leave",h,n,f),y.target=E,y.relatedTarget=p,C=null,Kt(f)===c&&(k=new k(g,d+"enter",v,n,f),k.target=p,k.relatedTarget=E,C=k),E=C,h&&v)t:{for(k=h,g=v,d=0,p=k;p;p=dn(p))d++;for(p=0,C=g;C;C=dn(C))p++;for(;0<d-p;)k=dn(k),d--;for(;0<p-d;)g=dn(g),p--;for(;d--;){if(k===g||g!==null&&k===g.alternate)break t;k=dn(k),g=dn(g)}k=null}else k=null;h!==null&&Pa(m,y,h,k,!1),v!==null&&E!==null&&Pa(m,E,v,k,!0)}}e:{if(y=c?yn(c):window,h=y.nodeName&&y.nodeName.toLowerCase(),h==="select"||h==="input"&&y.type==="file")var N=om;else if(Na(y))if(jc)N=cm;else{N=am;var S=lm}else(h=y.nodeName)&&h.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(N=um);if(N&&(N=N(e,c))){Nc(m,N,n,f);break e}S&&S(e,y,c),e==="focusout"&&(S=y._wrapperState)&&S.controlled&&y.type==="number"&&no(y,"number",y.value)}switch(S=c?yn(c):window,e){case"focusin":(Na(S)||S.contentEditable==="true")&&(hn=S,ho=c,ir=null);break;case"focusout":ir=ho=hn=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Ma(m,n,f);break;case"selectionchange":if(pm)break;case"keydown":case"keyup":Ma(m,n,f)}var x;if(hl)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else mn?kc(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(xc&&n.locale!=="ko"&&(mn||w!=="onCompositionStart"?w==="onCompositionEnd"&&mn&&(x=Cc()):(Tt=f,fl="value"in Tt?Tt.value:Tt.textContent,mn=!0)),S=Es(c,w),0<S.length&&(w=new Ca(w,e,null,n,f),m.push({event:w,listeners:S}),x?w.data=x:(x=Ec(n),x!==null&&(w.data=x)))),(x=tm?nm(e,n):rm(e,n))&&(c=Es(c,"onBeforeInput"),0<c.length&&(f=new Ca("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=x))}Fc(m,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Es(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pr(e,n),i!=null&&r.unshift(Sr(e,i,s)),i=pr(e,t),i!=null&&r.push(Sr(e,i,s))),e=e.return}return r}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pa(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=pr(n,i),a!=null&&o.unshift(Sr(n,a,l))):s||(a=pr(n,i),a!=null&&o.push(Sr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ym=/\r\n?/g,vm=/\u0000|\uFFFD/g;function Oa(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(vm,"")}function br(e,t,n){if(t=Oa(t),Oa(e)!==t&&n)throw Error(_(425))}function Ns(){}var yo=null,vo=null;function wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=typeof setTimeout=="function"?setTimeout:void 0,wm=typeof clearTimeout=="function"?clearTimeout:void 0,za=typeof Promise=="function"?Promise:void 0,Sm=typeof queueMicrotask=="function"?queueMicrotask:typeof za<"u"?function(e){return za.resolve(null).then(e).catch(Cm)}:So;function Cm(e){setTimeout(function(){throw e})}function Ri(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gr(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),rt="__reactFiber$"+An,Cr="__reactProps$"+An,vt="__reactContainer$"+An,Co="__reactEvents$"+An,xm="__reactListeners$"+An,km="__reactHandles$"+An;function Kt(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fa(e);e!==null;){if(n=e[rt])return n;e=Fa(e)}return t}e=n,n=e.parentNode}return null}function Or(e){return e=e[rt]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function qs(e){return e[Cr]||null}var xo=[],vn=-1;function Ht(e){return{current:e}}function b(e){0>vn||(e.current=xo[vn],xo[vn]=null,vn--)}function Q(e,t){vn++,xo[vn]=e.current,e.current=t}var $t={},ve=Ht($t),_e=Ht(!1),qt=$t;function Rn(e,t){var n=e.type.contextTypes;if(!n)return $t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Te(e){return e=e.childContextTypes,e!=null}function js(){b(_e),b(ve)}function Ua(e,t,n){if(ve.current!==$t)throw Error(_(168));Q(ve,t),Q(_e,n)}function Lc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(_(108,lp(e)||"Unknown",s));return ee({},n,r)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$t,qt=ve.current,Q(ve,e),Q(_e,_e.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Lc(e,t,qt),r.__reactInternalMemoizedMergedChildContext=e,b(_e),b(ve),Q(ve,e)):b(_e),Q(_e,n)}var ft=null,ei=!1,Ii=!1;function $c(e){ft===null?ft=[e]:ft.push(e)}function Em(e){ei=!0,$c(e)}function Gt(){if(!Ii&&ft!==null){Ii=!0;var e=0,t=B;try{var n=ft;for(B=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,ei=!1}catch(s){throw ft!==null&&(ft=ft.slice(e+1)),cc(al,Gt),s}finally{B=t,Ii=!1}}return null}var wn=[],Sn=0,Ts=null,Ds=0,Ae=[],We=0,en=null,pt=1,mt="";function Bt(e,t){wn[Sn++]=Ds,wn[Sn++]=Ts,Ts=e,Ds=t}function Ac(e,t,n){Ae[We++]=pt,Ae[We++]=mt,Ae[We++]=en,en=e;var r=pt;e=mt;var s=32-Xe(r)-1;r&=~(1<<s),n+=1;var i=32-Xe(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pt=1<<32-Xe(t)+s|n<<s|r,mt=i+e}else pt=1<<i|n<<s|r,mt=e}function yl(e){e.return!==null&&(Bt(e,1),Ac(e,1,0))}function vl(e){for(;e===Ts;)Ts=wn[--Sn],wn[Sn]=null,Ds=wn[--Sn],wn[Sn]=null;for(;e===en;)en=Ae[--We],Ae[We]=null,mt=Ae[--We],Ae[We]=null,pt=Ae[--We],Ae[We]=null}var Oe=null,Ie=null,X=!1,Ye=null;function Wc(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $a(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Ie=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=en!==null?{id:pt,overflow:mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Ie=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eo(e){if(X){var t=Ie;if(t){var n=t;if(!$a(e,t)){if(ko(e))throw Error(_(418));t=Pt(n.nextSibling);var r=Oe;t&&$a(e,t)?Wc(r,n):(e.flags=e.flags&-4097|2,X=!1,Oe=e)}}else{if(ko(e))throw Error(_(418));e.flags=e.flags&-4097|2,X=!1,Oe=e}}}function Aa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function Yr(e){if(e!==Oe)return!1;if(!X)return Aa(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wo(e.type,e.memoizedProps)),t&&(t=Ie)){if(ko(e))throw Hc(),Error(_(418));for(;t;)Wc(e,t),t=Pt(t.nextSibling)}if(Aa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Pt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Oe?Pt(e.stateNode.nextSibling):null;return!0}function Hc(){for(var e=Ie;e;)e=Pt(e.nextSibling)}function In(){Ie=Oe=null,X=!1}function wl(e){Ye===null?Ye=[e]:Ye.push(e)}var Nm=xt.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){var t=e._init;return t(e._payload)}function Gc(e){function t(g,d){if(e){var p=g.deletions;p===null?(g.deletions=[d],g.flags|=16):p.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=Ut(g,d),g.index=0,g.sibling=null,g}function i(g,d,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<d?(g.flags|=2,d):p):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,d,p,C){return d===null||d.tag!==6?(d=$i(p,g.mode,C),d.return=g,d):(d=s(d,p),d.return=g,d)}function a(g,d,p,C){var N=p.type;return N===pn?f(g,d,p.props.children,C,p.key):d!==null&&(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Et&&Wa(N)===d.type)?(C=s(d,p.props),C.ref=Kn(g,d,p),C.return=g,C):(C=ps(p.type,p.key,p.props,null,g.mode,C),C.ref=Kn(g,d,p),C.return=g,C)}function c(g,d,p,C){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Ai(p,g.mode,C),d.return=g,d):(d=s(d,p.children||[]),d.return=g,d)}function f(g,d,p,C,N){return d===null||d.tag!==7?(d=Xt(p,g.mode,C,N),d.return=g,d):(d=s(d,p),d.return=g,d)}function m(g,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=$i(""+d,g.mode,p),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case $r:return p=ps(d.type,d.key,d.props,null,g.mode,p),p.ref=Kn(g,null,d),p.return=g,p;case fn:return d=Ai(d,g.mode,p),d.return=g,d;case Et:var C=d._init;return m(g,C(d._payload),p)}if(Xn(d)||Hn(d))return d=Xt(d,g.mode,p,null),d.return=g,d;Jr(g,d)}return null}function y(g,d,p,C){var N=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:l(g,d,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $r:return p.key===N?a(g,d,p,C):null;case fn:return p.key===N?c(g,d,p,C):null;case Et:return N=p._init,y(g,d,N(p._payload),C)}if(Xn(p)||Hn(p))return N!==null?null:f(g,d,p,C,null);Jr(g,p)}return null}function h(g,d,p,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(p)||null,l(d,g,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $r:return g=g.get(C.key===null?p:C.key)||null,a(d,g,C,N);case fn:return g=g.get(C.key===null?p:C.key)||null,c(d,g,C,N);case Et:var S=C._init;return h(g,d,p,S(C._payload),N)}if(Xn(C)||Hn(C))return g=g.get(p)||null,f(d,g,C,N,null);Jr(d,C)}return null}function v(g,d,p,C){for(var N=null,S=null,x=d,w=d=0,M=null;x!==null&&w<p.length;w++){x.index>w?(M=x,x=null):M=x.sibling;var P=y(g,x,p[w],C);if(P===null){x===null&&(x=M);break}e&&x&&P.alternate===null&&t(g,x),d=i(P,d,w),S===null?N=P:S.sibling=P,S=P,x=M}if(w===p.length)return n(g,x),X&&Bt(g,w),N;if(x===null){for(;w<p.length;w++)x=m(g,p[w],C),x!==null&&(d=i(x,d,w),S===null?N=x:S.sibling=x,S=x);return X&&Bt(g,w),N}for(x=r(g,x);w<p.length;w++)M=h(x,g,w,p[w],C),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?w:M.key),d=i(M,d,w),S===null?N=M:S.sibling=M,S=M);return e&&x.forEach(function(U){return t(g,U)}),X&&Bt(g,w),N}function k(g,d,p,C){var N=Hn(p);if(typeof N!="function")throw Error(_(150));if(p=N.call(p),p==null)throw Error(_(151));for(var S=N=null,x=d,w=d=0,M=null,P=p.next();x!==null&&!P.done;w++,P=p.next()){x.index>w?(M=x,x=null):M=x.sibling;var U=y(g,x,P.value,C);if(U===null){x===null&&(x=M);break}e&&x&&U.alternate===null&&t(g,x),d=i(U,d,w),S===null?N=U:S.sibling=U,S=U,x=M}if(P.done)return n(g,x),X&&Bt(g,w),N;if(x===null){for(;!P.done;w++,P=p.next())P=m(g,P.value,C),P!==null&&(d=i(P,d,w),S===null?N=P:S.sibling=P,S=P);return X&&Bt(g,w),N}for(x=r(g,x);!P.done;w++,P=p.next())P=h(x,g,w,P.value,C),P!==null&&(e&&P.alternate!==null&&x.delete(P.key===null?w:P.key),d=i(P,d,w),S===null?N=P:S.sibling=P,S=P);return e&&x.forEach(function($){return t(g,$)}),X&&Bt(g,w),N}function E(g,d,p,C){if(typeof p=="object"&&p!==null&&p.type===pn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $r:e:{for(var N=p.key,S=d;S!==null;){if(S.key===N){if(N=p.type,N===pn){if(S.tag===7){n(g,S.sibling),d=s(S,p.props.children),d.return=g,g=d;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Et&&Wa(N)===S.type){n(g,S.sibling),d=s(S,p.props),d.ref=Kn(g,S,p),d.return=g,g=d;break e}n(g,S);break}else t(g,S);S=S.sibling}p.type===pn?(d=Xt(p.props.children,g.mode,C,p.key),d.return=g,g=d):(C=ps(p.type,p.key,p.props,null,g.mode,C),C.ref=Kn(g,d,p),C.return=g,g=C)}return o(g);case fn:e:{for(S=p.key;d!==null;){if(d.key===S)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(g,d.sibling),d=s(d,p.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=Ai(p,g.mode,C),d.return=g,g=d}return o(g);case Et:return S=p._init,E(g,d,S(p._payload),C)}if(Xn(p))return v(g,d,p,C);if(Hn(p))return k(g,d,p,C);Jr(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(g,d.sibling),d=s(d,p),d.return=g,g=d):(n(g,d),d=$i(p,g.mode,C),d.return=g,g=d),o(g)):n(g,d)}return E}var Pn=Gc(!0),Bc=Gc(!1),Ms=Ht(null),Rs=null,Cn=null,Sl=null;function Cl(){Sl=Cn=Rs=null}function xl(e){var t=Ms.current;b(Ms),e._currentValue=t}function No(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tn(e,t){Rs=e,Sl=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(Sl!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(Rs===null)throw Error(_(308));Cn=e,Rs.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var bt=null;function kl(e){bt===null?bt=[e]:bt.push(e)}function Vc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,kl(t)):(n.next=s.next,s.next=n),t.interleaved=n,wt(e,r)}function wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nt=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ot(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,wt(e,n)}return s=r.interleaved,s===null?(t.next=t,kl(r)):(t.next=s.next,s.next=t),r.interleaved=t,wt(e,n)}function ls(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ul(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Is(e,t,n,r){var s=e.updateQueue;Nt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(i!==null){var m=s.baseState;o=0,f=c=a=null,l=i;do{var y=l.lane,h=l.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,k=l;switch(y=t,h=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){m=v.call(h,m,y);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,y=typeof v=="function"?v.call(h,m,y):v,y==null)break e;m=ee({},m,y);break e;case 2:Nt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else h={eventTime:h,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=h,a=m):f=f.next=h,o|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(f===null&&(a=m),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);nn|=o,e.lanes=o,e.memoizedState=m}}function Ga(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_(191,s));s.call(r)}}}var zr={},it=Ht(zr),xr=Ht(zr),kr=Ht(zr);function Yt(e){if(e===zr)throw Error(_(174));return e}function Nl(e,t){switch(Q(kr,t),Q(xr,e),Q(it,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:so(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=so(t,e)}b(it),Q(it,t)}function On(){b(it),b(xr),b(kr)}function Kc(e){Yt(kr.current);var t=Yt(it.current),n=so(t,e.type);t!==n&&(Q(xr,e),Q(it,n))}function jl(e){xr.current===e&&(b(it),b(xr))}var Z=Ht(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pi=[];function _l(){for(var e=0;e<Pi.length;e++)Pi[e]._workInProgressVersionPrimary=null;Pi.length=0}var as=xt.ReactCurrentDispatcher,Oi=xt.ReactCurrentBatchConfig,tn=0,q=null,oe=null,ae=null,Os=!1,or=!1,Er=0,jm=0;function he(){throw Error(_(321))}function Tl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}function Dl(e,t,n,r,s,i){if(tn=i,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=e===null||e.memoizedState===null?Mm:Rm,e=n(r,s),or){i=0;do{if(or=!1,Er=0,25<=i)throw Error(_(301));i+=1,ae=oe=null,t.updateQueue=null,as.current=Im,e=n(r,s)}while(or)}if(as.current=zs,t=oe!==null&&oe.next!==null,tn=0,ae=oe=q=null,Os=!1,t)throw Error(_(300));return e}function Ml(){var e=Er!==0;return Er=0,e}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?q.memoizedState=ae=e:ae=ae.next=e,ae}function Ve(){if(oe===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ae===null?q.memoizedState:ae.next;if(t!==null)ae=t,oe=e;else{if(e===null)throw Error(_(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ae===null?q.memoizedState=ae=e:ae=ae.next=e}return ae}function Nr(e,t){return typeof t=="function"?t(e):t}function zi(e){var t=Ve(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var f=c.lane;if((tn&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=m,o=r):a=a.next=m,q.lanes|=f,nn|=f}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,qe(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,q.lanes|=i,nn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fi(e){var t=Ve(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qe(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function bc(){}function Yc(e,t){var n=q,r=Ve(),s=t(),i=!qe(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,Rl(Zc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,jr(9,Xc.bind(null,n,r,s,t),void 0,null),ue===null)throw Error(_(349));tn&30||Jc(n,t,s)}return s}function Jc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xc(e,t,n,r){t.value=n,t.getSnapshot=r,qc(t)&&ed(e)}function Zc(e,t,n){return n(function(){qc(t)&&ed(e)})}function qc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch{return!0}}function ed(e){var t=wt(e,1);t!==null&&Ze(t,e,1,-1)}function Ba(e){var t=nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=Dm.bind(null,q,e),[t.memoizedState,e]}function jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function td(){return Ve().memoizedState}function us(e,t,n,r){var s=nt();q.flags|=e,s.memoizedState=jr(1|t,n,void 0,r===void 0?null:r)}function ti(e,t,n,r){var s=Ve();r=r===void 0?null:r;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,r!==null&&Tl(r,o.deps)){s.memoizedState=jr(t,n,i,r);return}}q.flags|=e,s.memoizedState=jr(1|t,n,i,r)}function Va(e,t){return us(8390656,8,e,t)}function Rl(e,t){return ti(2048,8,e,t)}function nd(e,t){return ti(4,2,e,t)}function rd(e,t){return ti(4,4,e,t)}function sd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function id(e,t,n){return n=n!=null?n.concat([e]):null,ti(4,4,sd.bind(null,t,e),n)}function Il(){}function od(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ld(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ad(e,t,n){return tn&21?(qe(n,t)||(n=pc(),q.lanes|=n,nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function _m(e,t){var n=B;B=n!==0&&4>n?n:4,e(!0);var r=Oi.transition;Oi.transition={};try{e(!1),t()}finally{B=n,Oi.transition=r}}function ud(){return Ve().memoizedState}function Tm(e,t,n){var r=Ft(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cd(e))dd(t,n);else if(n=Vc(e,t,n,r),n!==null){var s=Ce();Ze(n,e,r,s),fd(n,t,r)}}function Dm(e,t,n){var r=Ft(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cd(e))dd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qe(l,o)){var a=t.interleaved;a===null?(s.next=s,kl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Vc(e,t,s,r),n!==null&&(s=Ce(),Ze(n,e,r,s),fd(n,t,r))}}function cd(e){var t=e.alternate;return e===q||t!==null&&t===q}function dd(e,t){or=Os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ul(e,n)}}var zs={readContext:Be,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Mm={readContext:Be,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:Va,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,us(4194308,4,sd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){return us(4,2,e,t)},useMemo:function(e,t){var n=nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tm.bind(null,q,e),[r.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:Ba,useDebugValue:Il,useDeferredValue:function(e){return nt().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=_m.bind(null,e[1]),nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=q,s=nt();if(X){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),ue===null)throw Error(_(349));tn&30||Jc(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Va(Zc.bind(null,r,i,e),[e]),r.flags|=2048,jr(9,Xc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=nt(),t=ue.identifierPrefix;if(X){var n=mt,r=pt;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Er++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rm={readContext:Be,useCallback:od,useContext:Be,useEffect:Rl,useImperativeHandle:id,useInsertionEffect:nd,useLayoutEffect:rd,useMemo:ld,useReducer:zi,useRef:td,useState:function(){return zi(Nr)},useDebugValue:Il,useDeferredValue:function(e){var t=Ve();return ad(t,oe.memoizedState,e)},useTransition:function(){var e=zi(Nr)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:bc,useSyncExternalStore:Yc,useId:ud,unstable_isNewReconciler:!1},Im={readContext:Be,useCallback:od,useContext:Be,useEffect:Rl,useImperativeHandle:id,useInsertionEffect:nd,useLayoutEffect:rd,useMemo:ld,useReducer:Fi,useRef:td,useState:function(){return Fi(Nr)},useDebugValue:Il,useDeferredValue:function(e){var t=Ve();return oe===null?t.memoizedState=e:ad(t,oe.memoizedState,e)},useTransition:function(){var e=Fi(Nr)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:bc,useSyncExternalStore:Yc,useId:ud,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ni={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ce(),s=Ft(e),i=ht(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ot(e,i,s),t!==null&&(Ze(t,e,s,r),ls(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ce(),s=Ft(e),i=ht(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ot(e,i,s),t!==null&&(Ze(t,e,s,r),ls(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),r=Ft(e),s=ht(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ot(e,s,r),t!==null&&(Ze(t,e,r,n),ls(t,e,r))}};function Qa(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!vr(n,r)||!vr(s,i):!0}function pd(e,t,n){var r=!1,s=$t,i=t.contextType;return typeof i=="object"&&i!==null?i=Be(i):(s=Te(t)?qt:ve.current,r=t.contextTypes,i=(r=r!=null)?Rn(e,s):$t),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ka(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},El(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Be(i):(i=Te(t)?qt:ve.current,s.context=Rn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ni.enqueueReplaceState(s,s.state,null),Is(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var n="",r=t;do n+=op(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ui(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function To(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pm=typeof WeakMap=="function"?WeakMap:Map;function md(e,t,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Us||(Us=!0,Lo=r),To(e,t)},n}function hd(e,t,n){n=ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){To(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){To(e,t),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ba(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Km.bind(null,e,t,n),t.then(e,e))}function Ya(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ja(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ht(-1,1),t.tag=2,Ot(n,t,1))),n.lanes|=1),e)}var Om=xt.ReactCurrentOwner,je=!1;function Se(e,t,n,r){t.child=e===null?Bc(t,null,n,r):Pn(t,e.child,n,r)}function Xa(e,t,n,r,s){n=n.render;var i=t.ref;return Tn(t,s),r=Dl(e,t,n,r,i,s),n=Ml(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(X&&n&&yl(t),t.flags|=1,Se(e,t,r,s),t.child)}function Za(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Al(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gd(e,t,i,r,s)):(e=ps(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vr,n(o,r)&&e.ref===t.ref)return St(e,t,s)}return t.flags|=1,e=Ut(i,r),e.ref=t.ref,e.return=t,t.child=e}function gd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(vr(i,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,St(e,t,s)}return Do(e,t,n,r,s)}function yd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(kn,Re),Re|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(kn,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(kn,Re),Re|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Q(kn,Re),Re|=r;return Se(e,t,s,n),t.child}function vd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,s){var i=Te(n)?qt:ve.current;return i=Rn(t,i),Tn(t,s),n=Dl(e,t,n,r,i,s),r=Ml(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(X&&r&&yl(t),t.flags|=1,Se(e,t,n,s),t.child)}function qa(e,t,n,r,s){if(Te(n)){var i=!0;_s(t)}else i=!1;if(Tn(t,s),t.stateNode===null)cs(e,t),pd(t,n,r),_o(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Te(n)?qt:ve.current,c=Rn(t,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Ka(t,o,r,c),Nt=!1;var y=t.memoizedState;o.state=y,Is(t,r,o,s),a=t.memoizedState,l!==r||y!==a||_e.current||Nt?(typeof f=="function"&&(jo(t,n,f,r),a=t.memoizedState),(l=Nt||Qa(t,n,l,r,y,a,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Qc(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ke(t.type,l),o.props=c,m=t.pendingProps,y=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Be(a):(a=Te(n)?qt:ve.current,a=Rn(t,a));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==a)&&Ka(t,o,r,a),Nt=!1,y=t.memoizedState,o.state=y,Is(t,r,o,s);var v=t.memoizedState;l!==m||y!==v||_e.current||Nt?(typeof h=="function"&&(jo(t,n,h,r),v=t.memoizedState),(c=Nt||Qa(t,n,c,r,y,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,i,s)}function Mo(e,t,n,r,s,i){vd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&La(t,n,!1),St(e,t,i);r=t.stateNode,Om.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pn(t,e.child,null,i),t.child=Pn(t,null,l,i)):Se(e,t,l,i),t.memoizedState=r.state,s&&La(t,n,!0),t.child}function wd(e){var t=e.stateNode;t.pendingContext?Ua(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ua(e,t.context,!1),Nl(e,t.containerInfo)}function eu(e,t,n,r,s){return In(),wl(s),t.flags|=256,Se(e,t,n,r),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sd(e,t,n){var r=t.pendingProps,s=Z.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(Z,s&1),e===null)return Eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ii(o,r,0,null),e=Xt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Io(n),t.memoizedState=Ro,e):Pl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zm(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ut(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ut(l,i):(i=Xt(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Io(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ro,r}return i=e.child,e=i.sibling,r=Ut(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pl(e,t){return t=ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xr(e,t,n,r){return r!==null&&wl(r),Pn(t,e.child,null,n),e=Pl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ui(Error(_(422))),Xr(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ii({mode:"visible",children:r.children},s,0,null),i=Xt(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pn(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Ro,i);if(!(t.mode&1))return Xr(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(_(419)),r=Ui(i,r,void 0),Xr(e,t,o,r)}if(l=(o&e.childLanes)!==0,je||l){if(r=ue,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(e,s),Ze(r,e,s,-1))}return $l(),r=Ui(Error(_(421))),Xr(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Pt(s.nextSibling),Oe=t,X=!0,Ye=null,e!==null&&(Ae[We++]=pt,Ae[We++]=mt,Ae[We++]=en,pt=e.id,mt=e.overflow,en=t),t=Pl(t,r.children),t.flags|=4096,t)}function tu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),No(e.return,t,n)}function Li(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Se(e,t,r.children,n),r=Z.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tu(e,n,t);else if(e.tag===19)tu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(Z,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ps(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Li(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ps(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Li(t,!0,n,null,i);break;case"together":Li(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function St(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Ut(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ut(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fm(e,t,n){switch(t.tag){case 3:wd(t),In();break;case 5:Kc(t);break;case 1:Te(t.type)&&_s(t);break;case 4:Nl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Q(Ms,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(Z,Z.current&1),t.flags|=128,null):n&t.child.childLanes?Sd(e,t,n):(Q(Z,Z.current&1),e=St(e,t,n),e!==null?e.sibling:null);Q(Z,Z.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(Z,Z.current),r)break;return null;case 22:case 23:return t.lanes=0,yd(e,t,n)}return St(e,t,n)}var xd,Po,kd,Ed;xd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Po=function(){};kd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yt(it.current);var i=null;switch(n){case"input":s=eo(e,s),r=eo(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=ro(e,s),r=ro(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ns)}io(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&K("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ed=function(e,t,n,r){n!==r&&(t.flags|=4)};function bn(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Um(e,t,n){var r=t.pendingProps;switch(vl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Te(t.type)&&js(),ge(t),null;case 3:return r=t.stateNode,On(),b(_e),b(ve),_l(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(Wo(Ye),Ye=null))),Po(e,t),ge(t),null;case 5:jl(t);var s=Yt(kr.current);if(n=t.type,e!==null&&t.stateNode!=null)kd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return ge(t),null}if(e=Yt(it.current),Yr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[rt]=t,r[Cr]=i,e=(t.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<qn.length;s++)K(qn[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":ca(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":fa(r,i),K("invalid",r)}io(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&br(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&br(r.textContent,l,e),s=["children",""+l]):dr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":Ar(r),da(r,i,!0);break;case"textarea":Ar(r),pa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ns)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[rt]=t,e[Cr]=r,xd(e,t,!1,!1),t.stateNode=e;e:{switch(o=oo(n,r),n){case"dialog":K("cancel",e),K("close",e),s=r;break;case"iframe":case"object":case"embed":K("load",e),s=r;break;case"video":case"audio":for(s=0;s<qn.length;s++)K(qn[s],e);s=r;break;case"source":K("error",e),s=r;break;case"img":case"image":case"link":K("error",e),K("load",e),s=r;break;case"details":K("toggle",e),s=r;break;case"input":ca(e,r),s=eo(e,r),K("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),K("invalid",e);break;case"textarea":fa(e,r),s=ro(e,r),K("invalid",e);break;default:s=r}io(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?tc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&qu(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&fr(e,a):typeof a=="number"&&fr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&K("scroll",e):a!=null&&rl(e,i,a,o))}switch(n){case"input":Ar(e),da(e,r,!1);break;case"textarea":Ar(e),pa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Lt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?En(e,!!r.multiple,i,!1):r.defaultValue!=null&&En(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ns)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Ed(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=Yt(kr.current),Yt(it.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[rt]=t,(i=r.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:br(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&br(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rt]=t,t.stateNode=r}return ge(t),null;case 13:if(b(Z),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&Ie!==null&&t.mode&1&&!(t.flags&128))Hc(),In(),t.flags|=98560,i=!1;else if(i=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[rt]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Ye!==null&&(Wo(Ye),Ye=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?le===0&&(le=3):$l())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return On(),Po(e,t),e===null&&wr(t.stateNode.containerInfo),ge(t),null;case 10:return xl(t.type._context),ge(t),null;case 17:return Te(t.type)&&js(),ge(t),null;case 19:if(b(Z),i=t.memoizedState,i===null)return ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)bn(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ps(e),o!==null){for(t.flags|=128,bn(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&re()>Fn&&(t.flags|=128,r=!0,bn(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ps(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!X)return ge(t),null}else 2*re()-i.renderingStartTime>Fn&&n!==1073741824&&(t.flags|=128,r=!0,bn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,n=Z.current,Q(Z,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return Ll(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Re&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Lm(e,t){switch(vl(t),t.tag){case 1:return Te(t.type)&&js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return On(),b(_e),b(ve),_l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jl(t),null;case 13:if(b(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return b(Z),null;case 4:return On(),null;case 10:return xl(t.type._context),null;case 22:case 23:return Ll(),null;case 24:return null;default:return null}}var Zr=!1,ye=!1,$m=typeof WeakSet=="function"?WeakSet:Set,O=null;function xn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function Oo(e,t,n){try{n()}catch(r){ne(e,t,r)}}var nu=!1;function Am(e,t){if(yo=xs,e=Dc(),gl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,f=0,m=e,y=null;t:for(;;){for(var h;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(a=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)y=m,m=h;for(;;){if(m===e)break t;if(y===n&&++c===s&&(l=o),y===i&&++f===r&&(a=o),(h=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(vo={focusedElem:e,selectionRange:n},xs=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,E=v.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ke(t.type,k),E);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(C){ne(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=nu,nu=!1,v}function lr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oo(t,n,i)}s=s.next}while(s!==r)}}function ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nd(e){var t=e.alternate;t!==null&&(e.alternate=null,Nd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rt],delete t[Cr],delete t[Co],delete t[xm],delete t[km])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jd(e){return e.tag===5||e.tag===3||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ns));else if(r!==4&&(e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}function Uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uo(e,t,n),e=e.sibling;e!==null;)Uo(e,t,n),e=e.sibling}var fe=null,be=!1;function kt(e,t,n){for(n=n.child;n!==null;)_d(e,t,n),n=n.sibling}function _d(e,t,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ys,n)}catch{}switch(n.tag){case 5:ye||xn(n,t);case 6:var r=fe,s=be;fe=null,kt(e,t,n),fe=r,be=s,fe!==null&&(be?(e=fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(be?(e=fe,n=n.stateNode,e.nodeType===8?Ri(e.parentNode,n):e.nodeType===1&&Ri(e,n),gr(e)):Ri(fe,n.stateNode));break;case 4:r=fe,s=be,fe=n.stateNode.containerInfo,be=!0,kt(e,t,n),fe=r,be=s;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Oo(n,t,o),s=s.next}while(s!==r)}kt(e,t,n);break;case 1:if(!ye&&(xn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,t,l)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,kt(e,t,n),ye=r):kt(e,t,n);break;default:kt(e,t,n)}}function su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $m),t.forEach(function(r){var s=Ym.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,be=!1;break e;case 3:fe=l.stateNode.containerInfo,be=!0;break e;case 4:fe=l.stateNode.containerInfo,be=!0;break e}l=l.return}if(fe===null)throw Error(_(160));_d(i,o,s),fe=null,be=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ne(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Td(t,e),t=t.sibling}function Td(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),tt(e),r&4){try{lr(3,e,e.return),ri(3,e)}catch(k){ne(e,e.return,k)}try{lr(5,e,e.return)}catch(k){ne(e,e.return,k)}}break;case 1:Qe(t,e),tt(e),r&512&&n!==null&&xn(n,n.return);break;case 5:if(Qe(t,e),tt(e),r&512&&n!==null&&xn(n,n.return),e.flags&32){var s=e.stateNode;try{fr(s,"")}catch(k){ne(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ju(s,i),oo(l,o);var c=oo(l,i);for(o=0;o<a.length;o+=2){var f=a[o],m=a[o+1];f==="style"?tc(s,m):f==="dangerouslySetInnerHTML"?qu(s,m):f==="children"?fr(s,m):rl(s,f,m,c)}switch(l){case"input":to(s,i);break;case"textarea":Xu(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?En(s,!!i.multiple,h,!1):y!==!!i.multiple&&(i.defaultValue!=null?En(s,!!i.multiple,i.defaultValue,!0):En(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cr]=i}catch(k){ne(e,e.return,k)}}break;case 6:if(Qe(t,e),tt(e),r&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){ne(e,e.return,k)}}break;case 3:if(Qe(t,e),tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gr(t.containerInfo)}catch(k){ne(e,e.return,k)}break;case 4:Qe(t,e),tt(e);break;case 13:Qe(t,e),tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fl=re())),r&4&&su(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ye=(c=ye)||f,Qe(t,e),ye=c):Qe(t,e),tt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(O=e,f=e.child;f!==null;){for(m=O=f;O!==null;){switch(y=O,h=y.child,y.tag){case 0:case 11:case 14:case 15:lr(4,y,y.return);break;case 1:xn(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){ne(r,n,k)}}break;case 5:xn(y,y.return);break;case 22:if(y.memoizedState!==null){ou(m);continue}}h!==null?(h.return=y,O=h):ou(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,a=m.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ec("display",o))}catch(k){ne(e,e.return,k)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(k){ne(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(t,e),tt(e),r&4&&su(e);break;case 21:break;default:Qe(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fr(s,""),r.flags&=-33);var i=ru(e);Uo(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ru(e);Fo(e,l,o);break;default:throw Error(_(161))}}catch(a){ne(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wm(e,t,n){O=e,Dd(e)}function Dd(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zr;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ye;l=Zr;var c=ye;if(Zr=o,(ye=a)&&!c)for(O=s;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?lu(s):a!==null?(a.return=o,O=a):lu(s);for(;i!==null;)O=i,Dd(i),i=i.sibling;O=s,Zr=l,ye=c}iu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):iu(e)}}function iu(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||ri(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ga(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ga(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&gr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}ye||t.flags&512&&zo(t)}catch(y){ne(t,t.return,y)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function ou(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function lu(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ri(4,t)}catch(a){ne(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){ne(t,s,a)}}var i=t.return;try{zo(t)}catch(a){ne(t,i,a)}break;case 5:var o=t.return;try{zo(t)}catch(a){ne(t,o,a)}}}catch(a){ne(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var Hm=Math.ceil,Fs=xt.ReactCurrentDispatcher,Ol=xt.ReactCurrentOwner,Ge=xt.ReactCurrentBatchConfig,H=0,ue=null,ie=null,pe=0,Re=0,kn=Ht(0),le=0,_r=null,nn=0,si=0,zl=0,ar=null,Ne=null,Fl=0,Fn=1/0,dt=null,Us=!1,Lo=null,zt=null,qr=!1,Dt=null,Ls=0,ur=0,$o=null,ds=-1,fs=0;function Ce(){return H&6?re():ds!==-1?ds:ds=re()}function Ft(e){return e.mode&1?H&2&&pe!==0?pe&-pe:Nm.transition!==null?(fs===0&&(fs=pc()),fs):(e=B,e!==0||(e=window.event,e=e===void 0?16:Sc(e.type)),e):1}function Ze(e,t,n,r){if(50<ur)throw ur=0,$o=null,Error(_(185));Ir(e,n,r),(!(H&2)||e!==ue)&&(e===ue&&(!(H&2)&&(si|=n),le===4&&_t(e,pe)),De(e,r),n===1&&H===0&&!(t.mode&1)&&(Fn=re()+500,ei&&Gt()))}function De(e,t){var n=e.callbackNode;Np(e,t);var r=Cs(e,e===ue?pe:0);if(r===0)n!==null&&ga(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ga(n),t===1)e.tag===0?Em(au.bind(null,e)):$c(au.bind(null,e)),Sm(function(){!(H&6)&&Gt()}),n=null;else{switch(mc(r)){case 1:n=al;break;case 4:n=dc;break;case 16:n=Ss;break;case 536870912:n=fc;break;default:n=Ss}n=Ud(n,Md.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Md(e,t){if(ds=-1,fs=0,H&6)throw Error(_(327));var n=e.callbackNode;if(Dn()&&e.callbackNode!==n)return null;var r=Cs(e,e===ue?pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$s(e,r);else{t=r;var s=H;H|=2;var i=Id();(ue!==e||pe!==t)&&(dt=null,Fn=re()+500,Jt(e,t));do try{Vm();break}catch(l){Rd(e,l)}while(!0);Cl(),Fs.current=i,H=s,ie!==null?t=0:(ue=null,pe=0,t=le)}if(t!==0){if(t===2&&(s=fo(e),s!==0&&(r=s,t=Ao(e,s))),t===1)throw n=_r,Jt(e,0),_t(e,r),De(e,re()),n;if(t===6)_t(e,r);else{if(s=e.current.alternate,!(r&30)&&!Gm(s)&&(t=$s(e,r),t===2&&(i=fo(e),i!==0&&(r=i,t=Ao(e,i))),t===1))throw n=_r,Jt(e,0),_t(e,r),De(e,re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:Vt(e,Ne,dt);break;case 3:if(_t(e,r),(r&130023424)===r&&(t=Fl+500-re(),10<t)){if(Cs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ce(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=So(Vt.bind(null,e,Ne,dt),t);break}Vt(e,Ne,dt);break;case 4:if(_t(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Xe(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hm(r/1960))-r,10<r){e.timeoutHandle=So(Vt.bind(null,e,Ne,dt),r);break}Vt(e,Ne,dt);break;case 5:Vt(e,Ne,dt);break;default:throw Error(_(329))}}}return De(e,re()),e.callbackNode===n?Md.bind(null,e):null}function Ao(e,t){var n=ar;return e.current.memoizedState.isDehydrated&&(Jt(e,t).flags|=256),e=$s(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&Wo(t)),e}function Wo(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function Gm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _t(e,t){for(t&=~zl,t&=~si,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xe(t),r=1<<n;e[n]=-1,t&=~r}}function au(e){if(H&6)throw Error(_(327));Dn();var t=Cs(e,0);if(!(t&1))return De(e,re()),null;var n=$s(e,t);if(e.tag!==0&&n===2){var r=fo(e);r!==0&&(t=r,n=Ao(e,r))}if(n===1)throw n=_r,Jt(e,0),_t(e,t),De(e,re()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vt(e,Ne,dt),De(e,re()),null}function Ul(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(Fn=re()+500,ei&&Gt())}}function rn(e){Dt!==null&&Dt.tag===0&&!(H&6)&&Dn();var t=H;H|=1;var n=Ge.transition,r=B;try{if(Ge.transition=null,B=1,e)return e()}finally{B=r,Ge.transition=n,H=t,!(H&6)&&Gt()}}function Ll(){Re=kn.current,b(kn)}function Jt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wm(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(vl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&js();break;case 3:On(),b(_e),b(ve),_l();break;case 5:jl(r);break;case 4:On();break;case 13:b(Z);break;case 19:b(Z);break;case 10:xl(r.type._context);break;case 22:case 23:Ll()}n=n.return}if(ue=e,ie=e=Ut(e.current,null),pe=Re=t,le=0,_r=null,zl=si=nn=0,Ne=ar=null,bt!==null){for(t=0;t<bt.length;t++)if(n=bt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bt=null}return e}function Rd(e,t){do{var n=ie;try{if(Cl(),as.current=zs,Os){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Os=!1}if(tn=0,ae=oe=q=null,or=!1,Er=0,Ol.current=null,n===null||n.return===null){le=1,_r=t,ie=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Ya(o);if(h!==null){h.flags&=-257,Ja(h,o,l,i,t),h.mode&1&&ba(i,c,t),t=h,a=c;var v=t.updateQueue;if(v===null){var k=new Set;k.add(a),t.updateQueue=k}else v.add(a);break e}else{if(!(t&1)){ba(i,c,t),$l();break e}a=Error(_(426))}}else if(X&&l.mode&1){var E=Ya(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ja(E,o,l,i,t),wl(zn(a,l));break e}}i=a=zn(a,l),le!==4&&(le=2),ar===null?ar=[i]:ar.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=md(i,a,t);Ha(i,g);break e;case 1:l=a;var d=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zt===null||!zt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=hd(i,l,t);Ha(i,C);break e}}i=i.return}while(i!==null)}Od(n)}catch(N){t=N,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function Id(){var e=Fs.current;return Fs.current=zs,e===null?zs:e}function $l(){(le===0||le===3||le===2)&&(le=4),ue===null||!(nn&268435455)&&!(si&268435455)||_t(ue,pe)}function $s(e,t){var n=H;H|=2;var r=Id();(ue!==e||pe!==t)&&(dt=null,Jt(e,t));do try{Bm();break}catch(s){Rd(e,s)}while(!0);if(Cl(),H=n,Fs.current=r,ie!==null)throw Error(_(261));return ue=null,pe=0,le}function Bm(){for(;ie!==null;)Pd(ie)}function Vm(){for(;ie!==null&&!gp();)Pd(ie)}function Pd(e){var t=Fd(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?Od(e):ie=t,Ol.current=null}function Od(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lm(n,t),n!==null){n.flags&=32767,ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ie=null;return}}else if(n=Um(n,t,Re),n!==null){ie=n;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);le===0&&(le=5)}function Vt(e,t,n){var r=B,s=Ge.transition;try{Ge.transition=null,B=1,Qm(e,t,n,r)}finally{Ge.transition=s,B=r}return null}function Qm(e,t,n,r){do Dn();while(Dt!==null);if(H&6)throw Error(_(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jp(e,i),e===ue&&(ie=ue=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,Ud(Ss,function(){return Dn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var o=B;B=1;var l=H;H|=4,Ol.current=null,Am(e,n),Td(n,e),fm(vo),xs=!!yo,vo=yo=null,e.current=n,Wm(n),yp(),H=l,B=o,Ge.transition=i}else e.current=n;if(qr&&(qr=!1,Dt=e,Ls=s),i=e.pendingLanes,i===0&&(zt=null),Sp(n.stateNode),De(e,re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Us)throw Us=!1,e=Lo,Lo=null,e;return Ls&1&&e.tag!==0&&Dn(),i=e.pendingLanes,i&1?e===$o?ur++:(ur=0,$o=e):ur=0,Gt(),null}function Dn(){if(Dt!==null){var e=mc(Ls),t=Ge.transition,n=B;try{if(Ge.transition=null,B=16>e?16:e,Dt===null)var r=!1;else{if(e=Dt,Dt=null,Ls=0,H&6)throw Error(_(331));var s=H;for(H|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(O=c;O!==null;){var f=O;switch(f.tag){case 0:case 11:case 15:lr(8,f,i)}var m=f.child;if(m!==null)m.return=f,O=m;else for(;O!==null;){f=O;var y=f.sibling,h=f.return;if(Nd(f),f===c){O=null;break}if(y!==null){y.return=h,O=y;break}O=h}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var d=e.current;for(O=d;O!==null;){o=O;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,O=p;else e:for(o=d;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ri(9,l)}}catch(N){ne(l,l.return,N)}if(l===o){O=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,O=C;break e}O=l.return}}if(H=s,Gt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ys,e)}catch{}r=!0}return r}finally{B=n,Ge.transition=t}}return!1}function uu(e,t,n){t=zn(n,t),t=md(e,t,1),e=Ot(e,t,1),t=Ce(),e!==null&&(Ir(e,1,t),De(e,t))}function ne(e,t,n){if(e.tag===3)uu(e,e,n);else for(;t!==null;){if(t.tag===3){uu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){e=zn(n,e),e=hd(t,e,1),t=Ot(t,e,1),e=Ce(),t!==null&&(Ir(t,1,e),De(t,e));break}}t=t.return}}function Km(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,ue===e&&(pe&n)===n&&(le===4||le===3&&(pe&130023424)===pe&&500>re()-Fl?Jt(e,0):zl|=n),De(e,t)}function zd(e,t){t===0&&(e.mode&1?(t=Gr,Gr<<=1,!(Gr&130023424)&&(Gr=4194304)):t=1);var n=Ce();e=wt(e,t),e!==null&&(Ir(e,t,n),De(e,n))}function bm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zd(e,n)}function Ym(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),zd(e,n)}var Fd;Fd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,Fm(e,t,n);je=!!(e.flags&131072)}else je=!1,X&&t.flags&1048576&&Ac(t,Ds,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cs(e,t),e=t.pendingProps;var s=Rn(t,ve.current);Tn(t,n),s=Dl(null,t,r,e,s,n);var i=Ml();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(r)?(i=!0,_s(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,El(t),s.updater=ni,t.stateNode=s,s._reactInternals=t,_o(t,r,e,n),t=Mo(null,t,r,!0,i,n)):(t.tag=0,X&&i&&yl(t),Se(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Xm(r),e=Ke(r,e),s){case 0:t=Do(null,t,r,e,n);break e;case 1:t=qa(null,t,r,e,n);break e;case 11:t=Xa(null,t,r,e,n);break e;case 14:t=Za(null,t,r,Ke(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),Do(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),qa(e,t,r,s,n);case 3:e:{if(wd(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Qc(e,t),Is(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zn(Error(_(423)),t),t=eu(e,t,r,n,s);break e}else if(r!==s){s=zn(Error(_(424)),t),t=eu(e,t,r,n,s);break e}else for(Ie=Pt(t.stateNode.containerInfo.firstChild),Oe=t,X=!0,Ye=null,n=Bc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(In(),r===s){t=St(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return Kc(t),e===null&&Eo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,wo(r,s)?o=null:i!==null&&wo(r,i)&&(t.flags|=32),vd(e,t),Se(e,t,o,n),t.child;case 6:return e===null&&Eo(t),null;case 13:return Sd(e,t,n);case 4:return Nl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pn(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),Xa(e,t,r,s,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(Ms,r._currentValue),r._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!_e.current){t=St(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=ht(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),No(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),No(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Se(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Tn(t,n),s=Be(s),r=r(s),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,s=Ke(r,t.pendingProps),s=Ke(r.type,s),Za(e,t,r,s,n);case 15:return gd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),cs(e,t),t.tag=1,Te(r)?(e=!0,_s(t)):e=!1,Tn(t,n),pd(t,r,s),_o(t,r,s,n),Mo(null,t,r,!0,e,n);case 19:return Cd(e,t,n);case 22:return yd(e,t,n)}throw Error(_(156,t.tag))};function Ud(e,t){return cc(e,t)}function Jm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,r){return new Jm(e,t,n,r)}function Al(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xm(e){if(typeof e=="function")return Al(e)?1:0;if(e!=null){if(e=e.$$typeof,e===il)return 11;if(e===ol)return 14}return 2}function Ut(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ps(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Al(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pn:return Xt(n.children,s,i,t);case sl:o=8,s|=8;break;case Ji:return e=He(12,n,t,s|2),e.elementType=Ji,e.lanes=i,e;case Xi:return e=He(13,n,t,s),e.elementType=Xi,e.lanes=i,e;case Zi:return e=He(19,n,t,s),e.elementType=Zi,e.lanes=i,e;case Ku:return ii(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vu:o=10;break e;case Qu:o=9;break e;case il:o=11;break e;case ol:o=14;break e;case Et:o=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=He(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Xt(e,t,n,r){return e=He(7,e,r,t),e.lanes=n,e}function ii(e,t,n,r){return e=He(22,e,r,t),e.elementType=Ku,e.lanes=n,e.stateNode={isHidden:!1},e}function $i(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function Ai(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wl(e,t,n,r,s,i,o,l,a){return e=new Zm(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),e}function qm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ld(e){if(!e)return $t;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Te(n))return Lc(e,n,t)}return t}function $d(e,t,n,r,s,i,o,l,a){return e=Wl(n,r,!0,e,s,i,o,l,a),e.context=Ld(null),n=e.current,r=Ce(),s=Ft(n),i=ht(r,s),i.callback=t??null,Ot(n,i,s),e.current.lanes=s,Ir(e,s,r),De(e,r),e}function oi(e,t,n,r){var s=t.current,i=Ce(),o=Ft(s);return n=Ld(n),t.context===null?t.context=n:t.pendingContext=n,t=ht(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ot(s,t,o),e!==null&&(Ze(e,s,o,i),ls(e,s,o)),o}function As(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hl(e,t){cu(e,t),(e=e.alternate)&&cu(e,t)}function eh(){return null}var Ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}li.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));oi(e,t,null,null)};li.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rn(function(){oi(null,e,null,null)}),t[vt]=null}};function li(e){this._internalRoot=e}li.prototype.unstable_scheduleHydration=function(e){if(e){var t=yc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&wc(e)}};function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function th(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=As(o);i.call(c)}}var o=$d(t,r,e,0,null,!1,!1,"",du);return e._reactRootContainer=o,e[vt]=o.current,wr(e.nodeType===8?e.parentNode:e),rn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=As(a);l.call(c)}}var a=Wl(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=a,e[vt]=a.current,wr(e.nodeType===8?e.parentNode:e),rn(function(){oi(t,a,n,r)}),a}function ui(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=As(o);l.call(a)}}oi(t,o,e,s)}else o=th(n,t,e,s,r);return As(o)}hc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zn(t.pendingLanes);n!==0&&(ul(t,n|1),De(t,re()),!(H&6)&&(Fn=re()+500,Gt()))}break;case 13:rn(function(){var r=wt(e,1);if(r!==null){var s=Ce();Ze(r,e,1,s)}}),Hl(e,1)}};cl=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var n=Ce();Ze(t,e,134217728,n)}Hl(e,134217728)}};gc=function(e){if(e.tag===13){var t=Ft(e),n=wt(e,t);if(n!==null){var r=Ce();Ze(n,e,t,r)}Hl(e,t)}};yc=function(){return B};vc=function(e,t){var n=B;try{return B=e,t()}finally{B=n}};ao=function(e,t,n){switch(t){case"input":if(to(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=qs(r);if(!s)throw Error(_(90));Yu(r),to(r,s)}}}break;case"textarea":Xu(e,n);break;case"select":t=n.value,t!=null&&En(e,!!n.multiple,t,!1)}};sc=Ul;ic=rn;var nh={usingClientEntryPoint:!1,Events:[Or,yn,qs,nc,rc,Ul]},Yn={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rh={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ac(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||eh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Ys=es.inject(rh),st=es}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nh;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bl(t))throw Error(_(200));return qm(e,t,null,n)};Le.createRoot=function(e,t){if(!Bl(e))throw Error(_(299));var n=!1,r="",s=Ad;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wl(e,1,!1,null,null,n,!1,r,s),e[vt]=t.current,wr(e.nodeType===8?e.parentNode:e),new Gl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=ac(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return rn(e)};Le.hydrate=function(e,t,n){if(!ai(t))throw Error(_(200));return ui(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!Bl(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ad;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$d(t,null,e,1,n??null,s,!1,i,o),e[vt]=t.current,wr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new li(t)};Le.render=function(e,t,n){if(!ai(t))throw Error(_(200));return ui(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!ai(e))throw Error(_(40));return e._reactRootContainer?(rn(function(){ui(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};Le.unstable_batchedUpdates=Ul;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ai(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return ui(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function Wd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wd)}catch(e){console.error(e)}}Wd(),Wu.exports=Le;var sh=Wu.exports,fu=sh;bi.createRoot=fu.createRoot,bi.hydrateRoot=fu.hydrateRoot;var Hd={exports:{}},Gd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=R;function ih(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oh=typeof Object.is=="function"?Object.is:ih,lh=Fr.useSyncExternalStore,ah=Fr.useRef,uh=Fr.useEffect,ch=Fr.useMemo,dh=Fr.useDebugValue;Gd.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=ah(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ch(function(){function a(h){if(!c){if(c=!0,f=h,h=r(h),s!==void 0&&o.hasValue){var v=o.value;if(s(v,h))return m=v}return m=h}if(v=m,oh(f,h))return v;var k=r(h);return s!==void 0&&s(v,k)?v:(f=h,m=k)}var c=!1,f,m,y=n===void 0?null:n;return[function(){return a(t())},y===null?void 0:function(){return a(y())}]},[t,n,r,s]);var l=lh(e,i[0],i[1]);return uh(function(){o.hasValue=!0,o.value=l},[l]),dh(l),l};Hd.exports=Gd;var fh=Hd.exports,Pe="default"in oa?el:oa,pu=Symbol.for("react-redux-context"),mu=typeof globalThis<"u"?globalThis:{};function ph(){if(!Pe.createContext)return{};const e=mu[pu]??(mu[pu]=new Map);let t=e.get(Pe.createContext);return t||(t=Pe.createContext(null),e.set(Pe.createContext,t)),t}var At=ph(),mh=()=>{throw new Error("uSES not initialized!")};function Vl(e=At){return function(){return Pe.useContext(e)}}var Bd=Vl(),Vd=mh,hh=e=>{Vd=e},gh=(e,t)=>e===t;function yh(e=At){const t=e===At?Bd:Vl(e),n=(r,s={})=>{const{equalityFn:i=gh,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:a,getServerState:c,stabilityCheck:f,identityFunctionCheck:m}=t();Pe.useRef(!0);const y=Pe.useCallback({[r.name](v){return r(v)}}[r.name],[r,f,o.stabilityCheck]),h=Vd(a.addNestedSub,l.getState,c||l.getState,y,i);return Pe.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var vh=yh();function wh(e){e()}function Sh(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wh(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var hu={notify(){},get:()=>[]};function Ch(e,t){let n,r=hu,s=0,i=!1;function o(k){f();const E=r.subscribe(k);let g=!1;return()=>{g||(g=!0,E(),m())}}function l(){r.notify()}function a(){v.onStateChange&&v.onStateChange()}function c(){return i}function f(){s++,n||(n=e.subscribe(a),r=Sh())}function m(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=hu)}function y(){i||(i=!0,f())}function h(){i&&(i=!1,m())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:c,trySubscribe:y,tryUnsubscribe:h,getListeners:()=>r};return v}var xh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kh=typeof navigator<"u"&&navigator.product==="ReactNative",Eh=xh||kh?Pe.useLayoutEffect:Pe.useEffect;function Nh({store:e,context:t,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=Pe.useMemo(()=>{const c=Ch(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[e,r,s,i]),l=Pe.useMemo(()=>e.getState(),[e]);Eh(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const a=t||At;return Pe.createElement(a.Provider,{value:o},n)}var jh=Nh;function Qd(e=At){const t=e===At?Bd:Vl(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var _h=Qd();function Th(e=At){const t=e===At?_h:Qd(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Dh=Th();hh(fh.useSyncExternalStoreWithSelector);function de(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Mh=typeof Symbol=="function"&&Symbol.observable||"@@observable",gu=Mh,Wi=()=>Math.random().toString(36).substring(7).split("").join("."),Rh={INIT:`@@redux/INIT${Wi()}`,REPLACE:`@@redux/REPLACE${Wi()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wi()}`},Ws=Rh;function Ql(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Kd(e,t,n){if(typeof e!="function")throw new Error(de(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(de(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(de(1));return n(Kd)(e,t)}let r=e,s=t,i=new Map,o=i,l=0,a=!1;function c(){o===i&&(o=new Map,i.forEach((E,g)=>{o.set(g,E)}))}function f(){if(a)throw new Error(de(3));return s}function m(E){if(typeof E!="function")throw new Error(de(4));if(a)throw new Error(de(5));let g=!0;c();const d=l++;return o.set(d,E),function(){if(g){if(a)throw new Error(de(6));g=!1,c(),o.delete(d),i=null}}}function y(E){if(!Ql(E))throw new Error(de(7));if(typeof E.type>"u")throw new Error(de(8));if(typeof E.type!="string")throw new Error(de(17));if(a)throw new Error(de(9));try{a=!0,s=r(s,E)}finally{a=!1}return(i=o).forEach(d=>{d()}),E}function h(E){if(typeof E!="function")throw new Error(de(10));r=E,y({type:Ws.REPLACE})}function v(){const E=m;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(de(11));function d(){const C=g;C.next&&C.next(f())}return d(),{unsubscribe:E(d)}},[gu](){return this}}}return y({type:Ws.INIT}),{dispatch:y,subscribe:m,getState:f,replaceReducer:h,[gu]:v}}function Ih(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ws.INIT})>"u")throw new Error(de(12));if(typeof n(void 0,{type:Ws.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(de(13))})}function Ph(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let s;try{Ih(n)}catch(i){s=i}return function(o={},l){if(s)throw s;let a=!1;const c={};for(let f=0;f<r.length;f++){const m=r[f],y=n[m],h=o[m],v=y(h,l);if(typeof v>"u")throw l&&l.type,new Error(de(14));c[m]=v,a=a||v!==h}return a=a||r.length!==Object.keys(o).length,a?c:o}}function Hs(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Oh(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error(de(15))};const o={getState:s.getState,dispatch:(a,...c)=>i(a,...c)},l=e.map(a=>a(o));return i=Hs(...l)(s.dispatch),{...s,dispatch:i}}}function zh(e){return Ql(e)&&"type"in e&&typeof e.type=="string"}var bd=Symbol.for("immer-nothing"),yu=Symbol.for("immer-draftable"),Fe=Symbol.for("immer-state");function Je(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Un=Object.getPrototypeOf;function sn(e){return!!e&&!!e[Fe]}function Ct(e){var t;return e?Yd(e)||Array.isArray(e)||!!e[yu]||!!((t=e.constructor)!=null&&t[yu])||di(e)||fi(e):!1}var Fh=Object.prototype.constructor.toString();function Yd(e){if(!e||typeof e!="object")return!1;const t=Un(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Fh}function Gs(e,t){ci(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ci(e){const t=e[Fe];return t?t.type_:Array.isArray(e)?1:di(e)?2:fi(e)?3:0}function Ho(e,t){return ci(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jd(e,t,n){const r=ci(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Uh(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function di(e){return e instanceof Map}function fi(e){return e instanceof Set}function Qt(e){return e.copy_||e.base_}function Go(e,t){if(di(e))return new Map(e);if(fi(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Yd(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fe];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Un(e),r)}else{const r=Un(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Kl(e,t=!1){return pi(e)||sn(e)||!Ct(e)||(ci(e)>1&&(e.set=e.add=e.clear=e.delete=Lh),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Kl(r,!0))),e}function Lh(){Je(2)}function pi(e){return Object.isFrozen(e)}var $h={};function on(e){const t=$h[e];return t||Je(0,e),t}var Tr;function Xd(){return Tr}function Ah(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vu(e,t){t&&(on("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bo(e){Vo(e),e.drafts_.forEach(Wh),e.drafts_=null}function Vo(e){e===Tr&&(Tr=e.parent_)}function wu(e){return Tr=Ah(Tr,e)}function Wh(e){const t=e[Fe];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Su(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fe].modified_&&(Bo(t),Je(4)),Ct(e)&&(e=Bs(t,e),t.parent_||Vs(t,e)),t.patches_&&on("Patches").generateReplacementPatches_(n[Fe].base_,e,t.patches_,t.inversePatches_)):e=Bs(t,n,[]),Bo(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bd?e:void 0}function Bs(e,t,n){if(pi(t))return t;const r=t[Fe];if(!r)return Gs(t,(s,i)=>Cu(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Vs(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),Gs(i,(l,a)=>Cu(e,r,s,l,a,n,o)),Vs(e,s,!1),n&&e.patches_&&on("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Cu(e,t,n,r,s,i,o){if(sn(s)){const l=i&&t&&t.type_!==3&&!Ho(t.assigned_,r)?i.concat(r):void 0,a=Bs(e,s,l);if(Jd(n,r,a),sn(a))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Ct(s)&&!pi(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bs(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Vs(e,s)}}function Vs(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kl(t,n)}function Hh(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Xd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=bl;n&&(s=[r],i=Dr);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return r.draft_=l,r.revoke_=o,l}var bl={get(e,t){if(t===Fe)return e;const n=Qt(e);if(!Ho(n,t))return Gh(e,n,t);const r=n[t];return e.finalized_||!Ct(r)?r:r===Hi(e.base_,t)?(Gi(e),e.copy_[t]=Ko(r,e)):r},has(e,t){return t in Qt(e)},ownKeys(e){return Reflect.ownKeys(Qt(e))},set(e,t,n){const r=Zd(Qt(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Hi(Qt(e),t),i=s==null?void 0:s[Fe];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Uh(n,s)&&(n!==void 0||Ho(e.base_,t)))return!0;Gi(e),Qo(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Hi(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gi(e),Qo(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Je(11)},getPrototypeOf(e){return Un(e.base_)},setPrototypeOf(){Je(12)}},Dr={};Gs(bl,(e,t)=>{Dr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Dr.deleteProperty=function(e,t){return Dr.set.call(this,e,t,void 0)};Dr.set=function(e,t,n){return bl.set.call(this,e[0],t,n,e[0])};function Hi(e,t){const n=e[Fe];return(n?Qt(n):e)[t]}function Gh(e,t,n){var s;const r=Zd(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function Zd(e,t){if(!(t in e))return;let n=Un(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Un(n)}}function Qo(e){e.modified_||(e.modified_=!0,e.parent_&&Qo(e.parent_))}function Gi(e){e.copy_||(e.copy_=Go(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Bh=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(a=i,...c){return o.produce(a,f=>n.call(this,f,...c))}}typeof n!="function"&&Je(6),r!==void 0&&typeof r!="function"&&Je(7);let s;if(Ct(t)){const i=wu(this),o=Ko(t,void 0);let l=!0;try{s=n(o),l=!1}finally{l?Bo(i):Vo(i)}return vu(i,r),Su(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===bd&&(s=void 0),this.autoFreeze_&&Kl(s,!0),r){const i=[],o=[];on("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else Je(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,a=>t(a,...l));let r,s;return[this.produce(t,n,(o,l)=>{r=o,s=l}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ct(e)||Je(8),sn(e)&&(e=Vh(e));const t=wu(this),n=Ko(e,void 0);return n[Fe].isManual_=!0,Vo(t),n}finishDraft(e,t){const n=e&&e[Fe];(!n||!n.isManual_)&&Je(9);const{scope_:r}=n;return vu(r,t),Su(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=on("Patches").applyPatches_;return sn(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Ko(e,t){const n=di(e)?on("MapSet").proxyMap_(e,t):fi(e)?on("MapSet").proxySet_(e,t):Hh(e,t);return(t?t.scope_:Xd()).drafts_.push(n),n}function Vh(e){return sn(e)||Je(10,e),qd(e)}function qd(e){if(!Ct(e)||pi(e))return e;const t=e[Fe];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Go(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Go(e,!0);return Gs(n,(r,s)=>{Jd(n,r,qd(s))}),t&&(t.finalized_=!1),n}var Ue=new Bh,ef=Ue.produce;Ue.produceWithPatches.bind(Ue);Ue.setAutoFreeze.bind(Ue);Ue.setUseStrictShallowCopy.bind(Ue);Ue.applyPatches.bind(Ue);Ue.createDraft.bind(Ue);Ue.finishDraft.bind(Ue);function tf(e){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,e):s(i)}var Qh=tf(),Kh=tf,bh=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hs:Hs.apply(null,arguments)},Yh=e=>e&&typeof e.match=="function";function cr(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(gt(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>zh(r)&&r.type===e,n}var nf=class er extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,er.prototype)}static get[Symbol.species](){return er}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new er(...t[0].concat(this)):new er(...t.concat(this))}};function xu(e){return Ct(e)?ef(e,()=>{}):e}function ku(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Jh(e){return typeof e=="boolean"}var Xh=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new nf;return n&&(Jh(n)?o.push(Qh):o.push(Kh(n.extraArgument))),o},Zh="RTK_autoBatch",Eu=e=>t=>{setTimeout(t,e)},qh=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,i=!1,o=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Eu(10):e.type==="callback"?e.queueNotification:Eu(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>s&&f(),y=r.subscribe(m);return l.add(f),()=>{y(),l.delete(f)}},dispatch(f){var m;try{return s=!((m=f==null?void 0:f.meta)!=null&&m[Zh]),i=!s,i&&(o||(o=!0,a(c))),r.dispatch(f)}finally{s=!0}}})},eg=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new nf(e);return r&&s.push(qh(typeof r=="object"?r:void 0)),s};function tg(e){const t=Xh(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Ql(n))l=Ph(n);else throw new Error(gt(1));let a;typeof r=="function"?a=r(t):a=t();let c=Hs;s&&(c=bh({trace:!1,...typeof s=="object"&&s}));const f=Oh(...a),m=eg(f);let y=typeof o=="function"?o(m):m();const h=c(...y);return Kd(l,i,h)}function rf(e){const t={},n=[];let r;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(gt(28));if(l in t)throw new Error(gt(29));return t[l]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return e(s),[t,n,r]}function ng(e){return typeof e=="function"}function rg(e,t){let[n,r,s]=rf(t),i;if(ng(e))i=()=>xu(e());else{const l=xu(e);i=()=>l}function o(l=i(),a){let c=[n[a.type],...r.filter(({matcher:f})=>f(a)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[s]),c.reduce((f,m)=>{if(m)if(sn(f)){const h=m(f,a);return h===void 0?f:h}else{if(Ct(f))return ef(f,y=>m(y,a));{const y=m(f,a);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return f},l)}return o.getInitialState=i,o}var sg=(e,t)=>Yh(e)?e.match(t):e(t);function ig(...e){return t=>e.some(n=>sg(n,t))}var og="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lg=(e=21)=>{let t="",n=e;for(;n--;)t+=og[Math.random()*64|0];return t},ag=["name","message","stack","code"],Bi=class{constructor(e,t){mi(this,"_type");this.payload=e,this.meta=t}},Nu=class{constructor(e,t){mi(this,"_type");this.payload=e,this.meta=t}},ug=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of ag)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},Me=(()=>{function e(t,n,r){const s=cr(t+"/fulfilled",(a,c,f,m)=>({payload:a,meta:{...m||{},arg:f,requestId:c,requestStatus:"fulfilled"}})),i=cr(t+"/pending",(a,c,f)=>({payload:void 0,meta:{...f||{},arg:c,requestId:a,requestStatus:"pending"}})),o=cr(t+"/rejected",(a,c,f,m,y)=>({payload:m,error:(r&&r.serializeError||ug)(a||"Rejected"),meta:{...y||{},arg:f,requestId:c,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(c,f,m)=>{const y=r!=null&&r.idGenerator?r.idGenerator(a):lg(),h=new AbortController;let v,k;function E(d){k=d,h.abort()}const g=async function(){var C,N;let d;try{let S=(C=r==null?void 0:r.condition)==null?void 0:C.call(r,a,{getState:f,extra:m});if(dg(S)&&(S=await S),S===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((w,M)=>{v=()=>{M({name:"AbortError",message:k||"Aborted"})},h.signal.addEventListener("abort",v)});c(i(y,a,(N=r==null?void 0:r.getPendingMeta)==null?void 0:N.call(r,{requestId:y,arg:a},{getState:f,extra:m}))),d=await Promise.race([x,Promise.resolve(n(a,{dispatch:c,getState:f,extra:m,requestId:y,signal:h.signal,abort:E,rejectWithValue:(w,M)=>new Bi(w,M),fulfillWithValue:(w,M)=>new Nu(w,M)})).then(w=>{if(w instanceof Bi)throw w;return w instanceof Nu?s(w.payload,y,a,w.meta):s(w,y,a)})])}catch(S){d=S instanceof Bi?o(null,y,a,S.payload,S.meta):o(S,y,a)}finally{v&&h.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(d)&&d.meta.condition||c(d),d}();return Object.assign(g,{abort:E,requestId:y,arg:a,unwrap(){return g.then(cg)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,settled:ig(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function cg(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function dg(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var fg=Symbol.for("rtk-slice-createasyncthunk");function pg(e,t){return`${e}/${t}`}function mg({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[fg];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(gt(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(gg()):s.reducers)||{},a=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(p,C){const N=typeof p=="string"?p:p.type;if(!N)throw new Error(gt(12));if(N in c.sliceCaseReducersByType)throw new Error(gt(13));return c.sliceCaseReducersByType[N]=C,f},addMatcher(p,C){return c.sliceMatchers.push({matcher:p,reducer:C}),f},exposeAction(p,C){return c.actionCreators[p]=C,f},exposeCaseReducer(p,C){return c.sliceCaseReducersByName[p]=C,f}};a.forEach(p=>{const C=l[p],N={reducerName:p,type:pg(i,p),createNotation:typeof s.reducers=="function"};vg(C)?Sg(N,C,f,t):yg(N,C,f)});function m(){const[p={},C=[],N=void 0]=typeof s.extraReducers=="function"?rf(s.extraReducers):[s.extraReducers],S={...p,...c.sliceCaseReducersByType};return rg(s.initialState,x=>{for(let w in S)x.addCase(w,S[w]);for(let w of c.sliceMatchers)x.addMatcher(w.matcher,w.reducer);for(let w of C)x.addMatcher(w.matcher,w.reducer);N&&x.addDefaultCase(N)})}const y=p=>p,h=new Map;let v;function k(p,C){return v||(v=m()),v(p,C)}function E(){return v||(v=m()),v.getInitialState()}function g(p,C=!1){function N(x){let w=x[p];return typeof w>"u"&&C&&(w=E()),w}function S(x=y){const w=ku(h,C,()=>new WeakMap);return ku(w,x,()=>{const M={};for(const[P,U]of Object.entries(s.selectors??{}))M[P]=hg(U,x,E,C);return M})}return{reducerPath:p,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const d={name:i,reducer:k,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...g(o),injectInto(p,{reducerPath:C,...N}={}){const S=C??o;return p.inject({reducerPath:S,reducer:k},N),{...d,...g(S,!0)}}};return d}}function hg(e,t,n,r){function s(i,...o){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return s.unwrapped=e,s}var sf=mg();function gg(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function yg({type:e,reducerName:t,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!wg(r))throw new Error(gt(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?cr(e,o):cr(e))}function vg(e){return e._reducerDefinitionType==="asyncThunk"}function wg(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Sg({type:e,reducerName:t},n,r,s){if(!s)throw new Error(gt(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:a,settled:c,options:f}=n,m=s(e,i,f);r.exposeAction(t,m),o&&r.addCase(m.fulfilled,o),l&&r.addCase(m.pending,l),a&&r.addCase(m.rejected,a),c&&r.addMatcher(m.settled,c),r.exposeCaseReducer(t,{fulfilled:o||ts,pending:l||ts,rejected:a||ts,settled:c||ts})}function ts(){}function gt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Yl=()=>localStorage.getItem("SERVER_URL")||window.location.hostname,Jl=()=>localStorage.getItem("API_PORT")||"443",Xl=()=>localStorage.getItem("USE_HTTPS")==="true"||window.location.protocol==="https:",Cg=()=>`${Xl()?"https:":"http:"}//${Yl()}:${Jl()}`,xg=()=>`${Xl()?"wss:":"ws:"}//${Yl()}:${Jl()}`,ot={apiUrl:Cg(),wsUrl:xg(),getServerUrl:Yl,getApiPort:Jl,isHttps:Xl};class kg{constructor(){this.baseDirectory=null,this.cachedData={messages:{},users:[],recentContacts:{}},this.fileCache=new Map}async saveGroup(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups"),r=`group_${t.id}.json`,i=await(await n.getFileHandle(r,{create:!0})).createWritable();await i.write(JSON.stringify(t,null,2)),await i.close(),console.log(`[FileStorage] Saved group: ${t.id}`)}catch(n){throw console.error("[FileStorage] Error saving group:",n),n}}async getGroups(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups"),r=[];for await(const s of n.values())if(s.kind==="file"&&s.name.startsWith("group_")&&s.name.endsWith(".json"))try{const l=await(await(await n.getFileHandle(s.name)).getFile()).text(),a=JSON.parse(l);r.push(a)}catch(i){console.error(`[FileStorage] Error loading group ${s.name}:`,i)}return console.log(`[FileStorage] Loaded ${r.length} groups for user ${t}`),r}catch(n){return console.error("[FileStorage] Error loading groups:",n),[]}}async saveGroupMessage(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups/messages"),r=`group_${t.groupId}_messages.json`;let s=[];try{const l=await(await(await n.getFileHandle(r)).getFile()).text();s=JSON.parse(l)}catch{}if(!s.some(i=>i.id===t.id)){s.push(t),s.sort((l,a)=>new Date(l.timestamp).getTime()-new Date(a.timestamp).getTime());const o=await(await n.getFileHandle(r,{create:!0})).createWritable();await o.write(JSON.stringify(s,null,2)),await o.close(),console.log(`[FileStorage] Saved group message ${t.id} to ${r}`)}}catch(n){throw console.error("[FileStorage] Error saving group message:",n),n}}async getGroupMessages(t){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const n=await this.getOrCreateDirectory("groups/messages"),r=`group_${t}_messages.json`;try{const o=await(await(await n.getFileHandle(r)).getFile()).text(),l=JSON.parse(o);return console.log(`[FileStorage] Loaded ${l.length} messages for group ${t}`),l}catch{return console.log(`[FileStorage] No messages found for group ${t}`),[]}}catch(n){return console.error("[FileStorage] Error loading group messages:",n),[]}}async deleteGroupData(t,n){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const r=await this.getOrCreateDirectory("groups"),s=await this.getOrCreateDirectory("groups/messages");try{await r.removeEntry(`group_${t}.json`),console.log(`[FileStorage] Deleted group file for ${t}`)}catch{console.log("[FileStorage] Group file not found")}try{await s.removeEntry(`group_${t}_messages.json`),console.log(`[FileStorage] Deleted group messages for ${t}`)}catch{console.log("[FileStorage] Group messages file not found")}console.log(`[FileStorage] Deleted all group data for ${t}`)}catch(r){throw console.error("[FileStorage] Error deleting group data:",r),r}}async initialize(){if(!this.baseDirectory)try{const t=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});this.baseDirectory=t,await this.ensureDirectoryStructure(),await this.loadCachedData()}catch(t){throw console.error("Error initializing file system:",t),new Error("Failed to initialize file system storage")}}createMessageKey(t,n){const r=[t,n].sort();return`msg_${r[0]}_to_${r[1]}`}parseMessageKey(t){const n=t.match(/^msg_(.+)_to_(.+)\.json$/);return n?{fromId:n[1],toId:n[2]}:null}async ensureDirectoryStructure(){if(this.baseDirectory)try{await this.getOrCreateDirectory("messages"),await this.getOrCreateDirectory("users"),await this.getOrCreateDirectory("contacts"),await this.getOrCreateDirectory("files")}catch(t){console.error("Error creating directory structure:",t)}}async getOrCreateDirectory(t){if(!this.baseDirectory)throw new Error("Storage not initialized");return await this.baseDirectory.getDirectoryHandle(t,{create:!0})}async saveFileData(t,n){if(!this.baseDirectory)throw new Error("Storage not initialized");try{const r=await this.getOrCreateDirectory("files"),s=n.name.split(".").pop()||"bin",i=`${t}.${s}`,l=await(await r.getFileHandle(i,{create:!0})).createWritable();await l.write(n),await l.close();const a=`${t}.meta.json`,c={originalName:n.name,type:n.type,size:n.size,lastModified:n.lastModified,storedFileName:i},m=await(await r.getFileHandle(a,{create:!0})).createWritable();await m.write(JSON.stringify(c,null,2)),await m.close(),console.log(`Saved file data for message ${t}: ${n.name}`)}catch(r){throw console.error("Error saving file data:",r),r}}async getFileData(t){if(!this.baseDirectory)throw new Error("Storage not initialized");if(this.fileCache.has(t))return{file:null,url:this.fileCache.get(t)};try{const n=await this.getOrCreateDirectory("files"),r=`${t}.meta.json`,o=await(await(await n.getFileHandle(r)).getFile()).text(),l=JSON.parse(o),c=await(await n.getFileHandle(l.storedFileName)).getFile(),f=new File([c],l.originalName,{type:l.type,lastModified:l.lastModified}),m=URL.createObjectURL(f);return this.fileCache.set(t,m),{file:f,url:m}}catch{return console.log(`No stored file found for message ${t}`),null}}cleanupFileCache(){this.fileCache.forEach(t=>URL.revokeObjectURL(t)),this.fileCache.clear()}async loadCachedData(){if(this.baseDirectory)try{const t=await this.readFile("users/users.json");t&&(this.cachedData.users=JSON.parse(t));const n=await this.readFile("contacts/contacts.json");n&&(this.cachedData.recentContacts=JSON.parse(n));const r=await this.getOrCreateDirectory("messages");for await(const s of r.values())if(s.kind==="file"&&s.name.endsWith(".json")){const i=s.name.replace(".json",""),o=await this.readFile(`messages/${s.name}`);o&&(this.cachedData.messages[i]=JSON.parse(o))}}catch(t){console.error("Error loading cached data:",t)}}async readFile(t){if(!this.baseDirectory)return null;try{const n=t.split("/"),r=n.pop();let s=this.baseDirectory;for(const l of n)s=await s.getDirectoryHandle(l);return await(await(await s.getFileHandle(r)).getFile()).text()}catch{return null}}async writeFile(t,n){if(this.baseDirectory)try{const r=t.split("/"),s=r.pop();let i=this.baseDirectory;for(const a of r)i=await i.getDirectoryHandle(a,{create:!0});const l=await(await i.getFileHandle(s,{create:!0})).createWritable();await l.write(n),await l.close()}catch(r){console.error("Error writing file:",r)}}async saveMessage(t){if(t.content!=="delivered")try{const n=await this.getOrCreateDirectory("messages"),s=`${this.createMessageKey(t.fromId,t.toId)}.json`;let i=[];try{const c=await(await(await n.getFileHandle(s)).getFile()).text();i=JSON.parse(c)}catch{console.log(`Creating new message file: ${s}`)}if(!i.some(l=>l.id===t.id)){const l={...t,savedAt:new Date().toISOString()};i.push(l);const a=`${t.fromId}:${t.toId}`;this.cachedData.messages[a]=i;const f=await(await n.getFileHandle(s,{create:!0})).createWritable();await f.write(JSON.stringify(i,null,2)),await f.close(),console.log(`Saved message to ${s}:`,l)}}catch(n){throw console.error("Error saving message:",n),new Error("Failed to save message")}}async getMessages(t,n){try{const r=await this.getOrCreateDirectory("messages"),s=`${this.createMessageKey(t,n)}.json`;try{const l=await(await(await r.getFileHandle(s)).getFile()).text(),a=JSON.parse(l),c=`${t}:${n}`;return this.cachedData.messages[c]=a,a}catch{return[]}}catch(r){return console.error("Error loading messages:",r),[]}}async saveUser(t){const n=this.cachedData.users.find(r=>r.id===t);n?n.lastActive=new Date().toISOString():this.cachedData.users.push({id:t,lastActive:new Date().toISOString()}),await this.writeFile("users/users.json",JSON.stringify(this.cachedData.users))}async deleteUserData(t){this.cachedData.users=this.cachedData.users.filter(s=>s.id!==t),await this.writeFile("users/users.json",JSON.stringify(this.cachedData.users));const n=await this.getOrCreateDirectory("messages"),r=await this.getOrCreateDirectory("files");try{const s=new Set;for await(const i of n.values())if(i.kind==="file"&&i.name.endsWith(".json")&&(i.name.includes(`msg_${t}_to_`)||i.name.includes(`_to_${t}.json`)))try{const a=await(await(await n.getFileHandle(i.name)).getFile()).text();JSON.parse(a).forEach(f=>s.add(f.id)),await n.removeEntry(i.name),console.log(`Successfully deleted file: ${i.name}`)}catch(o){console.error(`Error deleting file ${i.name}:`,o)}for await(const i of r.values())if(i.kind==="file"){const o=i.name.split(".")[0];if(s.has(o))try{await r.removeEntry(i.name),console.log(`Deleted file data: ${i.name}`)}catch(l){console.error(`Error deleting file data ${i.name}:`,l)}}for(const i in this.cachedData.messages)i.includes(t)&&delete this.cachedData.messages[i];delete this.cachedData.recentContacts[t],await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts)),this.cleanupFileCache()}catch(s){throw console.error("Error deleting user data:",s),new Error("Failed to delete user data")}}async deleteContactHistory(t,n){try{if(!(await fetch(`${ot.apiUrl}/api/messages/${t}/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete messages from server")}catch(f){throw console.error("Error deleting messages from server:",f),f}const s=`${this.createMessageKey(t,n)}.json`,i=new Set;try{const h=await(await(await(await this.getOrCreateDirectory("messages")).getFileHandle(s)).getFile()).text();JSON.parse(h).forEach(k=>i.add(k.id))}catch{console.log("No messages file found to get IDs from")}const o=`${t}:${n}`,l=`${n}:${t}`;delete this.cachedData.messages[o],delete this.cachedData.messages[l];const a=await this.getOrCreateDirectory("messages"),c=await this.getOrCreateDirectory("files");try{await a.removeEntry(s);const f=`${this.createMessageKey(n,t)}.json`;try{await a.removeEntry(f)}catch{}for await(const m of c.values())if(m.kind==="file"){const y=m.name.split(".")[0];if(i.has(y))try{await c.removeEntry(m.name),console.log(`Deleted file data: ${m.name}`)}catch(h){console.error(`Error deleting file data ${m.name}:`,h)}}this.cachedData.recentContacts[t]&&(this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].filter(m=>m.userId!==n),await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts)))}catch(f){throw console.error("Error deleting contact history:",f),f}}async deleteAllUserData(){if(this.baseDirectory)try{this.cachedData={messages:{},users:[],recentContacts:{}},this.cleanupFileCache();for(const t of["messages","users","contacts","files"]){const n=await this.getOrCreateDirectory(t);for await(const r of n.values())await n.removeEntry(r.name)}}catch(t){console.error("Error deleting all user data:",t)}}getRecentUsers(){return this.cachedData.users.sort((t,n)=>new Date(n.lastActive).getTime()-new Date(t.lastActive).getTime()).slice(0,5)}async saveRecentContact(t,n){this.cachedData.recentContacts[t]||(this.cachedData.recentContacts[t]=[]),this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].filter(r=>r.userId!==n),this.cachedData.recentContacts[t].unshift({userId:n,lastInteraction:new Date().toISOString()}),this.cachedData.recentContacts[t]=this.cachedData.recentContacts[t].slice(0,5),await this.writeFile("contacts/contacts.json",JSON.stringify(this.cachedData.recentContacts))}getRecentContacts(t){return this.cachedData.recentContacts[t]||[]}async getAllMessages(t){try{const n=await this.getOrCreateDirectory("messages");let r=[];for await(const s of n.values())if(s.kind==="file"&&s.name.endsWith(".json")){const i=this.parseMessageKey(s.name);if(i&&(i.fromId===t||i.toId===t)){const a=await(await(await n.getFileHandle(s.name)).getFile()).text(),c=JSON.parse(a);r=r.concat(c)}}return r.sort((s,i)=>new Date(s.timestamp).getTime()-new Date(i.timestamp).getTime())}catch(n){return console.error("Error loading all messages:",n),[]}}}const W=new kg,Eg=()=>W.initialize(),of=async e=>(await W.initialize(),W.saveMessage(e)),Ng=async(e,t)=>(await W.initialize(),W.getMessages(e,t)),jg=async e=>(await W.initialize(),W.saveUser(e)),_g=async()=>(await W.initialize(),W.getRecentUsers()),Tg=async e=>(await W.initialize(),W.deleteUserData(e)),Dg=async(e,t)=>(await W.initialize(),W.deleteContactHistory(e,t)),Mg=async()=>(await W.initialize(),W.deleteAllUserData()),Rg=async(e,t)=>(await W.initialize(),W.saveRecentContact(e,t)),Ig=async e=>(await W.initialize(),W.getRecentContacts(e)),ju=async(e,t)=>(await W.initialize(),W.saveFileData(e,t)),Pg=async e=>(await W.initialize(),W.getFileData(e)),Og=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";const n=Date.now().toString(36);for(let r=0;r<4;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return`${t}-${n}`},zg=async e=>(await W.initialize(),W.getAllMessages(e)),Zl=async e=>(await W.initialize(),W.saveGroup(e)),bo=async e=>(await W.initialize(),W.getGroups(e)),Yo=async e=>(await W.initialize(),W.getGroupMessages(e)),Fg=async(e,t)=>(await W.initialize(),W.deleteGroupData(e,t)),lf=async e=>{await W.initialize();const t={id:e.id,fromId:e.fromId,toId:e.groupId,content:e.content,timestamp:e.timestamp,delivered:e.delivered,readStatus:e.readBy.includes(e.fromId),status:e.status,replyTo:e.replyTo};return W.saveMessage(t)},Ug={messages:[],currentUserId:null,connectedToUser:null,users:{},loading:!1,error:null,isWebSocketConnected:!1,messageQueue:{pending:[],failed:[],retrying:[]}},ql=Me("messages/queueMessageAsync",async e=>(await of(e),e)),Vi=Me("messages/initializeAllMessagesAsync",async e=>await zg(e)),ms=Me("messages/setCurrentUserAsync",async e=>(await jg(e),e)),hs=Me("messages/initializeMessagesAsync",async({userId1:e,userId2:t})=>await Ng(e,t)),Zt=Me("messages/addMessageAsync",async(e,{dispatch:t,getState:n})=>n().messages.isWebSocketConnected?(await of(e),{message:e,queued:!1}):(await t(ql(e)),{message:e,queued:!0})),_u=Me("messages/retryFailedMessageAsync",async(e,{dispatch:t})=>(await t(Zt(e)),e)),af=sf({name:"messages",initialState:Ug,reducers:{setWebSocketConnected(e,t){e.isWebSocketConnected=t.payload},setConnectedUser(e,t){e.connectedToUser=t.payload,e.messages=[]},setUserOnlineStatus(e,t){e.users[t.payload.userId]||(e.users[t.payload.userId]={id:t.payload.userId,online:!1}),e.users[t.payload.userId].online=t.payload.online},setMessageDelivered(e,t){const n=e.messages.find(s=>s.id===t.payload);n&&(n.delivered=!0,n.status="delivered"),e.messageQueue.pending.find(s=>s.id===t.payload)&&(e.messageQueue.pending=e.messageQueue.pending.filter(s=>s.id!==t.payload))},setMessageRead(e,t){const n=e.messages.find(s=>s.id===t.payload);n&&(n.readStatus=!0,n.status="read",n.delivered=!0);const r=e.messageQueue.pending.find(s=>s.id===t.payload);r&&(r.readStatus=!0,r.status="read",r.delivered=!0)},clearChat(e){e.messages=[],e.connectedToUser=null,e.currentUserId=null,e.users={},e.messageQueue={pending:[],failed:[],retrying:[]}},moveToFailedQueue(e,t){const n=e.messageQueue.pending.find(r=>r.id===t.payload);n&&(e.messageQueue.pending=e.messageQueue.pending.filter(r=>r.id!==t.payload),e.messageQueue.failed.push(n))},removeFromQueue(e,t){e.messageQueue.pending=e.messageQueue.pending.filter(n=>n.id!==t.payload),e.messageQueue.failed=e.messageQueue.failed.filter(n=>n.id!==t.payload),e.messageQueue.retrying=e.messageQueue.retrying.filter(n=>n.id!==t.payload)},clearError(e){e.error=null}},extraReducers:e=>{e.addCase(ql.fulfilled,(t,n)=>{t.messageQueue.pending.push(n.payload)}),e.addCase(Zt.fulfilled,(t,n)=>{const{message:r,queued:s}=n.payload;!s&&r.content!=="delivered"&&t.messages.findIndex(o=>o.id===r.id)===-1&&(t.messages.push({...r,status:r.status||"sent"}),console.log("[Redux] Added message to store:",r))}),e.addCase(_u.pending,(t,n)=>{const r=n.meta.arg.id;t.messageQueue.failed=t.messageQueue.failed.filter(s=>s.id!==r),t.messageQueue.retrying.push(n.meta.arg)}),e.addCase(_u.fulfilled,(t,n)=>{t.messageQueue.retrying=t.messageQueue.retrying.filter(r=>r.id!==n.payload.id)}),e.addCase(ms.pending,t=>{t.loading=!0,t.error=null}),e.addCase(ms.fulfilled,(t,n)=>{t.currentUserId=n.payload,t.loading=!1}),e.addCase(ms.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to set user"}),e.addCase(hs.pending,t=>{t.loading=!0,t.error=null}),e.addCase(hs.fulfilled,(t,n)=>{t.messages=n.payload,t.loading=!1}),e.addCase(hs.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to load messages"}),e.addCase(Zt.pending,t=>{t.error=null}),e.addCase(Zt.rejected,(t,n)=>{t.error=n.error.message||"Failed to save message"}),e.addCase(Vi.pending,t=>{t.loading=!0,t.error=null}),e.addCase(Vi.fulfilled,(t,n)=>{t.messages=n.payload,t.loading=!1}),e.addCase(Vi.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to load messages"})}}),{setConnectedUser:ln,setUserOnlineStatus:Lg,setMessageDelivered:$g,setMessageRead:uf,clearChat:py,clearError:my,setWebSocketConnected:Tu,moveToFailedQueue:Du,removeFromQueue:Ag}=af.actions,Wg=af.reducer,Hg={groups:{},groupMembers:{},groupMessages:{},currentGroupId:null,loading:!1,error:null,unreadCounts:{}},cf=Me("groups/loadFromStorage",async e=>{try{const t=await bo(e),n={};for(const r of t){const s=await Yo(r.id);s.length>0&&(n[r.id]=s)}return{groups:t,groupMessages:n}}catch(t){return console.error("Error loading groups from storage:",t),{groups:[],groupMessages:{}}}}),gs=Me("groups/createGroup",async({request:e,userId:t})=>{const n=await fetch(`${ot.apiUrl}/api/groups`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,createdBy:t})});if(!n.ok)throw new Error("Failed to create group");const r=await n.json();return await Zl(r),r}),Mr=Me("groups/fetchUserGroups",async e=>{try{const t=await fetch(`${ot.apiUrl}/api/users/${e}/groups`);if(!t.ok)return console.error("Failed to fetch groups:",t.status),await bo(e);const n=await t.json();for(const r of n)await Zl(r);return n}catch(t){return console.error("Error fetching groups, loading from local storage:",t),await bo(e)}}),ea=Me("groups/fetchGroupMembers",async e=>{try{const t=await fetch(`${ot.apiUrl}/api/groups/${e}/members`);if(!t.ok)return console.error("Failed to fetch group members:",t.status),{groupId:e,members:[]};const n=await t.json();return{groupId:e,members:n}}catch(t){return console.error("Error fetching group members:",t),{groupId:e,members:[]}}}),Qs=Me("groups/fetchGroupMessages",async(e,{getState:t})=>{const r=t().messages.currentUserId;try{const s=await Yo(e),i=await fetch(`${ot.apiUrl}/api/groups/${e}/messages?userId=${r}`);if(!i.ok)return console.error("Failed to fetch group messages from server:",i.status),{groupId:e,messages:s};const o=await i.json(),l=new Map;s.forEach(c=>l.set(c.id,c)),o.forEach(c=>l.set(c.id,c));const a=Array.from(l.values()).sort((c,f)=>new Date(c.timestamp).getTime()-new Date(f.timestamp).getTime());for(const c of a)await lf(c);return{groupId:e,messages:a}}catch(s){console.error("Error fetching group messages:",s);const i=await Yo(e);return{groupId:e,messages:i}}}),df=Me("groups/addMembers",async(e,{getState:t})=>{const r=t().messages.currentUserId,s=await fetch(`${ot.apiUrl}/api/groups/${e.groupId}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIds:e.userIds,addedBy:r})});if(!s.ok)throw new Error("Failed to add members");const i=await s.json();return{groupId:e.groupId,members:i}}),ff=Me("groups/performAdminAction",async e=>{if(!(await fetch(`${ot.apiUrl}/api/groups/${e.groupId}/admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to perform admin action");return e}),pf=Me("groups/leaveGroup",async({groupId:e,userId:t})=>{if(!(await fetch(`${ot.apiUrl}/api/groups/${e}/leave`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})})).ok)throw new Error("Failed to leave group");return await Fg(e,t),{groupId:e,userId:t}}),mf=sf({name:"groups",initialState:Hg,reducers:{setCurrentGroup(e,t){e.currentGroupId=t.payload,t.payload&&e.unreadCounts[t.payload]&&(e.unreadCounts[t.payload]=0)},addGroupToUser(e,t){const n=t.payload;e.groups[n.id]=n,e.unreadCounts[n.id]===void 0&&(e.unreadCounts[n.id]=0),console.log(`[GroupSlice] Added group ${n.id} to user's groups`)},incrementGroupUnreadCount(e,t){const n=t.payload;n!==e.currentGroupId&&(e.unreadCounts[n]===void 0&&(e.unreadCounts[n]=0),e.unreadCounts[n]++,console.log(`[GroupSlice] Incremented unread count for group ${n} to ${e.unreadCounts[n]}`))},resetGroupUnreadCount(e,t){const n=t.payload;e.unreadCounts[n]=0,console.log(`[GroupSlice] Reset unread count for group ${n}`)},addGroupMessage(e,t){const{groupId:n}=t.payload;e.groupMessages[n]||(e.groupMessages[n]=[]),e.groupMessages[n].some(s=>s.id===t.payload.id)||(e.groupMessages[n].push(t.payload),e.groupMessages[n].sort((s,i)=>new Date(s.timestamp).getTime()-new Date(i.timestamp).getTime()),e.groups[n]&&(e.groups[n].lastActivity=t.payload.timestamp,e.groups[n].lastMessage=typeof t.payload.content=="string"?t.payload.content:"File"))},markGroupMessageAsRead(e,t){const{groupId:n,messageId:r,userId:s}=t.payload,i=e.groupMessages[n];if(i){const o=i.find(l=>l.id===r);o&&!o.readBy.includes(s)&&o.readBy.push(s)}},markAllGroupMessagesAsRead(e,t){const{groupId:n,userId:r}=t.payload,s=e.groupMessages[n];s&&(s.forEach(i=>{i.readBy.includes(r)||i.readBy.push(r)}),e.unreadCounts[n]=0)},updateGroupMemberStatus(e,t){const{groupId:n,userId:r,updates:s}=t.payload,i=e.groupMembers[n];if(i){const o=i.find(l=>l.userId===r);o&&Object.assign(o,s)}},updateGroupInfo(e,t){const{groupId:n,updates:r}=t.payload;e.groups[n]&&Object.assign(e.groups[n],r)},addGroupNotification(e,t){const{groupId:n}=t.payload,r={id:t.payload.id,groupId:n,fromId:"system",content:t.payload.message,timestamp:t.payload.timestamp,delivered:!0,readBy:[],status:"delivered"};e.groupMessages[n]||(e.groupMessages[n]=[]),e.groupMessages[n].push(r)},clearGroupMessages(e,t){const n=t.payload;e.groupMessages[n]&&(e.groupMessages[n]=[])},clearGroupError(e){e.error=null}},extraReducers:e=>{e.addCase(cf.fulfilled,(t,n)=>{n.payload.groups.forEach(r=>{t.groups[r.id]=r,t.unreadCounts[r.id]||(t.unreadCounts[r.id]=0)}),Object.entries(n.payload.groupMessages).forEach(([r,s])=>{t.groupMessages[r]=s})}),e.addCase(gs.pending,t=>{t.loading=!0,t.error=null}),e.addCase(gs.fulfilled,(t,n)=>{t.groups[n.payload.id]=n.payload,t.loading=!1}),e.addCase(gs.rejected,(t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to create group"}),e.addCase(Mr.fulfilled,(t,n)=>{n.payload.forEach(r=>{t.groups[r.id]=r,t.unreadCounts[r.id]||(t.unreadCounts[r.id]=0)})}),e.addCase(ea.fulfilled,(t,n)=>{t.groupMembers[n.payload.groupId]=n.payload.members}),e.addCase(Qs.fulfilled,(t,n)=>{t.groupMessages[n.payload.groupId]=n.payload.messages,t.unreadCounts[n.payload.groupId]=0}),e.addCase(df.fulfilled,(t,n)=>{t.groupMembers[n.payload.groupId]=n.payload.members,t.groups[n.payload.groupId]&&(t.groups[n.payload.groupId].memberCount=n.payload.members.length)}),e.addCase(ff.fulfilled,(t,n)=>{const{groupId:r,targetUserId:s,type:i}=n.payload,o=t.groupMembers[r];if(o){const l=o.find(a=>a.userId===s);if(l)switch(i){case"mute":l.isMuted=!0;break;case"unmute":l.isMuted=!1;break;case"ban":l.isBanned=!0;break;case"unban":l.isBanned=!1;break;case"promote":l.role="admin";break;case"demote":l.role="member";break}}}),e.addCase(pf.fulfilled,(t,n)=>{const{groupId:r}=n.payload;delete t.groups[r],delete t.groupMembers[r],delete t.groupMessages[r],delete t.unreadCounts[r],t.currentGroupId===r&&(t.currentGroupId=null)})}}),{setCurrentGroup:Ks,addGroupToUser:Gg,incrementGroupUnreadCount:Bg,resetGroupUnreadCount:hf,addGroupMessage:Vg,markGroupMessageAsRead:Qg,markAllGroupMessagesAsRead:Kg,updateGroupMemberStatus:hy,updateGroupInfo:gy,addGroupNotification:bg,clearGroupMessages:yy,clearGroupError:Yg}=mf.actions,Jg=mf.reducer,Xg=tg({reducer:{messages:Wg,groups:Jg}}),lt=()=>Dh(),L=vh,Qi=({mode:e})=>{const t=lt(),n=L(d=>d.messages.currentUserId),r=L(d=>d.messages.connectedToUser),s=L(d=>d.messages.users),[i,o]=R.useState(""),[l,a]=R.useState([]),[c,f]=R.useState([]),[m,y]=R.useState(!1),[h,v]=R.useState(null);R.useEffect(()=>{(async()=>{try{const p=await _g();if(a(p),n){const C=await Ig(n);f(C)}}catch(p){console.error("Error loading data:",p)}})()},[n]);const k=async d=>{if(d.trim()){y(!0),v(null);try{await t(ms(d)).unwrap()}catch{v("Failed to set user ID. Please try again.")}finally{y(!1)}}},E=async d=>{if(!(!d.trim()||!n||d===n)){y(!0),v(null);try{if(!(await fetch(`${ot.apiUrl}/api/status/${d}`)).ok)throw new Error("User not found");await Rg(n,d),t(ln(d))}catch{v("Failed to connect. Please check the ID and try again.")}finally{y(!1)}}},g=()=>{const d=Og();o(d)};return e==="setup"?u.jsxs("div",{className:"card fade-in",children:[u.jsx("h2",{className:"card-title",children:"Welcome to Chat"}),h&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:h})]}),u.jsxs("form",{onSubmit:d=>{d.preventDefault(),k(i)},className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Choose or create your user ID"}),u.jsx("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"Enter user ID",className:"input",disabled:m})]}),u.jsxs("div",{className:"btn-group",children:[u.jsx("button",{type:"button",onClick:g,disabled:m,className:"btn btn-secondary",children:"Generate ID"}),u.jsx("button",{type:"submit",disabled:m||!i.trim(),className:"btn btn-primary",children:m?"Connecting...":"Continue"})]})]}),l.length>0&&u.jsxs("div",{className:"mt-lg",children:[u.jsx("h3",{className:"text-muted text-small mb-sm",children:"Recent Users"}),u.jsx("div",{className:"user-grid",children:l.map(d=>u.jsx("div",{onClick:()=>o(d.id),className:`user-card ${d.id===i?"user-card-active":""}`,children:d.id},d.id))})]})]}):e==="connect"?u.jsxs("div",{className:"card fade-in",children:[u.jsx("h2",{className:"card-title",children:"Connect to User"}),u.jsxs("div",{className:"alert alert-success mb-md",children:[u.jsx("span",{children:"👤"}),u.jsxs("span",{children:["Your ID: ",u.jsx("strong",{children:n})]})]}),h&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:h})]}),u.jsxs("form",{onSubmit:d=>{d.preventDefault(),E(i)},className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Enter recipient's user ID"}),u.jsx("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"User ID to connect",className:"input",disabled:m})]}),u.jsx("button",{type:"submit",disabled:m||!i.trim()||i===n,className:"btn btn-primary",children:m?"Connecting...":"Connect"})]}),c.length>0&&u.jsxs("div",{className:"mt-lg",children:[u.jsx("h3",{className:"text-muted text-small mb-sm",children:"Recent Contacts"}),u.jsx("div",{className:"user-grid",children:c.map(d=>{var p;return u.jsxs("div",{onClick:()=>E(d.userId),className:"user-card",children:[d.userId,((p=s[d.userId])==null?void 0:p.online)&&u.jsxs("div",{className:"status mt-sm",children:[u.jsx("span",{className:"status-dot status-online"}),u.jsx("span",{className:"text-small",children:"Online"})]})]},d.userId)})})]})]}):u.jsxs("div",{className:"user-menu-compact",children:[u.jsxs("div",{className:"status",children:[u.jsxs("span",{children:["User: ",u.jsx("strong",{children:n})]}),r&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-muted",children:"→"}),u.jsxs("span",{children:["Chat: ",u.jsx("strong",{children:r})]})]})]}),u.jsxs("div",{className:"btn-group",children:[r&&u.jsx("button",{onClick:()=>t(ln(null)),className:"btn btn-secondary",children:"Disconnect"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-danger",children:"Logout"})]})]})};class Zg{constructor(t,n,r){this.wsRef=t,this.dispatch=n,this.currentUserId=r,this.processedMessageIds=new Set,this.deliveryTimeouts=new Map,this.maxDeliveryAttempts=3}async processIncomingMessage(t){if(!this.processedMessageIds.has(t.id))try{switch(t.content){case"status_update":await this.handleStatusUpdate(t);break;case"delivered":await this.handleDeliveryConfirmation(t);break;case"read":await this.handleReadReceipt(t);break;default:await this.handleRegularMessage(t)}this.processedMessageIds.add(t.id)}catch(n){throw console.error("Error processing message:",n),n}}async sendMessage(t){var n;try{await this.dispatch(Zt(t)).unwrap(),((n=this.wsRef.current)==null?void 0:n.readyState)===WebSocket.OPEN?(this.wsRef.current.send(JSON.stringify(t)),this.setDeliveryTimeout(t)):await this.dispatch(ql(t)).unwrap()}catch(r){throw console.error("Error sending message:",r),await this.dispatch(Du(t.id)),r}}setDeliveryTimeout(t){this.deliveryTimeouts.has(t.id)&&clearTimeout(this.deliveryTimeouts.get(t.id));const n=setTimeout(()=>{this.handleDeliveryTimeout(t)},5e3);this.deliveryTimeouts.set(t.id,n)}async handleDeliveryTimeout(t){t.delivered||await this.dispatch(Du(t.id)),this.deliveryTimeouts.delete(t.id)}async handleStatusUpdate(t){}async handleDeliveryConfirmation(t){const n=t.id.startsWith("delivery_")?t.id.replace("delivery_",""):t.id;await this.dispatch($g(n)),this.deliveryTimeouts.has(n)&&(clearTimeout(this.deliveryTimeouts.get(n)),this.deliveryTimeouts.delete(n))}async handleReadReceipt(t){const n=t.id.startsWith("read_")?t.id.replace("read_",""):t.id;await this.dispatch(uf(n)),this.deliveryTimeouts.has(n)&&(clearTimeout(this.deliveryTimeouts.get(n)),this.deliveryTimeouts.delete(n))}async handleRegularMessage(t){if(await this.dispatch(Zt(t)),t.toId===this.currentUserId&&this.wsRef.current){const n={id:`delivery_${t.id}`,fromId:this.currentUserId,toId:t.fromId,content:"delivered",timestamp:new Date().toISOString(),delivered:!0,readStatus:!1,status:"sent"};this.wsRef.current.send(JSON.stringify(n))}}clearDeliveryTimeouts(){this.deliveryTimeouts.forEach(t=>clearTimeout(t)),this.deliveryTimeouts.clear()}}const gf=R.createContext({ws:null,messageProcessor:null}),qg=({children:e})=>{const t=lt(),n=L(y=>y.messages.currentUserId),r=L(y=>y.messages.connectedToUser),s=L(y=>y.messages.messageQueue.pending),i=R.useRef(null),o=R.useRef(null),l=3,a=R.useRef(0),c=R.useRef(),f=R.useCallback(()=>{if(!(!o.current||!s.length))for(const y of s)try{o.current.sendMessage(y),t(Ag(y.id))}catch(h){console.error("Error processing pending message:",h)}},[t,s]),m=R.useCallback(()=>{if(!n)return;if(a.current>=l){console.error("Failed to connect after maximum retries");return}console.log("Attempting WebSocket connection...");const y=new WebSocket(`${ot.wsUrl}/ws/${n}`);i.current=y,y.onopen=()=>{console.log("WebSocket connected successfully"),t(Tu(!0)),a.current=0,o.current=new Zg(i,t,n),console.log("[WebSocket] Fetching user groups on connection..."),t(Mr(n)),f()},y.onmessage=async h=>{var v,k,E,g;try{const d=JSON.parse(h.data);if(console.log("[WebSocket] Received message:",d),d.messageType)switch(d.messageType){case"group_notification":console.log("[WebSocket] Group notification:",d);const C=d.data;if(t(bg(C)),C.type==="member_added"&&C.metadata){const N=C.metadata;if(N.userId===n||(v=C.message)!=null&&v.includes(n)){console.log("[WebSocket] User added to group, adding to list...");const S={id:C.groupId,name:N.groupName||`Group ${C.groupId}`,description:"",createdBy:N.addedBy||"",createdAt:new Date().toISOString(),memberCount:0,lastActivity:new Date().toISOString(),lastMessage:"You were added to this group"};t(Gg(S)),await Zl(S),t(Mr(n))}}return;case"webrtc_signaling":console.log("[WebSocket] WebRTC signaling message");return;default:console.log("[WebSocket] Unknown message type:",d.messageType)}const p=d;if(p.content==="status_update"){console.log("[WebSocket] Status update:",p),t(Lg({userId:p.fromId,online:p.status==="online"}));return}if((k=p.toId)!=null&&k.startsWith("GROUP_")){console.log("[WebSocket] Received group message:",p);let C="";typeof p.content=="string"?C=p.content:p.content&&typeof p.content=="object"&&("type"in p.content&&["text","file","image","video","audio"].includes(p.content.type)?C=p.content:C=JSON.stringify(p.content));const N={id:p.id,groupId:p.toId,fromId:p.fromId,content:C,timestamp:p.timestamp,delivered:p.delivered||!1,readBy:p.readStatus?[n]:[],status:p.status||"delivered",replyTo:p.replyTo};t(Vg(N)),await lf(N),p.fromId!==n&&r!==p.toId&&t(Bg(p.toId)),await((E=o.current)==null?void 0:E.processIncomingMessage(p))}else console.log("[WebSocket] Received direct message:",p),await((g=o.current)==null?void 0:g.processIncomingMessage(p))}catch(d){console.error("[WebSocket] Error processing message:",d)}},y.onclose=h=>{if(t(Tu(!1)),console.log("WebSocket disconnected with code:",h.code),h.wasClean){console.log("Clean websocket close");return}const v=Math.min(1e3*Math.pow(2,a.current),1e4);c.current=setTimeout(()=>{a.current++,console.log(`Attempting reconnection ${a.current}/${l}`),m()},v)},y.onerror=h=>{console.error("WebSocket error:",h)}},[n,r,t,f]);return R.useEffect(()=>(n&&m(),()=>{c.current&&clearTimeout(c.current),i.current&&i.current.close(1e3,"Component unmounting"),o.current&&o.current.clearDeliveryTimeouts()}),[n,m]),u.jsx(gf.Provider,{value:{ws:i.current,messageProcessor:o.current},children:u.jsx("div",{"data-testid":"websocket-manager",children:e})})},yf=()=>R.useContext(gf),Ki=16384;class ey{constructor(){this.activeTransfers=new Map}async prepareFileTransfer(t){const n=Math.ceil(t.size/Ki);return{id:crypto.randomUUID(),name:t.name,type:t.type,size:t.size,totalChunks:n}}async*getFileChunks(t,n){const r=new FileReader;let s=0,i=0;for(;s<t.size;){const o=t.slice(s,s+Ki),l=await new Promise((a,c)=>{r.onload=()=>a(r.result),r.onerror=()=>c(r.error),r.readAsArrayBuffer(o)});yield{transferId:n.id,chunkIndex:i,totalChunks:n.totalChunks,data:l},s+=Ki,i++}}initializeReceiver(t,n){this.activeTransfers.set(t.id,{metadata:t,receivedChunks:new Set,chunks:new Array(t.totalChunks),onProgress:n})}processChunk(t,n,r){var o;const s=this.activeTransfers.get(t);if(!s)return 0;s.chunks[n]=r,s.receivedChunks.add(n);const i=s.receivedChunks.size/s.metadata.totalChunks*100;return(o=s.onProgress)==null||o.call(s,i),i}isTransferComplete(t){const n=this.activeTransfers.get(t);return n?n.receivedChunks.size===n.metadata.totalChunks:!1}async assembleFile(t){const n=this.activeTransfers.get(t);if(!n||!this.isTransferComplete(t))return null;const r=new Blob(n.chunks,{type:n.metadata.type}),s=new File([r],n.metadata.name,{type:n.metadata.type,lastModified:Date.now()});return this.activeTransfers.delete(t),s}cancelTransfer(t){this.activeTransfers.delete(t)}}const vf=R.createContext({createConnection:async()=>!1,closeConnection:()=>{},sendFile:async()=>"",isConnected:()=>!1,transfers:new Map,receivedFiles:new Map,getFileUrl:()=>{}}),ty=()=>{const e=R.useContext(vf);if(!e)throw new Error("useWebRTC must be used within WebRTCManager");return e},ny=({children:e})=>{const{ws:t}=yf(),n=lt(),r=L(S=>S.messages.currentUserId),s=R.useRef(new Map);R.useRef(new ey);const[i,o]=R.useState(new Map),[l,a]=R.useState(new Map),c={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};R.useEffect(()=>{(async()=>{console.log("[WebRTC] WebRTCManager initialized, file persistence ready")})()},[]),R.useEffect(()=>{if(!t)return;const S=x=>{try{const w=JSON.parse(x.data);w.messageType==="webrtc_signaling"&&v(w)}catch(w){console.error("[WebRTC] Error processing message:",w)}};return t.addEventListener("message",S),()=>{t.removeEventListener("message",S),l.forEach(({url:x})=>URL.revokeObjectURL(x)),s.current.forEach((x,w)=>{E(w)})}},[t,r]);const f=S=>{if((t==null?void 0:t.readyState)===WebSocket.OPEN){const x={messageType:"webrtc_signaling",...S};console.log("[WebRTC] Sending signaling message:",x),t.send(JSON.stringify(x))}},m=(S,x)=>{console.log(`[WebRTC] Creating peer connection for ${S}, initiator: ${x}`);const w=new RTCPeerConnection(c),M={connection:w,dataChannel:null,pendingCandidates:[],isSettingRemoteDescription:!1,hasRemoteDescription:!1};return w.onicecandidate=P=>{P.candidate&&r&&(console.log("[WebRTC] Sending ICE candidate"),f({type:"ice-candidate",candidate:P.candidate,fromId:r,toId:S}))},w.onconnectionstatechange=()=>{console.log(`[WebRTC] Connection state: ${w.connectionState} for ${S}`),w.connectionState==="connected"&&console.log(`[WebRTC] Peer connection established with ${S}`)},w.oniceconnectionstatechange=()=>{console.log(`[WebRTC] ICE connection state: ${w.iceConnectionState} for ${S}`),w.iceConnectionState==="connected"?console.log(`[WebRTC] ICE connection established with ${S}`):w.iceConnectionState==="failed"&&(console.log(`[WebRTC] ICE connection failed with ${S}, attempting restart`),h(S))},x?(console.log(`[WebRTC] Creating data channel as initiator for ${S}`),M.dataChannel=w.createDataChannel("fileTransfer",{ordered:!0,maxRetransmits:3}),y(M.dataChannel,S)):(console.log(`[WebRTC] Waiting for data channel from ${S}`),w.ondatachannel=P=>{console.log(`[WebRTC] Received data channel from ${S}`),M.dataChannel=P.channel,y(M.dataChannel,S)}),s.current.set(S,M),M},y=(S,x)=>{let w=[],M=null;S.binaryType="arraybuffer",S.onopen=()=>{console.log(`[WebRTC] Data channel opened for ${x}`)},S.onclose=()=>{console.log(`[WebRTC] Data channel closed for ${x}`)},S.onerror=P=>{console.error(`[WebRTC] Data channel error for ${x}:`,P)},S.onmessage=async P=>{try{if(typeof P.data=="string"){const U=JSON.parse(P.data);switch(U.type){case"file-start":M={name:U.name,type:U.fileType,size:U.size,transferId:U.transferId,messageId:U.messageId},w=[],p(U.transferId||"unknown",{status:"transferring",progress:0}),console.log(`[WebRTC] Starting to receive file: ${M.name}`);break;case"file-end":if(M&&w.length>0){console.log(`[WebRTC] Assembling received file: ${M.name}`);const $=new File(w,M.name,{type:M.type}),te=URL.createObjectURL($);a(Y=>{const I=new Map(Y);return I.set(M.messageId,{file:$,url:te,timestamp:new Date().toISOString()}),I});try{await ju(M.messageId,$),console.log(`[WebRTC] File saved to persistent storage: ${M.messageId}`)}catch(Y){console.error("[WebRTC] Error saving file to persistent storage:",Y)}console.log(`[WebRTC] File stored with ID: ${M.messageId}`);const se=URL.createObjectURL($),ce=document.createElement("a");if(ce.href=se,ce.download=$.name,ce.style.display="none",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(se),console.log(`[WebRTC] File auto-downloaded: ${$.name}`),r){const I={type:M.type.startsWith("image/")?"image":M.type.startsWith("video/")?"video":M.type.startsWith("audio/")?"audio":"file",file:{name:$.name,size:$.size,type:$.type,lastModified:$.lastModified}},j={id:M.messageId,fromId:x,toId:r,content:I,timestamp:new Date().toISOString(),delivered:!0,readStatus:!1,status:"delivered"};await n(Zt(j))}p(U.transferId||"unknown",{status:"completed",progress:100}),w=[],M=null}break}}else if(M){w.push(new Blob([P.data]));const U=w.reduce((te,se)=>te+se.size,0),$=U/M.size*100;p("current",{progress:$}),U%(1024*100)===0&&console.log(`[WebRTC] Received ${Math.round(U/1024)}KB of ${Math.round(M.size/1024)}KB`)}}catch(U){console.error("[WebRTC] Error handling data channel message:",U)}}},h=async S=>{const x=s.current.get(S);if(!(!x||!r))try{const w=await x.connection.createOffer({iceRestart:!0});await x.connection.setLocalDescription(w),f({type:"offer",offer:w,fromId:r,toId:S})}catch(w){console.error("[WebRTC] Error restarting ICE:",w)}},v=async S=>{if(!r||S.toId!==r)return;const x=S.fromId;let w=s.current.get(x);try{switch(S.type){case"offer":for(console.log(`[WebRTC] Handling offer from ${x}`),w||(w=m(x,!1)),w.isSettingRemoteDescription=!0,await w.connection.setRemoteDescription(new RTCSessionDescription(S.offer)),w.hasRemoteDescription=!0,w.isSettingRemoteDescription=!1;w.pendingCandidates.length>0;){const P=w.pendingCandidates.shift();await w.connection.addIceCandidate(new RTCIceCandidate(P))}const M=await w.connection.createAnswer();await w.connection.setLocalDescription(M),f({type:"answer",answer:M,fromId:r,toId:x});break;case"answer":if(console.log(`[WebRTC] Handling answer from ${x}`),w&&w.connection.signalingState==="have-local-offer")for(w.isSettingRemoteDescription=!0,await w.connection.setRemoteDescription(new RTCSessionDescription(S.answer)),w.hasRemoteDescription=!0,w.isSettingRemoteDescription=!1;w.pendingCandidates.length>0;){const P=w.pendingCandidates.shift();await w.connection.addIceCandidate(new RTCIceCandidate(P))}break;case"ice-candidate":if(console.log(`[WebRTC] Handling ICE candidate from ${x}`),w){const P=new RTCIceCandidate(S.candidate);w.isSettingRemoteDescription||!w.hasRemoteDescription?w.pendingCandidates.push(S.candidate):w.connection.remoteDescription&&await w.connection.addIceCandidate(P)}break}}catch(M){console.error("[WebRTC] Error handling signaling message:",M)}},k=async S=>{if(!r||!t||t.readyState!==WebSocket.OPEN)return console.error("[WebRTC] Cannot create connection - missing requirements"),!1;if(S===r)return console.error("[WebRTC] Cannot connect to self"),!1;try{console.log(`[WebRTC] Creating connection to ${S}`);const x=m(S,!0),w=await x.connection.createOffer();return await x.connection.setLocalDescription(w),f({type:"offer",offer:w,fromId:r,toId:S}),new Promise(M=>{let P=!1;const U=te=>{P||(P=!0,M(te))},$=setInterval(()=>{var te,se;console.log(`[WebRTC] Connection state: ${x.connection.connectionState}, ICE: ${x.connection.iceConnectionState}, DataChannel: ${(te=x.dataChannel)==null?void 0:te.readyState}`),((se=x.dataChannel)==null?void 0:se.readyState)==="open"?(console.log("[WebRTC] Data channel is open - connection successful"),clearInterval($),U(!0)):x.connection.connectionState==="connected"&&x.connection.iceConnectionState==="connected"?setTimeout(()=>{var ce;((ce=x.dataChannel)==null?void 0:ce.readyState)==="open"&&(console.log("[WebRTC] Data channel opened after connection"),clearInterval($),U(!0))},1e3):(x.connection.connectionState==="failed"||x.connection.iceConnectionState==="failed")&&(console.log("[WebRTC] Connection failed"),clearInterval($),U(!1))},500);setTimeout(()=>{console.log("[WebRTC] Connection attempt timed out"),clearInterval($),U(!1)},6e4)})}catch(x){return console.error("[WebRTC] Error creating connection:",x),!1}},E=S=>{const x=s.current.get(S);x&&(x.dataChannel&&x.dataChannel.close(),x.connection.close(),s.current.delete(S))},g=S=>{var w;const x=s.current.get(S);return((w=x==null?void 0:x.dataChannel)==null?void 0:w.readyState)==="open"},d=async(S,x)=>{let w=s.current.get(S);if(!(w!=null&&w.dataChannel)||w.dataChannel.readyState!=="open"){if(console.log("[WebRTC] No open data channel, creating connection"),!await k(S))throw new Error("Failed to establish connection");w=s.current.get(S)}if(!(w!=null&&w.dataChannel)||w.dataChannel.readyState!=="open")throw new Error("Data channel not available");try{const M=crypto.randomUUID(),P=crypto.randomUUID();p(M,{status:"transferring",progress:0});const U=URL.createObjectURL(x);a(Y=>{const I=new Map(Y);return I.set(P,{file:x,url:U,timestamp:new Date().toISOString()}),I});try{await ju(P,x),console.log(`[WebRTC] Sent file saved to persistent storage: ${P}`)}catch(Y){console.error("[WebRTC] Error saving sent file to persistent storage:",Y)}w.dataChannel.send(JSON.stringify({type:"file-start",name:x.name,fileType:x.type,size:x.size,transferId:M,messageId:P}));const $=16384;let te=0;const se=new FileReader,ce=Y=>new Promise((I,j)=>{const z=x.slice(Y,Y+$);se.onload=D=>{var G,J;if((G=D.target)!=null&&G.result&&((J=w==null?void 0:w.dataChannel)==null?void 0:J.readyState)==="open"){w.dataChannel.send(D.target.result);const at=Math.min((Y+$)/x.size*100,100);p(M,{progress:at}),I()}else j(new Error("Data channel closed during transfer"))},se.onerror=()=>j(se.error),se.readAsArrayBuffer(z)});for(;te<x.size;)await ce(te),te+=$,await new Promise(Y=>setTimeout(Y,10));return w.dataChannel.send(JSON.stringify({type:"file-end",transferId:M,messageId:P})),p(M,{status:"completed",progress:100}),console.log("[WebRTC] File transfer completed"),P}catch(M){throw console.error("[WebRTC] Error sending file:",M),M}},p=(S,x)=>{o(w=>{const M=new Map(w),P=w.get(S)||{transferId:S,progress:0,status:"pending"};return M.set(S,{...P,...x}),M})},N={createConnection:k,closeConnection:E,sendFile:d,isConnected:g,transfers:i,receivedFiles:l,getFileUrl:S=>{const x=l.get(S);return x==null?void 0:x.url}};return u.jsx(vf.Provider,{value:N,children:e})},ry=({file:e,isIncoming:t})=>{const[n,r]=R.useState(""),[s,i]=R.useState(!0),[o,l]=R.useState(null);R.useEffect(()=>{if(e instanceof File){const f=URL.createObjectURL(e);return r(f),i(!1),()=>URL.revokeObjectURL(f)}else"url"in e&&(r(e.url),i(!1))},[e]);const a=f=>f<1024?f+" B":f<1024*1024?(f/1024).toFixed(1)+" KB":(f/(1024*1024)).toFixed(1)+" MB",c=f=>f.startsWith("image/")?"🖼️":f.startsWith("video/")?"🎥":f.startsWith("audio/")?"🎵":f.includes("pdf")?"📄":f.includes("zip")||f.includes("rar")?"📦":f.includes("doc")||f.includes("docx")?"📝":f.includes("xls")||f.includes("xlsx")?"📊":"📎";return s?u.jsx("div",{className:"file-preview-container",children:u.jsxs("div",{className:"file-preview-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("span",{children:"Loading preview..."})]})}):o?u.jsx("div",{className:"file-preview-container",children:u.jsx("div",{className:"file-preview-error",children:u.jsxs("span",{children:["⚠️ ",o]})})}):e.type.startsWith("image/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsx("div",{className:"file-preview-image",children:u.jsx("img",{src:n,alt:e.name,onError:()=>l("Failed to load image"),onClick:()=>window.open(n,"_blank"),title:"Click to view full size"})}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):e.type.startsWith("video/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsx("div",{className:"file-preview-video",children:u.jsxs("video",{controls:!0,preload:"metadata",onError:()=>l("Failed to load video"),children:[u.jsx("source",{src:n,type:e.type}),"Your browser does not support video playback."]})}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):e.type.startsWith("audio/")?u.jsxs("div",{className:"file-preview-container",children:[u.jsxs("div",{className:"file-preview-audio",children:[u.jsx("div",{className:"audio-icon",children:"🎵"}),u.jsxs("audio",{controls:!0,preload:"metadata",onError:()=>l("Failed to load audio"),children:[u.jsx("source",{src:n,type:e.type}),"Your browser does not support audio playback."]})]}),u.jsxs("div",{className:"file-preview-info",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]}):u.jsx("div",{className:"file-preview-container",children:u.jsxs("div",{className:"file-preview-generic",children:[u.jsx("div",{className:"file-icon",children:c(e.type)}),u.jsxs("div",{className:"file-details",children:[u.jsx("span",{className:"file-preview-name",children:e.name}),u.jsx("span",{className:"file-preview-size",children:a(e.size)})]})]})})},sy=({isOpen:e,onClose:t})=>{const n=lt(),r=L(h=>h.messages.currentUserId),s=L(h=>h.messages.connectedToUser),i=L(h=>h.messages.messages),o=L(h=>h.messages.users),l=L(h=>h.groups.groups),a=L(h=>h.groups.unreadCounts),c=L(h=>h.groups.groupMessages),f=R.useMemo(()=>{if(!r)return[];const h=new Map;return i.forEach(v=>{if(!v.content||v.content==="delivered"||v.content==="read"||v.content==="status_update"||typeof v.content=="object"&&"type"in v.content&&["offer","answer","ice-candidate"].includes(v.content.type))return;const k=v.fromId===r?v.toId:v.fromId;if(k===r)return;h.has(k)||h.set(k,{userId:k,lastMessage:v.timestamp,unreadCount:0,lastMessageTime:v.timestamp});const E=h.get(k);new Date(v.timestamp)>new Date(E.lastMessageTime)&&(E.lastMessage=v.timestamp,E.lastMessageTime=v.timestamp),v.fromId===k&&v.toId===r&&!v.readStatus&&E.unreadCount++}),Array.from(h.values()).sort((v,k)=>new Date(k.lastMessageTime).getTime()-new Date(v.lastMessageTime).getTime())},[i,r]),m=h=>{h.startsWith("GROUP_")&&(n(hf(h)),c[h]||n(Qs(h))),n(ln(h)),t()},y=h=>{const v=new Date(h),E=new Date().getTime()-v.getTime(),g=Math.floor(E/6e4),d=Math.floor(E/36e5),p=Math.floor(E/864e5);return g<1?"now":g<60?`${g}m`:d<24?`${d}h`:p<7?`${p}d`:v.toLocaleDateString([],{month:"short",day:"numeric"})};return e?u.jsxs("div",{className:"contact-switcher",children:[u.jsxs("div",{className:"contact-switcher-header",children:[u.jsx("h3",{children:"Chats"}),u.jsx("button",{onClick:t,className:"btn btn-icon","aria-label":"Close contact switcher",children:"✕"})]}),u.jsx("div",{className:"contact-switcher-list",children:f.length===0&&Object.keys(l).length===0?u.jsx("div",{className:"contact-switcher-empty",children:u.jsx("p",{className:"text-muted text-center",children:"No conversations yet"})}):u.jsxs(u.Fragment,{children:[f.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"contact-switcher-section-header",children:u.jsx("h4",{children:"Direct Messages"})}),f.map(h=>{var v;return u.jsxs("div",{onClick:()=>m(h.userId),className:`contact-switcher-item ${h.userId===s?"contact-switcher-item-active":""}`,children:[u.jsxs("div",{className:"contact-switcher-item-main",children:[u.jsxs("div",{className:"contact-switcher-item-header",children:[u.jsx("span",{className:"contact-switcher-item-name",children:h.userId}),((v=o[h.userId])==null?void 0:v.online)&&u.jsx("span",{className:"status-dot status-online",title:"Online"})]}),u.jsx("span",{className:"contact-switcher-item-time",children:y(h.lastMessage)})]}),h.unreadCount>0&&h.userId!==s&&u.jsx("div",{className:"contact-switcher-unread-badge",children:h.unreadCount>99?"99+":h.unreadCount})]},h.userId)})]}),Object.keys(l).length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"contact-switcher-section-header",children:u.jsx("h4",{children:"Groups"})}),Object.values(l).map(h=>{const v=a[h.id]||0,k=c[h.id],E=k&&k.length>0?k[k.length-1].timestamp:h.lastActivity;return u.jsxs("div",{onClick:()=>m(h.id),className:`contact-switcher-item contact-switcher-item-group ${h.id===s?"contact-switcher-item-active":""}`,children:[u.jsxs("div",{className:"contact-switcher-item-main",children:[u.jsx("div",{className:"contact-switcher-item-header",children:u.jsx("span",{className:"contact-switcher-item-name",children:h.name})}),u.jsx("span",{className:"contact-switcher-item-time",children:E?y(E):"New"})]}),v>0&&h.id!==s&&u.jsx("div",{className:"contact-switcher-unread-badge",children:v>99?"99+":v})]},h.id)})]})]})})]}):null},iy=({groupId:e,onManageClick:t})=>{var c,f;const n=lt(),r=L(m=>m.groups.groups[e]),s=L(m=>m.groups.groupMembers[e]||[]),i=L(m=>m.messages.currentUserId);if(R.useEffect(()=>{e&&(!s||s.length===0)&&n(ea(e))},[e,s,n]),!r)return null;const o=s.filter(m=>m.isOnline).length,l=((c=s.find(m=>m.userId===i))==null?void 0:c.role)==="admin",a=((f=s.find(m=>m.userId===i))==null?void 0:f.isMuted)||!1;return u.jsxs("div",{className:"group-info-bar",children:[u.jsxs("div",{className:"group-info-bar-text",children:[u.jsxs("span",{children:[r.memberCount||s.length," members"]}),o>0&&u.jsxs("span",{children:[" • ",o," online"]}),a&&u.jsx("span",{className:"text-warning",children:" • You are muted"})]}),t&&u.jsx("button",{onClick:t,className:"group-info-bar-action",children:l?"Manage Group":"View Members"})]})},wf=({isOpen:e,onClose:t})=>{const n=lt(),r=L(I=>I.messages.currentUserId),s=L(I=>I.groups.groups),i=L(I=>I.groups.groupMembers),o=L(I=>I.groups.currentGroupId),l=L(I=>I.groups.loading),a=L(I=>I.groups.error),[c,f]=R.useState("list"),[m,y]=R.useState(""),[h,v]=R.useState(""),[k,E]=R.useState(null),[g,d]=R.useState(""),[p,C]=R.useState(null),[N,S]=R.useState([]),[x,w]=R.useState("");R.useEffect(()=>{r&&e&&n(Mr(r))},[r,e,n]),R.useEffect(()=>{k&&n(ea(k))},[k,n]),R.useEffect(()=>{e||n(Yg())},[e,n]);const M=I=>{n(Ks(I)),n(ln(I)),t()},P=async I=>{if(I.preventDefault(),!(!g.trim()||!k))try{await n(df({groupId:k,userIds:[g.trim()]})).unwrap(),d("")}catch(j){console.error("Failed to add member:",j)}},U=async(I,j)=>{if(!(!k||!r))try{await n(ff({type:j,groupId:k,targetUserId:I,performedBy:r,timestamp:new Date().toISOString()})).unwrap(),C(null)}catch(z){console.error("Failed to perform admin action:",z)}},$=async I=>{if(r&&window.confirm("Are you sure you want to leave this group?"))try{await n(pf({groupId:I,userId:r})).unwrap(),o===I&&(n(Ks(null)),n(ln(null)))}catch(j){console.error("Failed to leave group:",j)}},te=I=>{const j=i[I];if(!j||!r)return!1;const z=j.find(D=>D.userId===r);return(z==null?void 0:z.role)==="admin"},se=()=>{const I=Object.values(s);return I.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("p",{className:"text-muted",children:"No groups yet. Create one to get started!"}),u.jsx("button",{onClick:()=>f("create"),className:"btn btn-primary mt-md",children:"Create Group"})]}):u.jsx("div",{className:"group-list",children:I.map(j=>u.jsxs("div",{className:"group-item",children:[u.jsxs("div",{className:"group-item-info",children:[u.jsx("h4",{className:"group-item-name",children:j.name}),j.description&&u.jsx("p",{className:"group-item-description",children:j.description}),u.jsxs("div",{className:"group-item-meta",children:[u.jsxs("span",{children:[j.memberCount," members"]}),j.lastActivity&&u.jsxs("span",{className:"text-muted",children:["• Last active ",new Date(j.lastActivity).toLocaleDateString()]})]})]}),u.jsxs("div",{className:"group-item-actions",children:[u.jsx("button",{onClick:()=>M(j.id),className:"btn btn-primary btn-sm",children:"Open Chat"}),u.jsx("button",{onClick:()=>{E(j.id),f("manage")},className:"btn btn-secondary btn-sm",children:"Manage"})]})]},j.id))})},ce=()=>{const I=()=>{x.trim()&&!N.includes(x.trim())&&(S([...N,x.trim()]),w(""))},j=D=>{S(N.filter(G=>G!==D))},z=async D=>{if(D.preventDefault(),!(!m.trim()||!r))try{await n(gs({request:{name:m.trim(),description:h.trim(),initialMembers:N},userId:r})).unwrap(),y(""),v(""),S([]),w(""),f("list"),n(Mr(r))}catch(G){console.error("Failed to create group:",G)}};return u.jsxs("form",{onSubmit:z,className:"form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Group Name"}),u.jsx("input",{type:"text",value:m,onChange:D=>y(D.target.value),placeholder:"Enter group name",className:"input",maxLength:50,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Description (optional)"}),u.jsx("textarea",{value:h,onChange:D=>v(D.target.value),placeholder:"What's this group about?",className:"input",rows:3,maxLength:200})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Add Members"}),u.jsxs("div",{className:"form-inline",children:[u.jsx("input",{type:"text",value:x,onChange:D=>w(D.target.value),onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),I())},placeholder:"Enter user ID",className:"input",style:{flex:1}}),u.jsx("button",{type:"button",onClick:I,disabled:!x.trim(),className:"btn btn-secondary",children:"Add"})]}),N.length>0&&u.jsxs("div",{className:"selected-members-list",children:[u.jsx("div",{className:"text-small text-muted mt-sm mb-sm",children:"Members to add:"}),N.map(D=>u.jsxs("div",{className:"selected-member-item",children:[u.jsx("span",{children:D}),u.jsx("button",{type:"button",onClick:()=>j(D),className:"btn btn-icon btn-sm",title:"Remove",children:"✕"})]},D))]})]}),u.jsxs("div",{className:"btn-group",children:[u.jsx("button",{type:"button",onClick:()=>{f("list"),S([]),w("")},className:"btn btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:l||!m.trim(),className:"btn btn-primary",children:l?"Creating...":"Create Group"})]})]})},Y=()=>{if(!k)return null;const I=s[k],j=i[k]||[],z=te(k);return u.jsxs("div",{className:"group-manage",children:[u.jsxs("div",{className:"group-manage-header",children:[u.jsx("h3",{children:I==null?void 0:I.name}),u.jsx("button",{onClick:()=>f("list"),className:"btn btn-icon",children:"← Back"})]}),(I==null?void 0:I.description)&&u.jsx("p",{className:"text-muted mb-md",children:I.description}),z&&u.jsxs("div",{className:"group-manage-section",children:[u.jsx("h4",{children:"Add Member"}),u.jsxs("form",{onSubmit:P,className:"form-inline",children:[u.jsx("input",{type:"text",value:g,onChange:D=>d(D.target.value),placeholder:"User ID",className:"input",style:{flex:1}}),u.jsx("button",{type:"submit",disabled:!g.trim(),className:"btn btn-primary",children:"Add"})]})]}),u.jsxs("div",{className:"group-manage-section",children:[u.jsxs("h4",{children:["Members (",j.length,")"]}),u.jsx("div",{className:"member-list",children:j.map(D=>u.jsxs("div",{className:"member-item",children:[u.jsxs("div",{className:"member-info",children:[u.jsxs("span",{className:"member-name",children:[D.userId,D.userId===r&&" (You)"]}),u.jsxs("div",{className:"member-badges",children:[D.role==="admin"&&u.jsx("span",{className:"badge badge-admin",children:"Admin"}),D.isMuted&&u.jsx("span",{className:"badge badge-muted",children:"Muted"}),D.isOnline&&u.jsx("span",{className:"status-dot status-online"})]})]}),z&&D.userId!==r&&u.jsxs("div",{className:"member-actions",children:[u.jsx("button",{onClick:()=>C(p===D.userId?null:D.userId),className:"btn btn-icon",children:"⋮"}),p===D.userId&&u.jsxs("div",{className:"admin-menu",children:[D.role!=="admin"&&u.jsx("button",{onClick:()=>U(D.userId,"promote"),className:"admin-menu-item",children:"Make Admin"}),D.role==="admin"&&u.jsx("button",{onClick:()=>U(D.userId,"demote"),className:"admin-menu-item",children:"Remove Admin"}),D.isMuted?u.jsx("button",{onClick:()=>U(D.userId,"unmute"),className:"admin-menu-item",children:"Unmute"}):u.jsx("button",{onClick:()=>U(D.userId,"mute"),className:"admin-menu-item",children:"Mute"}),u.jsx("button",{onClick:()=>U(D.userId,"ban"),className:"admin-menu-item admin-menu-item-danger",children:"Ban from Group"})]})]})]},D.userId))})]}),u.jsx("div",{className:"group-manage-footer",children:u.jsx("button",{onClick:()=>$(k),className:"btn btn-danger",children:"Leave Group"})})]})};return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal group-chat-manager",onClick:I=>I.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"Group Chats"}),u.jsx("button",{onClick:t,className:"btn btn-icon",children:"✕"})]}),a&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:a})]}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{onClick:()=>f("list"),className:`tab ${c==="list"?"tab-active":""}`,children:"My Groups"}),u.jsx("button",{onClick:()=>f("create"),className:`tab ${c==="create"?"tab-active":""}`,children:"Create Group"}),k&&u.jsx("button",{onClick:()=>f("manage"),className:`tab ${c==="manage"?"tab-active":""}`,children:"Manage"})]}),u.jsxs("div",{className:"modal-content",children:[c==="list"&&se(),c==="create"&&ce(),c==="manage"&&Y()]})]})}):null},oy=()=>{var ta,na;const e=lt(),t=L(T=>T.messages.currentUserId),n=L(T=>T.messages.connectedToUser),r=L(T=>T.messages.messages),s=L(T=>T.messages.isWebSocketConnected),i=L(T=>T.messages.users),[o,l]=R.useState(""),[a,c]=R.useState(null),[f,m]=R.useState(!0),[y,h]=R.useState(null),[v,k]=R.useState(!1),[E,g]=R.useState(null),[d,p]=R.useState(null),[C,N]=R.useState(new Map),[S,x]=R.useState(!1),w=R.useRef(null),M=R.useRef(null),P=R.useRef(new Map),{ws:U,messageProcessor:$}=yf(),{sendFile:te,isConnected:se,createConnection:ce,getFileUrl:Y}=ty(),I=n==null?void 0:n.startsWith("GROUP_"),j=n?(ta=i[n])==null?void 0:ta.online:!1,z=L(T=>T.groups.groups),D=L(T=>T.groups.groupMessages),[G,J]=R.useState(!1);R.useState(!1);const at=R.useRef(Object.keys(z).length);R.useEffect(()=>{const T=Object.keys(z).length;T>at.current&&x(!0),at.current=T},[z]);const we=r.filter(T=>!T.content||T.content==="delivered"||T.content==="read"||T.content==="status_update"?!1:I?T.toId===n:T.fromId===t&&T.toId===n||T.fromId===n&&T.toId===t);R.useEffect(()=>{I&&n?(e(Ks(n)),e(hf(n)),D[n]||e(Qs(n))):e(Ks(null))},[I,n,e]),R.useEffect(()=>{I&&n&&t&&((D[n]||[]).forEach(F=>{!F.readBy.includes(t)&&F.fromId!==t&&e(Qg({groupId:n,messageId:F.id,userId:t}))}),e(Kg({groupId:n,userId:t})))},[I,n,t,D,e]),R.useEffect(()=>{(async()=>{for(const F of we){const V=F.content;if(typeof V=="object"&&V&&"file"in V&&!Y(F.id)&&!C.has(F.id)){const et=await Pg(F.id);et&&N(ct=>new Map(ct).set(F.id,et.url))}}})()},[we,Y]),R.useEffect(()=>{(async()=>{if(!(!t||!n)){m(!0);try{I?await e(Qs(n)).unwrap():await e(hs({userId1:t,userId2:n})).unwrap()}catch{h("Failed to load messages")}finally{m(!1)}}})()},[t,n,I,e]),R.useEffect(()=>{if(I)return;const T=()=>{document.visibilityState==="visible"&&$&&we.filter(V=>V.fromId===n&&!V.readStatus).forEach(V=>{const Ee={id:`read_${V.id}`,fromId:t,toId:V.fromId,content:"read",timestamp:new Date().toISOString(),delivered:!0,readStatus:!0,status:"read"};$.sendMessage(Ee),e(uf(V.id))})};return document.addEventListener("visibilitychange",T),T(),()=>document.removeEventListener("visibilitychange",T)},[we,t,$,I,e]),R.useEffect(()=>{var T;(T=w.current)==null||T.scrollIntoView({behavior:"smooth"})},[we]);const Wn=T=>{var V;const F=(V=T.target.files)==null?void 0:V[0];F&&c(F)},ut=T=>{g(T)},cn=()=>{g(null)},Cf=T=>{const F=P.current.get(T);F&&(F.scrollIntoView({behavior:"smooth",block:"center"}),p(T),setTimeout(()=>p(null),1500))},xf=T=>{const F=T.content;if(typeof F=="string")return F;if(F&&typeof F=="object"&&"type"in F){const V=F;if(V.text)return V.text;if(V.file)return V.file.name}return"Message"},kf=async T=>{if(T.preventDefault(),!(!o.trim()&&!a||!n)){h(null);try{a?await Nf():await Ef(),g(null)}catch(F){console.error("Error in handleSubmit:",F),h(F instanceof Error?F.message:"Failed to send message")}}},Ef=async()=>{if(!$||!t||!n)throw new Error("Missing required components for text message");const T=o.trim(),F={id:crypto.randomUUID(),fromId:t,toId:n,content:T,timestamp:new Date().toISOString(),delivered:!1,readStatus:!1,status:"sent",replyTo:E?{messageId:E.id,fromId:E.fromId,content:E.content,timestamp:E.timestamp}:void 0};await $.sendMessage(F),l("")},Nf=async()=>{if(!a||!t||!n)throw new Error("Missing required components for file transfer");k(!0);try{if(!se(n)&&(console.log("Creating WebRTC connection for file transfer..."),!await ce(n)))throw new Error("Failed to establish WebRTC connection for file transfer");console.log("Sending file via WebRTC...");const T=await te(n,a),V={type:a.type.startsWith("image/")?"image":a.type.startsWith("video/")?"video":a.type.startsWith("audio/")?"audio":"file",file:{name:a.name,size:a.size,type:a.type,lastModified:a.lastModified}};if($){const Ee={id:T,fromId:t,toId:n,content:V,timestamp:new Date().toISOString(),delivered:!1,readStatus:!1,status:"sent",replyTo:E?{messageId:E.id,fromId:E.fromId,content:E.content,timestamp:E.timestamp}:void 0};await $.sendMessage(Ee)}c(null),M.current&&(M.current.value=""),console.log("File transfer completed successfully")}catch(T){throw console.error("File transfer failed:",T),new Error(`File transfer failed: ${T instanceof Error?T.message:"Unknown error"}`)}finally{k(!1)}},jf=T=>new Date(T).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),_f=T=>{var ct;const F=T.content;let V="",Ee=!1,et="📎";if(typeof F=="string")V=F;else if(F&&typeof F=="object"&&"type"in F){const Ur=F;Ee=!0,Ur.type==="image"?et="📷":Ur.type==="video"?et="🎥":Ur.type==="audio"&&(et="🎵"),V=((ct=Ur.file)==null?void 0:ct.name)||"File"}return u.jsxs("div",{className:"reply-context",onClick:()=>Cf(T.messageId),children:[u.jsx("div",{className:"reply-context-header",children:T.fromId===t?"You":T.fromId}),u.jsx("div",{className:"reply-context-content",children:Ee?u.jsxs("div",{className:"reply-context-file",children:[u.jsx("span",{className:"reply-context-file-icon",children:et}),u.jsx("span",{children:V})]}):V})]})},Tf=T=>{const F=T.content,V=()=>{if(typeof F=="string")return u.jsx("span",{children:F});if(F.type==="file"||F.type==="image"||F.type==="video"||F.type==="audio"){const Ee=F.file;if(!Ee)return u.jsx("span",{children:"Invalid file"});const et=Y(T.id)||C.get(T.id);if(et){const ct=T.fromId!==t;return u.jsxs("div",{children:[u.jsx(ry,{file:{url:et,name:Ee.name,type:Ee.type,size:Ee.size},isIncoming:ct}),ct&&u.jsx("div",{className:"file-auto-download-notice",children:"✓ Auto-downloaded to your downloads folder"})]})}else{const ct=F.type==="image"?"📷":F.type==="video"?"🎥":F.type==="audio"?"🎵":"📄";return u.jsxs("div",{className:"file-preview",children:[u.jsx("span",{className:"file-icon",children:ct}),u.jsxs("div",{className:"file-info",children:[u.jsx("div",{className:"file-name",children:Ee.name}),u.jsx("div",{className:"file-size",children:T.fromId===t?"Sending...":"Receiving..."})]})]})}}return u.jsx("span",{children:"Unsupported message type"})};return u.jsxs(u.Fragment,{children:[T.replyTo&&_f(T.replyTo),V()]})};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"chat-container",children:[u.jsxs("div",{className:"chat-header",children:[u.jsxs("div",{className:"chat-header-left",children:[u.jsx("button",{onClick:()=>x(!S),className:"btn btn-icon contact-switcher-toggle",title:"Show contacts",children:u.jsx("span",{className:"contact-switcher-icon",children:"💬"})}),u.jsxs("div",{className:"chat-user-info",children:[u.jsxs("span",{children:[I?"Group: ":"Chat with: ",u.jsx("strong",{children:I&&n?(na=z[n])==null?void 0:na.name:n})]}),!I&&u.jsxs("div",{className:"status",children:[u.jsx("span",{className:`status-dot status-${j?"online":"offline"}`}),u.jsx("span",{children:j?"Online":"Offline"})]})]})]}),u.jsxs("div",{className:"status",children:[u.jsx("span",{className:`status-dot status-${s?"online":"offline"}`}),u.jsx("span",{children:"Connection"}),n&&!I&&se(n)&&u.jsxs("div",{className:"status ml-2",children:[u.jsx("span",{className:"status-dot status-online"}),u.jsx("span",{children:"WebRTC"})]})]})]}),I&&n&&u.jsx(iy,{groupId:n,onManageClick:()=>J(!0)}),u.jsx(sy,{isOpen:S,onClose:()=>x(!1)}),u.jsxs("div",{className:"chat-messages",children:[f?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading messages..."})]}):we.length===0?u.jsx("div",{className:"empty-state",children:u.jsx("p",{className:"text-muted",children:"No messages yet. Start a conversation!"})}):we.map(T=>u.jsx("div",{ref:F=>{F&&P.current.set(T.id,F)},className:`message ${T.fromId===t?"message-outgoing":""} ${d===T.id?"reply-highlighted":""}`,style:{position:"relative"},children:T.fromId==="system"?u.jsx("div",{className:"message-system",children:u.jsx("div",{className:"message-system-content",children:typeof T.content=="string"?T.content:"System message"})}):u.jsxs(u.Fragment,{children:[I&&T.fromId!==t&&u.jsx("div",{className:"message-group-header message-group-header-incoming",children:T.fromId}),u.jsx("div",{className:"message-actions",children:u.jsxs("button",{className:"reply-button",onClick:()=>ut(T),title:"Reply",children:[u.jsx("span",{children:"↩️"}),u.jsx("span",{children:"Reply"})]})}),u.jsx("div",{className:`message-bubble ${T.fromId===t?"message-bubble-outgoing":"message-bubble-incoming"}`,children:Tf(T)}),u.jsxs("div",{className:"message-meta",children:[u.jsx("span",{children:jf(T.timestamp)}),T.fromId===t&&!I&&u.jsx("span",{className:"message-status",children:T.status==="read"?"✓✓✓":T.status==="delivered"?"✓✓":"✓"})]})]})},T.id)),u.jsx("div",{ref:w})]}),u.jsxs("div",{className:"chat-input-area",children:[y&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:y})]}),v&&u.jsxs("div",{className:"alert alert-success mb-md",children:[u.jsx("span",{children:"📤"}),u.jsx("span",{children:"Transferring file via WebRTC..."})]}),E&&u.jsxs("div",{className:"reply-input-bar",children:[u.jsxs("div",{className:"reply-input-content",children:[u.jsx("span",{children:"↩️"}),u.jsxs("span",{className:"reply-input-user",children:[E.fromId===t?"You":E.fromId,":"]}),u.jsx("span",{className:"reply-input-text",children:xf(E)})]}),u.jsx("button",{onClick:cn,className:"reply-cancel-button",title:"Cancel reply",children:"✕"})]}),a&&u.jsxs("div",{className:"file-preview mb-sm",children:[u.jsx("span",{className:"file-icon",children:"📎"}),u.jsxs("div",{className:"file-info",children:[u.jsx("div",{className:"file-name",children:a.name}),u.jsxs("div",{className:"file-size",children:[(a.size/1024).toFixed(1)," KB"]})]}),u.jsx("button",{onClick:()=>{c(null),M.current&&(M.current.value="")},className:"btn btn-icon",children:"✕"})]}),u.jsxs("form",{onSubmit:kf,className:"chat-input-form",children:[u.jsx("input",{ref:M,type:"file",onChange:Wn,className:"hidden",id:"file-input",disabled:v||I&&!s}),!I&&u.jsx("label",{htmlFor:"file-input",className:"btn btn-icon",children:"📎"}),u.jsx("input",{type:"text",value:o,onChange:T=>l(T.target.value),placeholder:s?"Type a message...":"Connecting...",className:"input",disabled:!s||v}),u.jsx("button",{type:"submit",disabled:!s||!o.trim()&&!a||v,className:"btn btn-primary",children:v?"Sending...":"Send"})]})]})]}),G&&u.jsx(wf,{isOpen:G,onClose:()=>J(!1)})]})},ly=()=>{const e=lt(),t=L(h=>h.messages.currentUserId),n=L(h=>h.messages.connectedToUser),r=L(h=>h.messages.messages),[s,i]=R.useState(!1),[o,l]=R.useState(null),a=Array.from(new Set(r.map(h=>h.fromId===t?h.toId:h.fromId).filter(h=>h!==t))),c=async(h,v,k,E=!1)=>{if(window.confirm(v)){i(!0),l(null);try{await h(),E&&e(ln(null)),l({type:"success",message:k})}catch{l({type:"error",message:"Operation failed. Please try again."})}finally{i(!1)}}},f=async h=>{const v=h===n;await c(()=>Dg(t,h),`Delete all messages with ${h}?`,`Chat history with ${h} deleted.`,v)},m=async()=>{await c(()=>Tg(t),"Delete all your user data? This cannot be undone.","Your data has been deleted.",!0)},y=async()=>{await c(async()=>{await Mg(),setTimeout(()=>window.location.reload(),1e3)},"Delete ALL data and reset the app? This action cannot be undone.","All data has been deleted. The app will reload.",!1)};return u.jsxs("div",{className:"data-manager",children:[u.jsx("h3",{className:"mb-lg",children:"Data Management"}),o&&u.jsxs("div",{className:`alert alert-${o.type} mb-md`,children:[u.jsx("span",{children:o.type==="success"?"✓":"⚠️"}),u.jsx("span",{children:o.message})]}),u.jsxs("div",{className:"form",children:[u.jsxs("div",{className:"mb-lg",children:[u.jsx("h4",{className:"text-muted text-small mb-sm",children:"Your Data"}),u.jsx("button",{onClick:m,disabled:s,className:"btn btn-danger",children:"Delete My Data"})]}),a.length>0&&u.jsxs("div",{className:"mb-lg",children:[u.jsx("h4",{className:"text-muted text-small mb-sm",children:"Chat History"}),u.jsx("div",{className:"user-grid",children:a.map(h=>u.jsxs("div",{className:"card",style:{padding:"1rem"},children:[u.jsxs("div",{className:"text-center mb-sm",children:[u.jsx("strong",{children:h}),h===n&&u.jsx("div",{className:"text-small text-muted",children:"(Current chat)"})]}),u.jsx("button",{onClick:()=>f(h),disabled:s,className:"btn btn-secondary text-small",children:"Clear History"})]},h))})]}),u.jsxs("div",{className:"alert alert-warning mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:"Deleting all data will remove all messages and reset the app."})]}),u.jsx("button",{onClick:y,disabled:s,className:"btn btn-danger",children:s?"Processing...":"Delete All Data"})]})]})},ay=()=>{const e=lt(),[t,n]=R.useState([]),r=L(a=>a.groups.groups),s=L(a=>a.groups.groupMessages),i=L(a=>a.groups.currentGroupId);R.useEffect(()=>{Object.keys(r).forEach(c=>{const f=r[c],m=new Date(f.createdAt).getTime();if(Date.now()-m<5e3&&!t.find(v=>v.groupId===c)){const v={id:`notif_${c}_${Date.now()}`,message:`You were added to "${f.name}"`,groupId:c,groupName:f.name,timestamp:new Date().toISOString()};n(k=>[...k,v]),setTimeout(()=>{o(v.id)},5e3)}})},[r]),R.useEffect(()=>{Object.keys(s).forEach(a=>{if(a===i)return;const c=s[a];if(c&&c.length>0){const f=c[c.length-1],m=new Date(f.timestamp).getTime();if(Date.now()-m<2e3&&f.fromId!=="system"){const h=r[a];if(h&&!t.find(k=>k.id===`msg_${f.id}`)){const k={id:`msg_${f.id}`,message:`New message in "${h.name}" from ${f.fromId}`,groupId:a,groupName:h.name,timestamp:f.timestamp};n(E=>[...E,k]),setTimeout(()=>{o(k.id)},5e3)}}}})},[s,i,r]);const o=a=>{n(c=>c.filter(f=>f.id!==a))},l=a=>{e(ln(a.groupId)),o(a.id)};return t.length===0?null:u.jsx("div",{className:"notification-container",children:t.map(a=>u.jsxs("div",{className:"notification-banner",onClick:()=>l(a),children:[u.jsxs("div",{className:"notification-content",children:[u.jsx("span",{className:"notification-icon",children:"👥"}),u.jsx("span",{className:"notification-message",children:a.message})]}),u.jsx("button",{className:"notification-close",onClick:c=>{c.stopPropagation(),o(a.id)},children:"✕"})]},a.id))})},uy=()=>{const e=lt(),t=L(E=>E.messages.currentUserId),n=L(E=>E.messages.connectedToUser),r=L(E=>E.messages.messages),s=L(E=>E.groups.unreadCounts),[i,o]=R.useState(!1),[l,a]=R.useState(null),[c,f]=R.useState(!1),[m,y]=R.useState(!1);R.useEffect(()=>{t&&i&&(console.log("[App] Loading groups from local storage for user:",t),e(cf(t)))},[t,i,e]);const h=R.useMemo(()=>Object.values(s).some(E=>E>0),[s]),v=R.useMemo(()=>{if(!t)return 0;let E=0;const g=new Map;return r.forEach(d=>{var p;if(!(!d.content||d.content==="delivered"||d.content==="read"||d.content==="status_update"||typeof d.content=="object"&&"type"in d.content&&["offer","answer","ice-candidate"].includes(d.content.type))&&!((p=d.toId)!=null&&p.startsWith("GROUP_"))&&d.fromId!==t&&d.toId===t&&!d.readStatus){const C=g.get(d.fromId)||0;g.set(d.fromId,C+1)}}),g.forEach((d,p)=>{p!==n&&(E+=d)}),Object.entries(s).forEach(([d,p])=>{d!==n&&p>0&&(E+=p)}),E},[r,t,n,s]),k=async()=>{try{await Eg(),o(!0)}catch{a("Failed to initialize storage. Please try again.")}};return i?t?u.jsx(qg,{children:u.jsx(ny,{children:u.jsxs("div",{className:"app-container",children:[u.jsx(ay,{}),u.jsxs("header",{className:"app-header",children:[u.jsx(Qi,{mode:"menu"}),u.jsxs("div",{className:"app-header-actions",children:[v>0&&u.jsxs("div",{className:"app-unread-badge",title:`${v} unread messages`,children:[u.jsx("span",{className:"app-unread-icon",children:"💬"}),u.jsx("span",{className:"app-unread-count",children:v>99?"99+":v})]}),u.jsxs("button",{onClick:()=>y(!m),className:"btn btn-icon",title:"Groups",style:{position:"relative"},children:["👥",h&&u.jsx("span",{style:{position:"absolute",top:"5px",right:"5px",width:"8px",height:"8px",backgroundColor:"var(--danger)",borderRadius:"50%",border:"2px solid white"}})]}),u.jsx("button",{onClick:()=>f(!c),className:"btn btn-icon",title:"Settings",children:"⚙️"})]})]}),u.jsx("main",{className:"app-main",children:n?u.jsx(oy,{}):u.jsx(Qi,{mode:"connect"})}),u.jsx(wf,{isOpen:m,onClose:()=>y(!1)}),c&&u.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:u.jsxs("div",{className:"modal",onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"mb-lg",children:[u.jsx("h2",{className:"card-title",children:"Settings"}),u.jsx("button",{onClick:()=>f(!1),className:"btn btn-icon",style:{position:"absolute",top:"1rem",right:"1rem"},children:"✕"})]}),u.jsx(ly,{})]})})]})})}):u.jsx("div",{className:"app-container",children:u.jsx("div",{className:"app-main",children:u.jsx(Qi,{mode:"setup"})})}):u.jsx("div",{className:"app-container",children:u.jsx("div",{className:"app-main",children:u.jsxs("div",{className:"card fade-in",children:[u.jsx("h1",{className:"card-title",children:"Welcome to SecureChat"}),u.jsx("p",{className:"text-center text-muted mb-lg",children:"A peer-to-peer encrypted chat application"}),l&&u.jsxs("div",{className:"alert alert-error mb-md",children:[u.jsx("span",{children:"⚠️"}),u.jsx("span",{children:l})]}),u.jsx("p",{className:"text-center mb-lg",children:"To begin, we need to set up local storage for your messages. Your data stays on your device."}),u.jsx("button",{onClick:k,className:"btn btn-primary",children:"Initialize Storage"})]})})})},cy=()=>u.jsx(jh,{store:Xg,children:u.jsx(uy,{})}),Sf=document.getElementById("root");if(!Sf)throw new Error("Failed to find the root element");const dy=bi.createRoot(Sf);dy.render(u.jsx(el.StrictMode,{children:u.jsx(cy,{})}));
